using System.Reflection;
using System.Text.Json;
using Chrysalis.Cardano.Core.Types.Block;
using Chrysalis.Cardano.Core.Types.Block.Transaction.Script;
using Chrysalis.Cardano.Crashr.Types.Datums;
using Chrysalis.Cbor.Converters;
using Chrysalis.Cbor.Types;
using Chrysalis.Cbor.Types.Collections;
using Chrysalis.Plutus.Types;
using Chrysalis.Test.Types;
using Chrysalis.Test.Types.Cardano.Crashr;
using Chrysalis.Test.Types.Primitives;
using Xunit;

namespace Chrysalis.Test;

public class CborTests
{
    [Theory]
    [MemberData(nameof(BoolTestData.GetTestData), MemberType = typeof(BoolTestData))]
    [MemberData(nameof(BytesTestData.GetTestData), MemberType = typeof(BytesTestData))]
    [MemberData(nameof(IntTestData.GetTestData), MemberType = typeof(IntTestData))]
    [MemberData(nameof(LongTestData.GetTestData), MemberType = typeof(LongTestData))]
    [MemberData(nameof(UlongTestData.GetTestData), MemberType = typeof(UlongTestData))]
    [MemberData(nameof(TextTestData.GetTestData), MemberType = typeof(TextTestData))]
    public void Deserialize(TestData testData)
    {
        Assert.NotNull(testData);
        Assert.NotNull(testData.Serialized);
        Assert.NotNull(testData.Deserialized);

        byte[] data = Convert.FromHexString(testData.Serialized);
        Type actualType = testData.Deserialized.GetType();

        // Act
        MethodInfo deserializeMethod = typeof(CborSerializer)
            .GetMethod(nameof(CborSerializer.Deserialize))!
            .MakeGenericMethod(actualType);

        object? actual = deserializeMethod.Invoke(null, [data]);

        // Assert
        Assert.NotNull(actual);
        Assert.IsType(actualType, actual);
        // Assert.Equivalent(testData.Deserialized, actual);
    }

    [Theory]
    [MemberData(nameof(CrashrTestData.GetTestData), MemberType = typeof(CrashrTestData))]
    public void DeserializeCrashr(string testName, string serialized, CborBase deserialized)
    {
        Assert.NotNull(serialized);
        Assert.NotNull(deserialized);

        byte[] data = Convert.FromHexString(serialized);
        Type actualType = deserialized.GetType();

        // Act
        MethodInfo deserializeMethod = typeof(CborSerializer)
            .GetMethod(nameof(CborSerializer.Deserialize))!
            .MakeGenericMethod(actualType);

        object? actual = deserializeMethod.Invoke(null, [data]);

        // Assert
        Assert.NotNull(actual);
        Assert.IsType(actualType, actual);
        CrashrTestData.AssertListingDatumsEqual((ListingDatum)deserialized, (ListingDatum)actual);
    }

    [Theory]
    // conway
    [InlineData("85828a1a00ab2d8a1a088004375820afe1a5f4d39f8233dd25aebec5f7c8ddfc10cc994e62141add98a71dc1bd20b45820cca475e401893077582e74e5f694e741e5ec78df16f5ca4f979a2f297d02c54e58202a20b39a975102c19ea1d145df120579a2595ce6d696753424b13eeceb157fdf8258407bd6f9db26624f1facacebf11f2f4bcff78b3d1bab95b7e6ae88826aeb186a0305a9a213f991f2d248cd9c7a117a74f17704cd737c39de43feedaf70fe06f9615850193abfcd83f918b112eea8d805e1a8e4e8a6d76b08fdcd1288ddbd3de579320ad80908bef14417dce27bd784a276ed8908c039be32ca53f18010d7ca421d508a4b6d74282e51c5d67533c2c3698dca071947b6582047ea1d13b6c11b39ff5d42e4ba618ef2915f71ca5377473020fa9c49a9949f018458203fddf3616c3b37526ad1cc9b725af8ab6a8e1bfe09625cf2c8ee15b0c3f3ef3518181904455840347d7dd1764dd65f5a1569cb5c9433b10c09d272bdae8c2ac0fe4c99c4e1fb98918ac4b8f2dcb8a245715c9812246ac404d1757060ff4cd014b900e24df2e400820a015901c048a1826684bb89420cb500b90fafd8d884cd48d9a6973beca42f6afaa6ce3b9c434fbdb5774d64b92e61c52864fc44fa19edbc561744d87dcc0190109a9b210a53599d82cc038f3a008a5293bf4f995be749e89cb47804d2e767e79c00f696f103c89d8a657224184077a63ff956e5b643f49febc01dc0317827d7951b66d58b2bfb5c210076c3d9c735f5684ac8f4242569a32cae2f2d75580e517cc9dc07c20adadb91ef68bff5635c8a3c660d591720fb0c4cf7138199e6324da2f367276fa254dfec78944bc29d026463f0815fd88a2f4eb3efed1582a98c4057e4e361feb6eb97d49822ce11bb3bdc9742a5022b011e44e237406701e422ea8ef33425f708173f8f7ee2960e75228e83ce6912758756d64b5247dcf575003f655a620ff313c96467dd0995a3df7d14125af78fe28f027df1b07c8c0c87f82b6edcd19ee3c218fc467aa810dc731be2231e7254b86e9ad003386652a38c183ba7ae5f5ebb37e42965267a596c4813731906a0448e0521978f52458453a53083825ac60569e53fd7aefe0dcd903ef42452266fb9e4c6d78babbeed35be642a64ac258f73f4ffe1fb5b86b7e9324fb7ef09c1fc4418f0f6f605017b306d5a15145ff9788bef8da7008182582014a8da74669978b51cd7c1cfc640d2a33b01aa2253a644a217ed6bff079e828b000184a300583911c3e28c36c3447315ba5a56f33da6a6ddc1770a876a8d9f0cb3a97c4c7661f9986c5da3494fde371b8033630d2ed0fbeba32d79405a5a84bb011a1908b100028201d818590130d8799fd8799f581c0bf3e95ead1b1873bd89cbf95a476ce5b5cd4d4de7aad603c14bb547ffd8799fd8799f581c0bf3e95ead1b1873bd89cbf95a476ce5b5cd4d4de7aad603c14bb547ffd8799fd8799fd8799f581c7661f9986c5da3494fde371b8033630d2ed0fbeba32d79405a5a84bbffffffffd87980d8799fd8799f581c0bf3e95ead1b1873bd89cbf95a476ce5b5cd4d4de7aad603c14bb547ffd8799fd8799fd8799f581c7661f9986c5da3494fde371b8033630d2ed0fbeba32d79405a5a84bbffffffffd87980d8799f581cf5808c2c990d86da54bfc97d89cee6efa20cd8461616359478d96b4c582016e50e88ec85c5a4c399e6ef6dd72f6314e20f10a80c27b2bb0897ac4fb52bfbffd8799fd87a80d8799f1a18cba800ff1a00020041d87980ff1a001e8480d87a80ff82583901ffebcc9e31749eb5803e396202d84e3b436ec362463b2fd70fb4c8819086fc9117b2dadb43da1f922c46039a47d51bff09433dcdd18f1cce1a001fbd00825839010bf3e95ead1b1873bd89cbf95a476ce5b5cd4d4de7aad603c14bb5477661f9986c5da3494fde371b8033630d2ed0fbeba32d79405a5a84bb1a001e8480825839010bf3e95ead1b1873bd89cbf95a476ce5b5cd4d4de7aad603c14bb5477661f9986c5da3494fde371b8033630d2ed0fbeba32d79405a5a84bb1a009ecc99021a0004358d031a08801224075820360dded0dc97b71db4f18c3db30dc925293047f9370d96fbc2c8cf5335af4955081a088004140e82581c0bf3e95ead1b1873bd89cbf95a476ce5b5cd4d4de7aad603c14bb547581c7661f9986c5da3494fde371b8033630d2ed0fbeba32d79405a5a84bba40082825820dee9173eebd35cd945e72009efe42e8bfc6e28196f0efecc1e7fbced03df018000825820dee9173eebd35cd945e72009efe42e8bfc6e28196f0efecc1e7fbced03df0180010182825839011bc84ae1a6eebae50426feba647c7fbbe193be27d2de7a1a349b9a97f96b5d7c0f97fc45592807eeaa85afe337001d63b49d38647bb0b0a1821a0016b066a2581cde5837d0ec2eecdbaf335436a72d0c838cf0346a371a311e6875e7e2a14d3637306137353364316636663901581cf0ff48bbb7bbe9d59a40f1ce90e9e9d0ff5002ec48f232b49ca0fb9aa24f000de140656c6663656e74697665730152000de140676e6f627564797370656369616c01825839011bc84ae1a6eebae50426feba647c7fbbe193be27d2de7a1a349b9a97f96b5d7c0f97fc45592807eeaa85afe337001d63b49d38647bb0b0a11b0000000272e3fd8d021a0002c95913a18202581c1b44737f61e531f76bc944a132d064f085bf5723615b6a7d0515707ba1825820fff0df644d328a5367212f45bab59060bde3c4091dc96c723062896fd6197314008201f6a700818258201097dfc662182248ec7447462e8733a582ac7a71d4219e6699c1a5b619f9969a030184a300583911c3e28c36c3447315ba5a56f33da6a6ddc1770a876a8d9f0cb3a97c4ca2fa605988917f9a96f2df45549942548f2792db076cd153a2226802011a14250c7e028201d818590130d8799fd8799f581ca79e3310327ff57aec9921c729d9a81389fe10aaa398fda3e5ae0fb3ffd8799fd8799f581ca79e3310327ff57aec9921c729d9a81389fe10aaa398fda3e5ae0fb3ffd8799fd8799fd8799f581ca2fa605988917f9a96f2df45549942548f2792db076cd153a2226802ffffffffd87980d8799fd8799f581ca79e3310327ff57aec9921c729d9a81389fe10aaa398fda3e5ae0fb3ffd8799fd8799fd8799f581ca2fa605988917f9a96f2df45549942548f2792db076cd153a2226802ffffffffd87980d8799f581cf5808c2c990d86da54bfc97d89cee6efa20cd8461616359478d96b4c5820dab0257ab4be2b39d640f2caf7582ea3d84fd98445c690dcc68d5312d3095887ffd8799fd87a80d8799f1a13e8037eff1ae98d0480d87980ff1a001e8480d87a80ff82583901ffebcc9e31749eb5803e396202d84e3b436ec362463b2fd70fb4c8819086fc9117b2dadb43da1f922c46039a47d51bff09433dcdd18f1cce1a00145ad482583901a79e3310327ff57aec9921c729d9a81389fe10aaa398fda3e5ae0fb3a2fa605988917f9a96f2df45549942548f2792db076cd153a22268021a001e848082583901a79e3310327ff57aec9921c729d9a81389fe10aaa398fda3e5ae0fb3a2fa605988917f9a96f2df45549942548f2792db076cd153a22268021b00000002aa8398fa021a000436ed031a088012170758202dc628086810b33c5d41765f60916e10dd75a406a4f57db79f2f4c038cb9a95f081a088004070e82581ca79e3310327ff57aec9921c729d9a81389fe10aaa398fda3e5ae0fb3581ca2fa605988917f9a96f2df45549942548f2792db076cd153a2226802a50082825820a916e572536214c6a446402b403c4bd8511fc0a551c5d84c0070c9331dfbd13b00825820a916e572536214c6a446402b403c4bd8511fc0a551c5d84c0070c9331dfbd13b010182825839015b958114bb3439600fa7e1552d1014f1751463e621da7671c70fda875b958114bb3439600fa7e1552d1014f1751463e621da7671c70fda871a000f4240825839015b958114bb3439600fa7e1552d1014f1751463e621da7671c70fda875b958114bb3439600fa7e1552d1014f1751463e621da7671c70fda871b000000043671bcc9021a0002d7fb031a3b9aca0005a1581de15b958114bb3439600fa7e1552d1014f1751463e621da7671c70fda871a006984a0a50081825820b9e958cece18f29743d08b95f67f6c0fb403dca234cc4654bef2f990d484e5f9010182825839010ea1487038b530012c92c8d5cad37ffa11ae8e33bcc9dbb42515b14ca4e7266de776411f3b7dd616c82a39f3169c12e77f38b03d921daceb1a05f5e100825839014185913e9612fb28c0b89d3690c8c105776aac241eb481607bff6006f2a3bcf5f3be09d75ffc79a8f1ebaa0c3c3f545bc1d8a0afd4871d921af74f81d5021a000295c9031a08802027081a0484c725a5008182582012bbb3146ac19f7b61886529242013d95ad460f899850cbaa4a7c4f9de64ccbe00018282583901a4b13d790cc31a780985d23633dc19cc25a74ff252870d555b63ae540faa96e4972d5198ad919b81932a20d00a49b84f8b65b05890957f9e1a0bc72300825839014ae8d4a9874bfa493c85bc5cb02045acabe82d172cfa0a46dbe54ce3cb76a7492f22139fc58ccf64ede74e25bb35cd39ad003562f77f3ee61a000fb8af021a000296d1031a08805867075820d36a2619a672494604e11bb447cbcf5231e9f2ba25c2169177edc941bd50ad6ca3008182582086a6c5a72bb617464e29b6658868a5ddcf7cabd0536afd51a1fa74040f871bbd02018282583901848747584fc255392291b847fa8ba334025c2ec152e1c3377e7ffd4a530eb0f5442866251b2f0290dfa944f3f57f966e5902bfca9c724a011a00155cc0825839019ea588dd995982843470ae162ff223ca87c024421aa4b22879bddf90bd980ae9b4d120d607d71f26d39a247d6828aa647e5ff5a69a411e2b1a03090a41021a00029075a50081825820debc4983b5ad43275e18cb3f4b41a9399d99d08353a26863bb9905c8917cb45201018282583901bf455580831d63ca9789e606628a37adb7db5db15cb69569913dfc3047fd7e9bea97a0748a9c26c504d8635af675d01af61eba028281defe1a1dc2468b82583901583c6f9580fc41c0369f0e870c481c34ee5df9d06d62ac82563e82ffebf7a44ffaaa5199e55cbbc16db8219d94212af6b80c18ff4eb9a7c21b00000001ee30a922021a000295c9031a08801f95081a04ec3539ab00818258200107cad92ce8fe0c1e7fff31945f2f6187bba5b79a52b47ba4d7dfc48b4eeab40401818258390105654a7f25bfbc065fe81671fa3c06db6d80f26fcf1e3109d6073983125e047be2f67197a817a9dfb2017cd52559419630feb21beac54d2b1a3bd44e09021a000384f7031a08802e58075820039c21bb80e729f444f6f5ab66b7e6d4c1deca6ece1cafe940209783bba2a32d0b582002b4dbcdbb671e62b2c4e5bd39082ca85c181f349c48d1a588670300b4b6dcb80d818258208e0f8596c10b6fa8ddbd81075fc804686a2a1dc78507a9fd9df3645b1e037503000e81581c05654a7f25bfbc065fe81671fa3c06db6d80f26fcf1e3109d6073983108258390105654a7f25bfbc065fe81671fa3c06db6d80f26fcf1e3109d6073983125e047be2f67197a817a9dfb2017cd52559419630feb21beac54d2b1a3b8802c9111a004c4b401281825820cf4ecddde0d81f9ce8fcc881a85eb1f8ccdaf6807f03fea4cd02da896a62177600a60082825820ca88b5f66b850aa6838e43424722dc754305b03578b1e5d513ead91b40695bc700825820ef12274debe9e6eb87438fc82c7bacc741cf564053f9dd5838de721b2db4a008020182a300583911c3e28c36c3447315ba5a56f33da6a6ddc1770a876a8d9f0cb3a97c4c50a0a221d0a32491f5228cd307967a6c485265e2f387faf12213a88101821a003bf1daa1581cf5808c2c990d86da54bfc97d89cee6efa20cd8461616359478d96b4ca15820bc53f5c2a8cf3ef64081d2ec8c74333d567fc7ef271c1b97d21fdd53a2c5c8891a0fa182f6028201d818590130d8799fd8799f581c3a445b3c5489bfa9781494b0294acd26b7aa90d30c184961fc7c6853ffd8799fd8799f581c3a445b3c5489bfa9781494b0294acd26b7aa90d30c184961fc7c6853ffd8799fd8799fd8799f581c50a0a221d0a32491f5228cd307967a6c485265e2f387faf12213a881ffffffffd87980d8799fd8799f581c3a445b3c5489bfa9781494b0294acd26b7aa90d30c184961fc7c6853ffd8799fd8799fd8799f581c50a0a221d0a32491f5228cd307967a6c485265e2f387faf12213a881ffffffffd87980d8799f581cf5808c2c990d86da54bfc97d89cee6efa20cd8461616359478d96b4c5820bc53f5c2a8cf3ef64081d2ec8c74333d567fc7ef271c1b97d21fdd53a2c5c889ffd87f9fd87980d8799f1a0fa182f6ff1a1401baf2d87980ff1a001d6d5ad87a80ff825839013a445b3c5489bfa9781494b0294acd26b7aa90d30c184961fc7c685350a0a221d0a32491f5228cd307967a6c485265e2f387faf12213a8811a0077d96b021a0002ec11031a08802e190758208ab03f8298a5d477d596d1fa7c72f97b76631acacfbfe72a82ef15f8f542a19e12818258206c024ba3a285f6c9f7d152c5a80ab30ceaaf38d476fd4e6998a69b252021516800aa0082825820b638275dcff30ba9609d075370b9465559490b416fb1903f86d9d9716333239f0082582006bc2c135466a75405882eef0890ddc0ea1ec194960cb6cd8461c0fa25130ef50001818258390104ba52d8296e8e9dfc7dcd5e72e4402cbe419cfd46bc96ba80ab383d48accbfa8af8f4d333c43c57e6ac426a4d2d510de286f5439e2c0be71a05569713021a0006b36d031a088007af0b582009d9598c50f8ca542d3776fafd0aa284399d00ed9fcef68ad53a4fec516707080d81825820d1df367fe276ff7feb7e3195f2e7317bf95550687c4ffa310fee58d233a5216a020e81581c04ba52d8296e8e9dfc7dcd5e72e4402cbe419cfd46bc96ba80ab383d108258390104ba52d8296e8e9dfc7dcd5e72e4402cbe419cfd46bc96ba80ab383d48accbfa8af8f4d333c43c57e6ac426a4d2d510de286f5439e2c0be71a00451632111a000a0d2412818258209a32459bd4ef6bbafdeb8cf3b909d0e3e2ec806e4cc6268529280b0fc1d06f5b00ab00d901028582582059f3338b6dddd7a36557a40cd5c561008c543f19ae0d12f2ffdce4bafe71b953008258206089e3a966e30b84223ed30026f53256d908988842f7f9e04e21c3c01c283cd0008258206e982b87878460e3943983e70dc3126b9dddbb4795ce7cfdf34daaca2e395daa04825820839d80ffb384e32cb2bb9d3877f3ae364a2895bc92adba8ab9de922c5799b03c00825820a7d07fe624fc6abf9f5fe573455af750bfd182e0da0e7d6c231f3756dda7bcf9040dd90102828258206e982b87878460e3943983e70dc3126b9dddbb4795ce7cfdf34daaca2e395daa04825820a7d07fe624fc6abf9f5fe573455af750bfd182e0da0e7d6c231f3756dda7bcf90412d90102828258207e4142b7a040eae45d14513000adf91ab42da33a1bd5ccffcfe851b3d93e1e5e01825820c8c93656e8bce07fabe2f42d703060b7c71bfa2e48a2956820d1bd81cc936faa00018582583901f16cf37c331bff55ba75328453092d35cc38dc8c447684963bc98f55b862e5b3e67d75c9295b09d659982b0e157072156cbcb820b37ca8dd821a0022b9e4a6581c5817c34e5702473304f3cf676299176d3824e55b8c0bfa94830429fda146019b76daa80001581c8db269c3ec630e06ae29f74bc39edd1f87c819f1056206e879a1cd61a14c446a65644d6963726f5553441a00a55ee4581ca0028f350aaabe0545fdcb56b039bfb08e4bb4d8c4d7c3c7d481c235a145484f534b591a040eddf4581cb686e45c9181618e20e26cf0e2fc1e9f336bb0df914e645b5adad5bda146019b76daa80001581ced8074e8768199746ee58aed1f8b005eaa812afa44a268230603e969a146019b76daa80001581cf94fd008635cf307663aadd995ed69d5fbbfd65f84679fc38254d664a146019b76daa8000183583901f16cf37c331bff55ba75328453092d35cc38dc8c447684963bc98f55b862e5b3e67d75c9295b09d659982b0e157072156cbcb820b37ca8dd1a004ceaee5820cc00000000000000000000000000000000000000000000000000000000000000a3005839316b9c456aa650cb808a9ab54326e039d5235ed69f069c9664a8fe5b69b2f6abf60ccde92eae1a2f4fdf65f2eaf6208d872c6f0e597cc10b0701821b0000000f16ffe58da3581c09f2d4e4a5c3662f4c1e6a7d9600e9605279dbdcedb22d4507cb6e75a1435350461b00000511d36274c5581c74f47c99ac793c29280575b08fe20c7fb75543bff5b1581f7c162e7ca14a5350465f4144415f4c511b7fffff76764304bf581ca80022230c821a52e426d2fdb096e7d967b5ab25d350d469a7603dbfa14b5350465f4144415f4e465401028201d8185890d8799fd8799f581ca80022230c821a52e426d2fdb096e7d967b5ab25d350d469a7603dbf4b5350465f4144415f4e4654ffd8799f4040ffd8799f581c09f2d4e4a5c3662f4c1e6a7d9600e9605279dbdcedb22d4507cb6e7543535046ffd8799f581c74f47c99ac793c29280575b08fe20c7fb75543bff5b1581f7c162e7c4a5350465f4144415f4c51ff1903e58000ff835839011931cb9eee235ed973ae21c9482936a28cdf882cad19c658c3c57c49f770dd26d10f523a83d5967613128a3b486fd3479f6ad4d9b4e39b801a018b084d582020a0255f62f30b76a99fedad498353f5629c3c6aa75f4d07a9020100c697d1a782583901f16cf37c331bff55ba75328453092d35cc38dc8c447684963bc98f55b862e5b3e67d75c9295b09d659982b0e157072156cbcb820b37ca8dd1a0099b55a1082583901f16cf37c331bff55ba75328453092d35cc38dc8c447684963bc98f55b862e5b3e67d75c9295b09d659982b0e157072156cbcb820b37ca8dd1a00d275cd111a000eb8b1021a0009d076031a08802b370ed9010281581cf16cf37c331bff55ba75328453092d35cc38dc8c447684963bc98f550b5820874e92770c1ee9e79d3a8506f1a31dbac961aeaa0f1f81feb681b36899f4a80d075820606a8b7f99fb20e45bdce4e5b2e00ea010893a0c0ff362acfd1d7e5c7e747795ab0083825820013b4c1400d264d70f8629850a947ef633836a8d9962619182c189200b7580280282582054e2edae6fb4149782f9f6cac028e1180fe0ed7b66077e8faea4aa33568ee1d4008258209f54d98018fc55f468b3bcb4e1317da5ebf93c0ab7a27691134909b2712edced00018383583911e1317b152faac13426e6a83e06ff88a4d62cce3c1634ab0a5ec1330916b485a6b812feb6e2abd0440bff46e1b8b6eebb6cebb4096dc732f9821b00000048ea0fcd51a4581c0be55d262b29f564998ff81efe21bdc0022621c12f15af08d0f2ddb1a158202fbc26cfc11e2d1ac6ea99da484e97c4eb13e7587c1175afe4251d26f1adf4bb01581c13aa2accf2e1561723aa26871e071fdf32c867cff7e7d50ad470d62fa1474d494e5357415001581ce4214b7cce62ac6fbba385d164df48e157eae5863521b4b67ca71d86a158202fbc26cfc11e2d1ac6ea99da484e97c4eb13e7587c1175afe4251d26f1adf4bb19099b581cfc11a9ef431f81b837736be5f53e4da29b9469c983d07f321262ce61a1444652454e1b00000006f50ba30d58204ea88ebd8a9e51d4b6cdd51eda3f5aad1499a4bdffe334fab4a3cc8d1d8ee3dd8258390155c4106f5d20edf51335dc225b57d0ffff41099eceb0d1052d56504753f5304dfb9bfe03e1585105173afbec3e25a8d47357eaa468de0029821a001e8480a1581cfc11a9ef431f81b837736be5f53e4da29b9469c983d07f321262ce61a1444652454e1a010856ce82583901bcb15ea0ccde1a3e6bca4472724e4017e173f94e97a60d3e682a6e9d52563c5410bff6a0d43ccebb7c37e1f69f5eb260552521adff33b9c2821a1615a8bba1581c2f2e0404310c106e2a260e8eb5a7e43f00cff42c667489d30e179816a14d3137333532303336303030303001021a000bcfbc031a0880080f0758205160f88b929bf8a6c57c285b889488f9137c0ef3cfd0bcf408a10020e69146d5081a088004270b58206e1068e45c5685a6b2e5f7146e70067e3be37e764ec28484724231cf4149f8980d81825820013b4c1400d264d70f8629850a947ef633836a8d9962619182c189200b758028020e81581cbcb15ea0ccde1a3e6bca4472724e4017e173f94e97a60d3e682a6e9d1082583901bcb15ea0ccde1a3e6bca4472724e4017e173f94e97a60d3e682a6e9d52563c5410bff6a0d43ccebb7c37e1f69f5eb260552521adff33b9c2821a15b6a8b7a1581c2f2e0404310c106e2a260e8eb5a7e43f00cff42c667489d30e179816a14d3137333532303336303030303001111a004c4b408da100828258203b85c71de38f1773333b8a1e4fb50df525e08191778b80bf2ed022366ed9551f5840f598fc84d622964b499e1996fd23cd99c24837d8b27d3a67d7387ae45d9204e883743d869088429a5a54417743e5fb5ab7d7069bf5a29485bc80446ec8fe5a0e82582028f62041a9a176792e9f4d26926b3509c1a83b06a0c2c94d32487694ed7a4e0b5840251e25c59290609e51ac70bf7be43a467845fd7e9db96e6e7f4ad88e4ad2bcb8e647ee1269e069dbc8243780e98cc17591724729eda738178be37b64ee1ff00ea1008282582062ed0bc7044d082ecbb4ddd1e94899a31ae1e79b67d16a4da81a65056a888f46584043d6935ef8f8cded8ab543606a4ab7ccbe6fd901d7cec274f90e05e9c04d4fd2abcc1da1075f69f3a4f03de3ba9524adcdcb2c684a25c4cfcbd98e06c155150b8258206f5f769c9cd6bc2b0dabf4ac4926f99c614a916414336fea030f45643c0d5542584013cbaa468addda2e1d8de62cda23bd1286f0f33216aa6b4d3977a830768dcb464fc4935771f452e490723ff6473e19382fbd2662bfe404a9cf1e0eed6a946e0ba10082825820f8c6ca964021cf3537ea8af8866024a58a9972feac0a54b3c89f076ee6c6cf185840d9a9ffa48f885516bf83f73d63dd15455be03b1960c457b1353d5e0e3cc44d06cea50cf888774f7fe7e5998197f21d1ad69cc6f02a7e2fc8053f4c4c45021c01825820c950d32cc3314d306c2888da9c13250649b4acdda88cb8b027a9e881d586d904584091a222a480c415f73694cd5a2775bec89940a291247c50a4db41b5a4d4ce3ce6d008442db7a3f4afe93f5bd7c610d383802889ef2a0957610e4f966d520d7f0ca100838258201d85e0b99c3edb1b5ed4f522023787ab7441a55f491ef5d2a2f2eec4427bdfa158406ce7fd14820f9679812426f44b8738e7d915617956204b53b7e19d4ac6cd374c716ee8c1b007a4fc59a1e60f0b21441158e46957d893f53416cbd7e8b388ce078258201d85e0b99c3edb1b5ed4f522023787ab7441a55f491ef5d2a2f2eec4427bdfa158406ce7fd14820f9679812426f44b8738e7d915617956204b53b7e19d4ac6cd374c716ee8c1b007a4fc59a1e60f0b21441158e46957d893f53416cbd7e8b388ce078258201d85e0b99c3edb1b5ed4f522023787ab7441a55f491ef5d2a2f2eec4427bdfa158406ce7fd14820f9679812426f44b8738e7d915617956204b53b7e19d4ac6cd374c716ee8c1b007a4fc59a1e60f0b21441158e46957d893f53416cbd7e8b388ce07a1008182582083d1cae2613594aa88c1c7719f129cc567e66b3dc15d95a217577b30766d56ae5840abdfd9912ff9d6ecbbf860c8fde8b749896c233abc3b510aedce129a4aa752daf5a3181e72cd1bc9fbcf47ee96f19894b314e3a7fc41bcb5435c2e92e9367006a10081825820c6e7e64de649678c146efe547eeffe006604844bbbd32597b09c8d455b32f72b5840419a7523845bbe6de54dcc72113edf98c302e9b3f5987ae25a2cd924e839d2df585916be2e7ad09e2b4671194a8707d32c6098400765a79372c945b93892ad0ea1008182582057e9e167f807cf4f5f9396bbbaf57aaff4610f2ae094c78a64368a34ecaacdc958403f194b9ad2d8136f02397a49c4677e2d7284afeee30d73078713efee7b9a178322a9893bdb8cd30c61f274e7e5258b86a4d876c6d9ddfab3d351155580c48803a100818258205fc6d316dafaba9bc17cb1ea25282f65c1cee4bb3a21b6150dc54b6b3c1ce7e2584076c910d02abe3fc1f8d21cc8cf9d31d256703eae2298307d82165a0b420d16ce7c9345dad694808dec2ae59e6ddfc6b542de9badace1596e3ae20ee661d82f05a2008182582027f467bc52e5af73037069367857d6976079096d8a97f17fafdaf4639e555eef584082df6d5a4e47041648a0677cf664ae23227aa325a71adc0b3256c5d2f33fefc88d2482326303681732ec6e0bc0b923106246e6ea81698dd7aaf35804d982940a0581840000d87a80821a000258b31a02a25137a10081825820e5193b240cb6316ccb07b1eb46a3c5f547323dc06912f294ddf10a13082396745840140b074885ddc97de3d9638632e4c03b9637364c752a9c5d4e1b5655526b85b1d781dde1104daac674748d997dabfd7493ffcbc5b484207869cede457a086d0ba3008182582064e6487a723416572288946eb49e5194643a00b63109e7faadd4b6a5579fe56d5840d6d2d23b98aa793547c895342f1d861d61af90689345dbbb5b83abe979407683bc6ced3236a47540263beeaa4276dd797d0bc81a2693e92139cf1d4ff68ae4030482d8799f581c04ba52d8296e8e9dfc7dcd5e72e4402cbe419cfd46bc96ba80ab383d9fd8799fd8799fd87a9f581c84cc25ea4c29951d40b443b95bbc5676bc425470f96376d1984af9abffd8799fd8799fd87a9f581c2c967f4bd28944b06462e13c5e3f5d5fa6e03f8567569438cd833e6dffffffffa140d8799f00a1401a000f4240ffffd8799fd8799fd8799f581c18a3cd60d665240aba6d4a5704939ff32f2c9b6a2848e953745106a3ffd8799fd8799fd8799f581cc6a54aa4a07e621020eb66804479d7e0634c012aa9d6310141cb6ccbffffffffa140d8799f00a1401a00124f80ffffd8799fd8799fd8799f581c04ba52d8296e8e9dfc7dcd5e72e4402cbe419cfd46bc96ba80ab383dffd8799fd8799fd8799f581c48accbfa8af8f4d333c43c57e6ac426a4d2d510de286f5439e2c0be7ffffffffa1581c1ec85dcee27f2d90ec1f9a1e4ce74a667dc9be8b184463223f9c9601d8799f01a0ffffffffd8799f581c04ba52d8296e8e9dfc7dcd5e72e4402cbe419cfd46bc96ba80ab383d9fd8799fd8799fd87a9f581c84cc25ea4c29951d40b443b95bbc5676bc425470f96376d1984af9abffd8799fd8799fd87a9f581c2c967f4bd28944b06462e13c5e3f5d5fa6e03f8567569438cd833e6dffffffffa140d8799f00a1401a000f4240ffffd8799fd8799fd8799f581c18a3cd60d665240aba6d4a5704939ff32f2c9b6a2848e953745106a3ffd8799fd8799fd8799f581cc6a54aa4a07e621020eb66804479d7e0634c012aa9d6310141cb6ccbffffffffa140d8799f00a1401a0016e360ffffd8799fd8799fd8799f581c04ba52d8296e8e9dfc7dcd5e72e4402cbe419cfd46bc96ba80ab383dffd8799fd8799fd8799f581c48accbfa8af8f4d333c43c57e6ac426a4d2d510de286f5439e2c0be7ffffffffa1581c1ec85dcee27f2d90ec1f9a1e4ce74a667dc9be8b184463223f9c9601d8799f01a0ffffffff0582840001d87980821a0005a5581a056fd935840000d87980821a0011e8721a11fd09b5a300d90102818258201556bf2514165cd54f9f6d83fc0c520fd9de34e805004be2a50432b9cac6e4b0584025f43d0e08023d1967545c8af0888bc0116d5dfcfdf981aa0c87c5d398eedc7c73477e6575371b5cee21ee4df35471601a383a6551377faf5eaa528366da5c0604d9010282d8799fd8799fd8799fd8799f581c1931cb9eee235ed973ae21c9482936a28cdf882cad19c658c3c57c49ffd8799fd8799fd8799f581cf770dd26d10f523a83d5967613128a3b486fd3479f6ad4d9b4e39b80ffffffff4040581c09f2d4e4a5c3662f4c1e6a7d9600e9605279dbdcedb22d4507cb6e75435350461a015fd0fed87a801a00286f90ffffd8799f4f4d7565736c69537761705f76322e32ff05a282000182d87a9f00ff821a0024eaca1a20994d3682000382d8799f0203ff821a000686cd1a0982d4a5a400818258200303157375f23161027902abff500a6268c00a69f45f7bfe5adbc2f70f15df9458401e81a7e7690ad32494e3177f2d6b687cafbe234178e6c8822642bcd0815bf21dcf0213e873c3bb8062c392ab413672c23b87c72f576185c46f9813593ec28c05038259014f59014c01000032323232323232322223232325333009300e30070021323233533300b3370e9000180480109118011bae30100031225001232533300d3300e22533301300114a02a66601e66ebcc04800400c5288980118070009bac3010300c300c300c300c300c300c300c007149858dd48008b18060009baa300c300b3754601860166ea80184ccccc0288894ccc04000440084c8c94ccc038cd4ccc038c04cc030008488c008dd718098018912800919b8f0014891ce1317b152faac13426e6a83e06ff88a4d62cce3c1634ab0a5ec133090014a0266008444a00226600a446004602600a601a00626600a008601a006601e0026ea8c03cc038dd5180798071baa300f300b300e3754601e00244a0026eb0c03000c92616300a001375400660106ea8c024c020dd5000aab9d5744ae688c8c0088cc0080080048c0088cc00800800555cf2ba15573e6e1d200201591e1b591e1801000032323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232222323232533533355333573460cc0042646424446600200a0086eb4d5d09aba25002375a6ae85400454ccd5cd1832801099091118010021bad357426aae7800c54ccd5cd1832001099190911198018028021bad357426ae894008c0ccd5d0a80082e1119191a827911111a80391191111aa99a9824806108008b1119191a9a9a80103102d91191919191919191aa99a982a89119982d91299a99820a8071a80103409980200100088008008020b03c9111919191919191919191919191982a299a8050a99aa8100999ab9a3094013303a307908101330820106700b06706e0060063305433355307908101305c05a305953353502b2233500206e2071210011635014222222207a33054353501422208e0122350012322533355333500a2153335004215333500c2130054984c011261533350052130054984c0112603c04f15333500b2130044984c00d261533350042130044984c00d2603b153335003205003a04f153335003215333500b2130044984c00d261533350042130044984c00d2603b04e15333500a2130034984c009261533350032130034984c0092603a153350010700820108201070253335002215333500a21533350042133303a03b00200116161604e15333500921533350032133303903a00200116161604d04e33054330500153306f00b02733054330533306301602548008cc150cc14ccc18c02c0952002330543305333063001010002330543333084012222533500315335002135001222223305d3305c0053306c01402b3305d3305c0043306c01402a3305d3305c00300c3305d3305c0023306c0140193305c001304800d0910122153350041622153350071622153350081622133300c003001323232323232323533307d0050070272222225335330743305100248000cc1440052000161333335003235500b2222223501d222223501b22235051222223232323232323232323253353308b013308b013306e00848000cc1b802920003308b013306d00201e3308b0153353306e00a00315335330870100e07013308b013308a013309a010110703370066e0402800c060cc22804cc2680404411c0084cc22c04cc22804cc268040441c0060cc22c04cc22804cc2680404411c008cc22804cdc08050019984d008088070a99a998370041a802055008a99a99843808078380998458099845009984d0080883819b80337020106a008154020306611402661340202208e00426611602661140266134020220e003066116026611402661340202208e004661140266e04020d40102a804cc2680404403c4cc22c04cc22804cc2680404411c008cc22804cc268040441c0060cc22c04cc20c04048070cc2080404006c4c8c8c8ccccc2c80400c008cdc019b800180050013370002e002a66a0082605466e0800c00840594cd400c4cccc0a005406406005c520003370002e00866e0005cd40102a80458c27c04028d40082a404d40042a404d54cd54ccd5cd19b8900148000278044c94ccd5cd19b890014800027c044c94ccd5cd19b8900148000280044c28404ccc2ec0400c0080054ccd5cd19b8900400610041006350020ad0121001160b901350010b0015333573466e2400400c54ccd5cd19b880010031330a8010023370666e080080400444cc2a0040080104cc2a004cdc199b820040110100043370666e080040380414cd4cc1fc01c1a04cdc0998490081100399b80011010133092010220073370666e080040300354cd4cc1f40101984cdc0998480081000219b8000f00e133090010200042235500c2222223501e222223501c222350522222232323232323232323253353308b013306e00748000cc22c04cc1b4008074cc22c04cc22c04cc22804cc2680404011c008cc22804cc268040401c005ccc22c04cc20c0404406ccc2080403c0684c8c8c8c8ccccc2cc0400c008cdc019b800180060013370002e002a66a00a2605666e0800c00840594cd40104cccc0a405406406005c52000350020b301350010b60153353330690870100e01e1330ae013370002c00e02a26615c0202c66e0005401c58c27c04024cdc199b820010123370200400266604400600266e0ccdc0981219b803370400400466e08cdc119b82337049004241941e90680780200198600080199b824801120ca0f350050a70130be01001350030a60153353308001001069133702661260204600266e000440404cc24c0408c004d400428804d54cd4ccc1801f80140544ccc2d0040140340304ccc2d004010030034888d400c88ccc2e40401401000c88d54030888888d407888888d4070888d414888888c8c8c8c94cd4cc21804cc1a4009200033086013306800101833086015335330820101906b13308501330950100b0193370000202426610c026610a026612a020160320026610a026612a020160d60246610c02660fc01802c660fa01402a2a66a6660c8104020120322666661540266e00044008cdc08080008078070068999998550099b810110013370002000401e01c01a2c66603e6a00614c026a00614a02002a66a66100020020d2266e04cc24c0408c004cdc0008808099849808118009a800851009aa99a99983003f00280a899985a00802806806099985a008020060069111a8019119985c80802802001911aa8061111111a80f111111a80e1111a82911111191919191919299a998440099835802240006611002660d80020086611002a66a66108020360da266110026610e026612e0201a03666e00068050cc21c04cc25c04034014cdc08020008a99a99842008028368998440099843809984b8080680d80d19843809984b8080680299b8033702008002028266110026610e026612e0201a03603466110026610e026612e0201a00a66e04010004cc21c04cc25c040341b4050cc22004cc20004038060cc1fc03005c54cd4ccc1982100402c06c4ccccc2b004cdc000980099b8101201a01101000f1333330ac013370202603466e0004800404404003c594cd54ccd5cd19b880190011309f013370066e0ccdc119b82002019483403ccdc119b81001019483283d200209e012100116350040a601350030a60153353308001001069133702661260204600266e000440404cc24c0408c004d400428804d54cd4ccc1801f80140544ccc2d0040140340304ccc2d004010030034888d400c88ccc2e40401401000c88d54030888888d407888888d4070888d414888888c8c8c8c94cd4cc21804cc1a4011200033086013308601330680030193306800201833086015335330820100906b133086013308501330950100b009337000060246610a026612a020160100042a66a66104020100d626610c026610a026612a0201601066e00008048cc21404cc2540402c02400c4cc21804cc21404cc2540402c02400ccc21804cc21404cc2540402c020008cc21404cc2540402c1ac048cc21804cc1f8030058cc1f40280544c8c8c8ccccc2b40400800ccdc019b8101200700133700022002a66a0082604a66e0800800c40414cd400c4cccc08c03c04c048044520003370202400866e0404000858c26804010cdc199b8200200e00d3370666e08004038030cc244040840f8888c8cdc199b820010033370066e0801120d00f0013370400290650791112999ab9a3371200890000a4000264a666ae68cdc48008028a4000264a666ae68cdc4800a400029000080099b833370400466e04004014cdc019b8200148028014c014cdc10018011192999ab9a33710004900004d808a999ab9a30a10100214800054ccd5cd1851008010a40042a666ae68c28c04008520021330010023370066e0c009200448008c254048894ccd5cd19b880010021330030013370666e00cdc1802000800a4008200426660f2002006046464a666ae68c27c04d55ce80089919191919191919191919191919091999998008050048040028018011bad357426ae88008dd69aba100135744010a666ae68c2b4040084c8c8488888cc01001c018dd69aba135744a0046660f8eb9d71aba15001153335734615802004264642444446600200e00c6eb4d5d09aba25002375a6ae85400454ccd5cd18558080109909111118028031bad357426aae7801854ccd5cd18550080109919091111198010038031bad357426ae894008ccc1f1d73ae35742a0022a666ae68c2a4040084c8c8488888cc00c01c018dd69aba135744a0046660f8eb9d71aba150010a101135573c00a6aae74010cc1e1d71aba100530743574200a60e66ae84014dd51aba1001357440026ae88004d5d10009aab9e0010970137540026a002104026a00810c0260c82446660d444a66a660b066606c0d46a004104026a03c1040266606c0a06a6a0040fc0ee05e266008004002200200202a60c82446660d444a66a660b066606c0a06a0040ee6a0200ee66606c0a06a0040ee05e2660080040022002002026666660f0660c602c044660c602c04203e660c602c02003c660a8660a0044607a008660a8660a0042607c008660a8024660a8a66a60c82446660d444a66a660a66aa03a104026a6a0040ee1040226600800400220020020260d6442a66a0020fe440dea66a6660640a600490000998299981d183c840809984100833800a40042660a66607460f21020266104020ce0029000183800999b8100101d303d001333066059008010305333307f22322325333573466e1c010dc680488010a999ab9a308f0100415333573466e1d205a500313370290001980299b800044800800800400454ccd5cd19b885002481805854ccd5cd19b8950023370090302402426600866e0000d20023370066e08005201433702a00490300b099b8e0060014800120001533500400115335501a13335734611a026606860e60f6660f80c200a0c20d00022a66a0062a66aa0320022666ae68c23804cc0ccc1c81e8cc1ec18001018019c0044ccd5cd18460099819183883c9983d02f80182f833299a9983d91299a8008321109a80111299a9982b00101089834800898030019a9a99a983b03c00501083883610a99a8008b1109a80111299a8018a99a99827800a400420042c112022c666ae68cdc49982c800803240000c80ba6a0020d4a66a60b02446660bc44a66a66088a0226a0040d6266008004002200200200e2c0f8660ce02c6a00a0d460c2006a66a60a42446660b044a66a660826aa0160e06a6a6a0040d80ca0e026600800400220020020060b2442a66a0020da440ba60ba0026a0280d4660b40020246a6a0080c80be26a6a0020c20b4a66a609601c420022c2a66a660600040320ba266060002032603200e6068010464646a09c4444464646464646464660706606a00c0066607066068660a600c018660a6006018660706606e6608e6a6a66a60c60ca00401e0bc0b2660b601201090011981c1981f998188070009981c1981b9811800a40006607066068604201c60420026607066068604401c60440026606e604801c6048002660706606a60aa00a09666070a66a609024466609c44a66a60a26a6a0040c40b8266008004002200200200809e442a66a0020c6440a6a66a609024466609c44a66a60a26a0040b8266008004002200200260b000e09e442a66a0020c6440a666609a08000600860a40066a0020aca66a608824466609444a66a660666a6a6a00e0bc0ae0c46a6a0040ae0c4266008004002200200260a80062c0d06a0100ba6a6a0020b00a6a66a608400c420022c603000c606600e4464646a09e44444a66a6a00e440a8426464646464646464646464646607e660700286660aa09000800c6607e66076014660b40060246607e6607e6607c6609c6a0040c00120106607e6606e6a0040bc6a01a0d26606c6a0040be6a01a0ca6607e6607866aa60ce0d846a00244660ca00466aa60d40de46a00244660d0004666a0026e012000700466e0000520000013304000b3500922330723306400233072330640010090540540033303f3303e3304e3535335306a06c0010160650603306200f00e48008cc0fccc0f0c1700181494cd4c13c488ccc154894cd4c160d4d40081a418c4cc010008004400400400c1588854cd40041a888168c168014cd4c1a01a800c04cd40041754cd4c12c488ccc144894cd4cc0dcd4d4030194178d40081784cc010008004400400400c581bcc160004d403418cccd4080178d4d4080188178004cc11800c004cc164020d4004170cc140004020d4d40041681554cd4c11001c8400458124c06401cc0d0020448004584d55cf0011aab9d0013754004444a66a6600600400207809c46a0020b0246666666600204044a666ae68cdc38010008020a999ab9a3371200400203203044666ae68cdc400100081b01e802802001912999ab9a337120040022002200444a666ae68cdc4801000880108008881f11199ab9a3371000400207406644666ae68cdc480100081c81911199ab9a337120040020620706607c91100488100223333550023303f2233350050480010023500304222337000029001000a4000660784446006600400240026607666076e01200070246a0024444400a46a0020a246a0024407246a0024406c464a666ae68c140d55ce8008991919191981e2999ab9a305435573a00626464646464646464646464646464646464646464646424666666666600201a01801601401201000e00a00600460446ae84d5d10011980f1981dbae2001357420026ae88008cc071d71aba100135744016a666ae68c190d55ce804899191919827a999ab9a306735573a004264660a066038eb4d5d0800980d9aba1357440026aae7800817d4ccd5cd18339aab9d001132330503301c75a6ae84004c06cd5d09aba200135573c0020be6ea8d5d09aba200237546ae84004d55cf00482e1980c9981b019bad35742014660300326ae84028ccc059d70029aba100a33301575c0086ae84028cc054008d5d08051980a1192999ab9a306035573a0022646609260326ae84004c010d5d09aba200135573c0020b06ea8004d5d08051192999ab9a305f35573a002264646660b060606ae84008ccc059d70029aba10013303375c6ae84d5d10009aba200135573c0020ae6ea8004cc045d73ad37546ae84004d5d10009aba2001357440026ae88004d5d10009aba200135573c006098a666ae68c15c0044c848888c010014c02cd5d09aab9e00215333573460ac00226424444600400a60486ae84d55cf0010a999ab9a3055001132122223001005300c357426aae7800854ccd5cd182a0008990911118018029bae357426aae78008130d55ce8009baa357426ae88008dd51aba100135573c0020906ea80048c94ccd5cd182800081e8a999ab9a304f00102b04735573a6ea800488c8c94ccd5cd18290008058a999ab9a3051001130193004357426aae7800854ccd5cd18280008050241aab9d00137540024464460046eac004c10888cccd55cf8009014119198239981c98031aab9d001300535573c00260086ae8800cd5d0801020919118011bac00130402233335573e002404c46608860086ae84008c00cd5d100101f91919192999ab9a305300211222203515333573460a4004220922a666ae68c1440084c8c848888888cc004024020dd69aba135744a0046eb8d5d0a8008a999ab9a3050002132321222222233002009008375c6ae84d5d128011bae35742a0022a666ae68c13c0084c8c848888888cc018024020dd71aba135744a004603a6ae85400454ccd5cd1827001099091111111803804180e9aba135573c0062a666ae68c1340084c848888888c014020c074d5d09aab9e003045135573c0046aae74004dd50009192999ab9a304a35573a0022646606660086ae84004dd69aba1357440026aae78004108dd50009192999ab9a304935573a00226eb8d5d09aab9e0010413754002220582205444a66a00442a66a00442660240040020462a66a0024046068446a004446a006446666010008006004002446a004444446a00c44444a66a6601e01400a2a66a6601e0120082a666ae68cdc38040018a999ab9a3370e00e0042a66a00c42a66a004426a004446a004446a00a446a00444a66a666602e00c00a0040022a66a00e42a66a008426604800400206a2a66a006406a08c0680562a66a002405607805405405405444446466a00a466a0084a666ae68cdc78010008018121013919a802101392999ab9a3371e0040020060482a66a00642a66a0044266a004466a00446601200400244405444466a0084054444a666ae68cdc38030018a999ab9a3370e00a0042660220080020520520442a66a00240440664466a004466a00446601c0040024046466a004404646601c004002446a004446a00644a666ae68cdc780200109980780180081091199aa9815019180680191a80091199aa981681a980800311a80091199a800919805a40000020144660160029000000998030010009981280100a91199ab9a3370e00400202c03a44a66a00420020324466aa605205c46a002446604e004666a002466aa605a06446a0024466056004601800200244666010016004002466aa605a06446a0024466056004601600200266600600c004002444666aa605005c06466aa605205c46a002446604e0046010002666aa605005c446a00444a66a666aa6054064601a01646a002446601400400a00c200626606c00800602800266aa605205c46a002446604e0046606844a66a002260120064426a00444a66a6601800401022444660040140082600c00600800442444600200842444600600844666ae68cdc780100080800b9980e80080a11299a801012080091980e11199a8018128010009a80080f9192999ab9a303435573a00226464646466666042666016eb9d71aba100433300b75ceb8d5d08019bad357420046eb4d5d0800998051192999ab9a303a35573a0022646604660146ae84004cc035d71aba1357440026aae780040c8dd50009aba1357440026ae88004d5d10009aba200135573c0020586ea80048c94ccd5cd18199aab9d0011323301c3005357420026600c0086ae84d5d10009aab9e00102b375400246464a666ae68c0d00044c8c8c8c8c8488ccc00401801000cdd69aba1357440046eb4d5d08009aba2002375a6ae84004d55cf0010a999ab9a3033001130103004357426aae780080acd55ce8009baa0012323253335734606600226424460020066eb8d5d09aab9e00215333573460640022601e6eb8d5d09aab9e00202a35573a0026ea800488c8c94ccd5cd18190008980798021aba135573c0042a666ae68c0cc0040380a8d55ce8009baa001222325333573460626aae740044c8cc068c014d5d080098021aba1357440026aae780040a4dd5000911a8009119198131119a800a4000446a00444a666ae68cdc7801004898038008980300180298129119a800a4000446a00444a666ae68cdc7801003880089803001919a80081100211a800911a80111111111111999a805900b900b900b9199aa981101500b11a80091299a998090010020980c00180b805912999ab9a3371e6a0040346a0020342666ae68cdc39a80100b1a80080b001805003880b91180f11299a80088019109980300118020009299a800900b0019111a801111299a800909a8029111111111299aa99a999aa981001400a11a800912999ab9a3371e00401c2602c00602a0044260286a0020440244260240022c2c2006424460040066601444a66a0044200620020022018446602e44a66a00203c4426a00444a666ae68cdc78010038a99a8008111109a80111299a8018a999ab9a302d00113301400b0020262202813006003002235001222222222200a2350012201c23500122222222220092220032220012220023333300248811c0be55d262b29f564998ff81efe21bdc0022621c12f15af08d0f2ddb10048811ce4214b7cce62ac6fbba385d164df48e157eae5863521b4b67ca71d8600330014891c13aa2accf2e1561723aa26871e071fdf32c867cff7e7d50ad470d62f004881074d494e535741500048811c2f2e0404310c106e2a260e8eb5a7e43f00cff42c667489d30e179816004881054f574e455200221233001003002222221233333001006005004003002300b22112225335001135003006221333500500c300400233355300700f0050040012200130092211222533500110022213300500233355300700d005004001300822112253350010052213300f30040023355300600b00400111001220023005221225333573466e20005200013005490103505436001533500213005491035054370022153335734602c0062004266a600c01000266e0400d2002253357380022c240026004444a66a00220044426a004446600e66601000400c00200660024444a66a00220044426a00444a666ae68c0500044ccc02001c01800c4ccc02001ccc028ccc02c01c00800401800c8c8c00400488cc00cc00800800488488cc00401000c88848ccc00401000c00854cd5ce2490350543100162215335001100200715335738921001622222222007220053704904d0f910b111110021b8748000dc3a40046e1d2004370e90031b8748020dc3a40146e1d200c01049fd8799fd8799fd8799f581c55c4106f5d20edf51335dc225b57d0ffff41099eceb0d1052d565047ffd8799fd8799fd8799f581c53f5304dfb9bfe03e1585105173afbec3e25a8d47357eaa468de0029ffffffffd8799fd8799f581c55c4106f5d20edf51335dc225b57d0ffff41099eceb0d1052d565047ffd8799fd8799fd8799f581c53f5304dfb9bfe03e1585105173afbec3e25a8d47357eaa468de0029ffffffffd87a80d8799fd8799f581cfc11a9ef431f81b837736be5f53e4da29b9469c983d07f321262ce61444652454eff1a00fb1f44ff1a001e84801a001e8480ffd8799fd8799f4040ffd8799f581cfc11a9ef431f81b837736be5f53e4da29b9469c983d07f321262ce61444652454eff1b00000011e9a7b45b1b0000001672a94a2ad8799fd8799fd8799fd8799f581caafb1196434cb837fd6f21323ca37b302dff6387e8a84b3fa28faf56ffd8799fd8799fd8799f581c52563c5410bff6a0d43ccebb7c37e1f69f5eb260552521adff33b9c2ffffffffd87a80ffffffff0582840002d879808219a44d1a00c298b4840001d8799fd8799fd8799f581cbcb15ea0ccde1a3e6bca4472724e4017e173f94e97a60d3e682a6e9dffd8799fd8799fd8799f581c52563c5410bff6a0d43ccebb7c37e1f69f5eb260552521adff33b9c2ffffffff00ff821a002800f31a214a3ad2a700a11902a2a1636d7367826f44657868756e74657220547261646570506172746e6572205645535052694f5302a11902a2a1636d7367826f44657868756e74657220547261646570506172746e657220544150544f4f4c5305a008a11902a2a1636d736781754d696e737761703a2043616e63656c204f7264657209a11902a2a1636d736781764d696e737761703a205a6170204f7574204f726465720bd90103a100a11902a2a1636d73678178214d7565736c6953776170207820537065637472756d204d61746368204f726465720ca11902a2a1636d736781774d696e737761703a204f7264657220457865637574656480")]
    public async Task DeserializeBlock(string cbor)
    {
        byte[] cborRaw = Convert.FromHexString(cbor);

        const int concurrencyLevel = 1;   // Number of parallel tasks
        const int iterationsPerTask = 1; // Number of deserializations per task

        List<Task> tasks = Enumerable.Range(0, concurrencyLevel).Select(_ => Task.Run(() =>
        {
            for (int i = 0; i < iterationsPerTask; i++)
            {
                // This call should be thread-safe and never fail if the code is correct
                Block block = CborSerializer.Deserialize<Block>(cborRaw);

                // If block is occasionally null or exceptions occur, it's a sign of a concurrency issue
                Assert.NotNull(block);
            }
        })).ToList();

        // Await all tasks to complete; if any fail, the test will fail
        await Task.WhenAll(tasks);
    }
}
