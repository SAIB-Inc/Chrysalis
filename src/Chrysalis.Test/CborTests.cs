using System.Reflection;
using System.Text.Json;
using Chrysalis.Cardano.Core.Types.Block;
using Chrysalis.Cardano.Core.Types.Block.Transaction.Output;
using Chrysalis.Cardano.Core.Types.Block.Transaction.Script;
using Chrysalis.Cardano.Crashr.Types.Common;
using Chrysalis.Cardano.Crashr.Types.Datums;
using Chrysalis.Cbor.Converters;
using Chrysalis.Cbor.Types;
using Chrysalis.Cbor.Types.Collections;
using Chrysalis.Cbor.Types.Functional;
using Chrysalis.Plutus.Types;
using Chrysalis.Plutus.Types.Address;
using Chrysalis.Test.Types;
using Chrysalis.Test.Types.Cardano.Crashr;
using Chrysalis.Test.Types.Primitives;
using Xunit;
using Address = Chrysalis.Plutus.Types.Address.Address;

namespace Chrysalis.Test;

public class CborTests
{
    [Theory]
    [MemberData(nameof(BoolTestData.GetTestData), MemberType = typeof(BoolTestData))]
    [MemberData(nameof(BytesTestData.GetTestData), MemberType = typeof(BytesTestData))]
    [MemberData(nameof(IntTestData.GetTestData), MemberType = typeof(IntTestData))]
    [MemberData(nameof(LongTestData.GetTestData), MemberType = typeof(LongTestData))]
    [MemberData(nameof(UlongTestData.GetTestData), MemberType = typeof(UlongTestData))]
    [MemberData(nameof(TextTestData.GetTestData), MemberType = typeof(TextTestData))]
    public void Deserialize(TestData testData)
    {
        Assert.NotNull(testData);
        Assert.NotNull(testData.Serialized);
        Assert.NotNull(testData.Deserialized);

        byte[] data = Convert.FromHexString(testData.Serialized);
        Type actualType = testData.Deserialized.GetType();

        // Act
        MethodInfo deserializeMethod = typeof(CborSerializer)
            .GetMethod(nameof(CborSerializer.Deserialize))!
            .MakeGenericMethod(actualType);

        object? actual = deserializeMethod.Invoke(null, [data]);

        // Assert
        Assert.NotNull(actual);
        Assert.IsType(actualType, actual);
        // Assert.Equivalent(testData.Deserialized, actual);
    }

    [Theory]
    // Babbage
    [InlineData("85828A1A00A0FAA91A07AF97F758208FD832B38F12F6E1572E9BE0D63465B66D3A9413E39F550DF43476B46C609BB558207194702C765EF7F9E333DAD00C7CA3C2065EAFF5288B177A726B65CFE79379D458201B60A27DF5CE4FC9BB19AF1643815652154CDFBF609D717D9693C07E795071A782584077D15CC438BD3CE4E3E2B17F1B20D85952F069A3EC3BA294FABE9418B296F028DB590F3DAF42A6400A7CAAB0D1A2E25278737326C47C068FA451ADB828044AA85850FBD7FAAA1B9D85F47CA75277FC1D6E987825562026137CDE28A7B5DC21D7FA4D828030F911B1A06C6D759A7747AC3DF362B5DB156B373AC7A9C380BC63F9C9072355484D935BA871C50FA8898432280519380B5820A6651F0265DC9DC19819C20DC2719D6C172037AC798D43312D594DA50442998C845820B095CCD982629951A205A35A81543B3C6F0EFFA999E376D02C1443D510A6F7F70F1903DE5840E4DCAACA8A990945BC5D8F9AD076638ECB5D39D1BA084EA5B27B93B14CE658BEDCB6D5FD1ED133A16769C19B77941890D0ECCAAE4E74F2502FA4E102590CDE038208005901C053409B7ECC3FE5C73FB288DD219CD00EA1ECAB1FE6A0AB877110AB3D2D887C3000F8A10EB2DFBC8BE936D860628C5688D322EDDBB060F70C3A3FA07E568B9A08D133872360CE3A176C4013B9236A90444561F705BB126DD3621B32D9A0EFB86BCF86C02BE0187A039A2AB426D47ADB5128891DD8629639DFA6282AFF8A25206D8F3225D5BC3EFD255897E0FF5728F24556B88F7967EC543376C61D4A186BBC63411A80D8F76680F048886110EED82EA1EF1AA52DDDA81B2DAE2CC9D0EDB59739DE87A4AADA86C41A80FE46DE204E65A9491057690768FFF9A2187356F003FB4A5CA9D816B6836967A9F1C24ABEEF7026CF60FEB48CCE2A5779B4442CF07053D285331D4A67BE56F2F4BB3F87A7D3DEB31DEC91849BE166261108B1B7CDEA0DCA2FFD41026D5B4AC3F246CC3213461A0B9F5C47DA887956CAC51CBA000820A944DB011B3C5A4B6A59A6C332F07C614FA1CC66DFDAC6744268065E4F0E936C6830E50CF83DC7824A2E9DC6E754A138FFBDF7626E485136A43712175462840664E7D5EDAB3606AC58A127B4745785C9B972212350AC0FDF08C4E1E81864D6131D64E9175B979222CD46D7FCBD300DA1774E00526E38AA67333FC835ACAD5242ADCC87A400818258208B1981199658095573859313ACE20F2C933D5AF1E81650733E36DF6E06E9101501018282581D6124D274BFD913B241A8CCA20C6977775718FDDB8F3763F1D365C854451A001E848082583901AE07890AF80E4658691A834F880B3F8142D35F08B7E0A574A787521FFA40984DFE75EA6085AE8D27F52934AF3D0A42A391C514E78A6CDD561A01053236021A00028CAD031A0CC63DF2AB008382582062FF26A140262D3EE197CD93FF234D49F88EAB3483E3BDCC5B69A582F8BB1952008258207942043B920908BAD5626DCFADA4A00D812B3789E3C1925D70355B6B16F52DFA0082582099908C1030BD4F72C4135BB86E6296CDAE04C906F091976E320C2F25A5200E2602018383583911E1317B152FAAC13426E6A83E06FF88A4D62CCE3C1634AB0A5EC1330952563C5410BFF6A0D43CCEBB7C37E1F69F5EB260552521ADFF33B9C2821B0000002ED1BAB9B3A4581C0BE55D262B29F564998FF81EFE21BDC0022621C12F15AF08D0F2DDB1A1582020B7729520955D7A53FF8A39082B8011159D6628113EF47C13149179869FE16D01581C13AA2ACCF2E1561723AA26871E071FDF32C867CFF7E7D50AD470D62FA1474D494E5357415001581CCE5B9E0F8A88255B65F2E4D065C6E716E9FA9A8A86DFB86423DD1AC0A14444494E471B00000D0E2C75F5FC581CE4214B7CCE62AC6FBBA385D164DF48E157EAE5863521B4B67CA71D86A1582020B7729520955D7A53FF8A39082B8011159D6628113EF47C13149179869FE16D1A130C6AA25820A7A63A0514F3BA288D15F577D34F3FAA5CA459A1A97D0BA33D270DC93BBF14BD82583901B6A399BB1A6598ADD297EB8724911C41FB720F6D17F6221636B458E3B84DC1F29279A96CD8D21B1F81A63B10D01103A9EB86FFC79D1AB1B21A191F421382583901BCB15EA0CCDE1A3E6BCA4472724E4017E173F94E97A60D3E682A6E9D52563C5410BFF6A0D43CCEBB7C37E1F69F5EB260552521ADFF33B9C2821AF6E2075BA1581C2F2E0404310C106E2A260E8EB5A7E43F00CFF42C667489D30E179816A14D3137323331303430303030303001021A000C04AD031A07AF9BCB0758205160F88B929BF8A6C57C285B889488F9137C0EF3CFD0BCF408A10020E69146D5081A07AF97E30B58207CB052FB69E3AD65E73A6A481850426288F5730FB8D8AE813A94A190A49D5B180D8182582099908C1030BD4F72C4135BB86E6296CDAE04C906F091976E320C2F25A5200E26020E81581CBCB15EA0CCDE1A3E6BCA4472724E4017E173F94E97A60D3E682A6E9D1082583901BCB15EA0CCDE1A3E6BCA4472724E4017E173F94E97A60D3E682A6E9D52563C5410BFF6A0D43CCEBB7C37E1F69F5EB260552521ADFF33B9C2821AF6833C48A1581C2F2E0404310C106E2A260E8EB5A7E43F00CFF42C667489D30E179816A14D3137323331303430303030303001111A004C4B40AB0086825820F3DDC3B1EA46C058A39A764068EF2CB7B72B42510857ABE5357EB7E7BC90B45C01825820C112E5947A7816881C274BB4824BA657EC5D9EC07BB4B4ED8123CC94832D4D43028258201C4FF06115A456C8CAE138B9ED57CB11289DB280DD606702A0708E87CE9F55B800825820E63473E75E61545BFC3CF491002C49F9BC0543C7D85C46BE6BC8636F8A9D5E2400825820216394E05B86EF918A6C4D369717182FA5DDF11428AFD5CB16DDA32A3AD1FCCF01825820072BFA83B11291C9F05347FEE5D3499B6362A9D32461DC6745E4859F625B034501018482583901252BF67C93ADE03D9DC874748CE1103EB0B9130968A5248D381C16705C4D87DBFE9794B8DD73D8F76CB5C683BE1DF38D632133CB61AB014C1A001E848083581D714DD522FB07D1F895EE63270B040E8B6434AA848A9C48EE16A7903AAD1A281959B058208407BD463FDB8AB3C15C3D51A0B80BF2A983357176C26FF8956F48FCA750139682583901252BF67C93ADE03D9DC874748CE1103EB0B9130968A5248D381C16705C4D87DBFE9794B8DD73D8F76CB5C683BE1DF38D632133CB61AB014C821A003C0B36A4581C279C909F348E533DA5808898F87F9A14BB2C3DFBBACCCD631D927A3FA144534E454B1A006ACFC0581C41223B3ECF502363DC465DCE5AD6671B83AC790E229D3F49E68C3353AE58201DCC6D7C286A2DE84347E820F0C7470EE782590A48716C0D374AF11BF84F91490158202B222B541F34CCC28E4E6E9A9CE1C4628481FE6FE51BC34A1E45E8DE48FDE30D0158202B5A0BB58596616D24DB29C56DE9FBDB2E142C260B8FDEA43F5AE2B5D05684510158202C568BDAA195DF9DF23A9DFB24FDB8F85CBF1BDD532D1B5E0766B9847A6FA2B10158203DABB0E2FD6E598AAC8A60710123C878764D266D335CB6A80219F47772D843D50158204181EF72768DE5384584403C5032FE0134F2C6379AB1B2CFB7DA964C70ABA99501582075DB7CB03250704474C0C723E11EAD164DF7B098BEE79ECBAC4006B3E5C02F990158209356CD737265040D36A951364BE3EF9C18A06B42B5F7F0187D3C165C36E86B690158209C5AF94E7172C88868A08139FF19D47C44C011F7A0820F338241D0FB3D057009015820A99E358C89AC6C4AF9A25DD0538480CD8B498A9CC14BB2C1FE213697DB9EEAF7015820B6CF6DC35253F74A7E28B9EEDB01FAFEA96E28EBE20EE1A75B260CD8366B3FF1015820E56F42B603C7D09944F0362409F5A25D572B8781C55F0385D1260BF95F339246015820EC603D34DC271F802B3B83C5544EE2A86DB0EA922FDF092A6E8226A5FF80058B015820EC793C9A4C1B8981EED97136E7618B231C544195ECF30D1EF78A5E22AE902F3501581C4523C5E21D409B81C95B45B0AEA275B8EA1406E6CAFEA5583B9F8A5FA44B000DE14042756431343334014B000DE14042756431383833014B000DE14042756432353034014B000DE1404275643237303001581CC881C20E49DBACA3FF6CEF365969354150983230C39520B917F5CF7CA1444E696B651A0001D4C082583901252BF67C93ADE03D9DC874748CE1103EB0B9130968A5248D381C16705C4D87DBFE9794B8DD73D8F76CB5C683BE1DF38D632133CB61AB014C1A07076A6B021A00094B8B031A07AF9BB5081A07AF976909A1581C41223B3ECF502363DC465DCE5AD6671B83AC790E229D3F49E68C3353A1582083835D62DE24C15056AB445A01E093F621ECD85675EFC2BE4E8257C98B59B9B3200B58204F2988C9AE22ADC58096AB9402ADD7C61BB98C8CC6F1915967C070FD22C0C5F70D81825820E63473E75E61545BFC3CF491002C49F9BC0543C7D85C46BE6BC8636F8A9D5E24001082583901252BF67C93ADE03D9DC874748CE1103EB0B9130968A5248D381C16705C4D87DBFE9794B8DD73D8F76CB5C683BE1DF38D632133CB61AB014C1A12A262B7111A000DF15112828258202E8E08B814BE2341084CC874194BC57E0D35E210954F5E57D2A1D41CB6025C84018258205A4BB987DAF15D6C09134E515D568DDE9FDE0074FFD2FA6BABC8C820DF04A49B01A40081825820DDCAB0065D35CEDF0F7B021B35732116DC79565348B718E5B29C10761F087463010182825839011B405CB6901055942AFC1F8C1EAAFCA00AFA8BD0081DE6E58B4435FD78060531E90533ABF6B0F443BEF89C71206D3FB49BFF0F1CEA076D911A05D75C80825839012E84C78697E056402A15B96833B523B07C493761D2DAE15449C8C99DA2EECF283E18BE26C0704304EF31D63A8EC1B6ECE4F3174B07A22CC21A0024422B021A000290A1031A07AFB404A400878258203149ED17E1577C562DE7EC7224AABE107A78F8A184FC796CDEA8EAC90B526497018258204FAAD68789B140095D8B09DF63D4BEC7B22D2F07CC90BBE4F724B9ED26AF72FB00825820A2AA21BF9C81A61E89BBA8A6F9C0BBF46CA812730912E3F336E0BAD60588BF4D00825820BED656C0E1B30EFB9FB8726C0416BFDE72EAEC2BEEB951199EF2AF96706637E701825820C35D2C9A1FD03429B88A43C773AABFCDC18B2E39CF50EDEF0C1F4AEF53ACB1B603825820CD6CD0844747901801A96275BB7DEEB4654916C514D440248A21DDD2F946F1FB00825820E0CAA29C1EDF4968000B42F35B71A9049369C0A0C38EE89E10099BC40465BEE101018282583901AE4A2F776C488D54616ED50D8BBE4F49A036A7E775AA89535C7BF984293C0F5098A0561F60A629E309F2B38E835EF4EF949EC3E427FDD2961B00000003F5476A0082583901AEDE1E35FF87D21A8297DBF3CED2C975E0556960348D8C5106B52A7E6948A5BEC1CBE3467F5A068DAADFF4F92DE03BD7CA263A370D04ED9A1A20B90FA5021A0002C8A9031A0CC63DF0A50083825820C298DC1865EB0436DC9C18AF92438A8DD5FE8FC220162A49AC2589719B81900000825820B9D8C11A597EBD824FDC5FCF7DBF49A98AE194108B38CB481D08992BDF7E4F29058258203934E5C09462754C0E81C944CDACC67995F8F1892FD6297869E1E94E57D68651010183825839019E415AB35AC812BB7EDFA7223BB1D6E89AC8C45CC010D0E8ECF5807396C7C0721CFA557649A36DCBF7F8AED5B434561235593C7FF1B86FB81A004C4B40825839019E415AB35AC812BB7EDFA7223BB1D6E89AC8C45CC010D0E8ECF5807396C7C0721CFA557649A36DCBF7F8AED5B434561235593C7FF1B86FB8821A00328200AB581C8DA763CE1D6ADB725A295A7F145C32808295B542DE5062D92EFA8370A24E000DE14046726967696433363531014E000DE1404672696769643435363101581CCE4D6F507A71B917DB0377D8F7309FE60DAD3C5397C730EA7F894BBBA24A54616E616B6830313035014A54616E616B683036353401581CD1F6CF1B73A74A154367269E759902739177D24B93286856EFE2B932A15045726D6F204F4720504153532023303701581CD5AB720E866E796D0212C61D36D5664819AB56437F2DF919FCAE5530A151436F6E737469747574696F6E555330323301581CD6EA64DD658ADC56FCB553AF88DB495A423D4573DDB3BD4803DF6AB5A14B323939393630313130353401581CD89775133F108329854694A2BDCB352D26C1D930739257D6CEB89BC3A1457247454E5301581CE1A212122B07460A739AF69751BD01CD03174791F778B2365CC0B8F6A14445524D4F19EEB3581CE304E709916948816B793C857C92EC765095E82653539B7928051ED5A14F53756E416C736F526973657336343801581CEFFF17A2E610E5C9F46E33FE964C39602399F95AA367B37F039C1EFCA15343617264616E6F466F725468654D617373657301581CF0FF48BBB7BBE9D59A40F1CE90E9E9D0FF5002EC48F232B49CA0FB9AA151000DE1406D61646D757369636D616B657201581CFA1A9FE50BA15C82F9FC18C8FDB25C745769061991C0C6C100CAD960A1545468655477656C7665436861707465727334333201825839019E415AB35AC812BB7EDFA7223BB1D6E89AC8C45CC010D0E8ECF5807396C7C0721CFA557649A36DCBF7F8AED5B434561235593C7FF1B86FB81A04276A59021A00031E41031A07AFB41105A1581DE196C7C0721CFA557649A36DCBF7F8AED5B434561235593C7FF1B86FB81A0013B0DDAB008382582011785188711F5B4BB104056865F724D542AFA256C4FB057A444331A273F1EBD602825820769ED9AC76C358169618F5EAABC6B0E37373866665BD4EA17607F4EC0612FEA600825820BEF529C7CF4FB5C33173E75795AA34C4D9EFA4931DD7D6B07E8A8900E0063FF5010183A300581D711869C28A5C1023A10C1DEB30D112226CF45130B800A22D9C2AFC1C9C01821A001E8480A1581C08C56C0FA73748A23C3BC1D9E6A60A4187416FC4FF8FE3475506990EA1484E6F64654665656401028201D818583CD87A9FD8799F581CE33BB9C5E634BC5BE187EABA0D94725EF71505D4A4CA6E0FED0B2E6DD8799FD8799F1A0005B9801B0000019096A7E9B2FFFFFFFF82581D61E33BB9C5E634BC5BE187EABA0D94725EF71505D4A4CA6E0FED0B2E6D1A0089544082581D61E33BB9C5E634BC5BE187EABA0D94725EF71505D4A4CA6E0FED0B2E6D1A006F7AEE021A00044EE3031A07AF985B081A07AF97E30B5820829DDE81A2958DAAEC321BCA75A193ED76D580503F89AC44F8A4F96109DF6F220D81825820769ED9AC76C358169618F5EAABC6B0E37373866665BD4EA17607F4EC0612FEA6020E81581CE33BB9C5E634BC5BE187EABA0D94725EF71505D4A4CA6E0FED0B2E6D1082581D61E33BB9C5E634BC5BE187EABA0D94725EF71505D4A4CA6E0FED0B2E6D1A0049A42D111A00370C3F128182582039435B3F8A6F3FAD8771E07B5B6790A940FECC4C20A7043E945E44FF427E41D30087A100818258206A29EF8CCBEC0A3C966443A3CBF142717338517A0418B40A8CCA20CFAAA5A65E5840A5A4E03B6A9ACEEBBE2A10E11030B19CDB48103D223DA34FB7D3532BA36E30FE4EC6B0498936D6356BFB7B65D27347BD7AAA668F6E11EC0A80E5D3480E56F80DA400818258200303157375F23161027902ABFF500A6268C00A69F45F7BFE5ADBC2F70F15DF9458400CD61DBA11FC23C54FD36E3710EECE5300CF8B573D7D89EB0B59BB74849A1704DBC26CAE0FA14184182CDC0511B94D1E2AE10FD7BF62127127B4A110AF839800038259014F59014C01000032323232323232322223232325333009300E30070021323233533300B3370E9000180480109118011BAE30100031225001232533300D3300E22533301300114A02A66601E66EBCC04800400C5288980118070009BAC3010300C300C300C300C300C300C300C007149858DD48008B18060009BAA300C300B3754601860166EA80184CCCCC0288894CCC04000440084C8C94CCC038CD4CCC038C04CC030008488C008DD718098018912800919B8F0014891CE1317B152FAAC13426E6A83E06FF88A4D62CCE3C1634AB0A5EC133090014A0266008444A00226600A446004602600A601A00626600A008601A006601E0026EA8C03CC038DD5180798071BAA300F300B300E3754601E00244A0026EB0C03000C92616300A001375400660106EA8C024C020DD5000AAB9D5744AE688C8C0088CC0080080048C0088CC00800800555CF2BA15573E6E1D200201591E1B591E1801000032323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232222323232533533355333573460CC0042646424446600200A0086EB4D5D09ABA25002375A6AE85400454CCD5CD1832801099091118010021BAD357426AAE7800C54CCD5CD1832001099190911198018028021BAD357426AE894008C0CCD5D0A80082E1119191A827911111A80391191111AA99A9824806108008B1119191A9A9A80103102D91191919191919191AA99A982A89119982D91299A99820A8071A80103409980200100088008008020B03C9111919191919191919191919191982A299A8050A99AA8100999AB9A3094013303A307908101330820106700B06706E0060063305433355307908101305C05A305953353502B2233500206E2071210011635014222222207A33054353501422208E0122350012322533355333500A2153335004215333500C2130054984C011261533350052130054984C0112603C04F15333500B2130044984C00D261533350042130044984C00D2603B153335003205003A04F153335003215333500B2130044984C00D261533350042130044984C00D2603B04E15333500A2130034984C009261533350032130034984C0092603A153350010700820108201070253335002215333500A21533350042133303A03B00200116161604E15333500921533350032133303903A00200116161604D04E33054330500153306F00B02733054330533306301602548008CC150CC14CCC18C02C0952002330543305333063001010002330543333084012222533500315335002135001222223305D3305C0053306C01402B3305D3305C0043306C01402A3305D3305C00300C3305D3305C0023306C0140193305C001304800D0910122153350041622153350071622153350081622133300C003001323232323232323533307D0050070272222225335330743305100248000CC1440052000161333335003235500B2222223501D222223501B22235051222223232323232323232323253353308B013308B013306E00848000CC1B802920003308B013306D00201E3308B0153353306E00A00315335330870100E07013308B013308A013309A010110703370066E0402800C060CC22804CC2680404411C0084CC22C04CC22804CC268040441C0060CC22C04CC22804CC2680404411C008CC22804CDC08050019984D008088070A99A998370041A802055008A99A99843808078380998458099845009984D0080883819B80337020106A008154020306611402661340202208E00426611602661140266134020220E003066116026611402661340202208E004661140266E04020D40102A804CC2680404403C4CC22C04CC22804CC2680404411C008CC22804CC268040441C0060CC22C04CC20C04048070CC2080404006C4C8C8C8CCCCC2C80400C008CDC019B800180050013370002E002A66A0082605466E0800C00840594CD400C4CCCC0A005406406005C520003370002E00866E0005CD40102A80458C27C04028D40082A404D40042A404D54CD54CCD5CD19B8900148000278044C94CCD5CD19B890014800027C044C94CCD5CD19B8900148000280044C28404CCC2EC0400C0080054CCD5CD19B8900400610041006350020AD0121001160B901350010B0015333573466E2400400C54CCD5CD19B880010031330A8010023370666E080080400444CC2A0040080104CC2A004CDC199B820040110100043370666E080040380414CD4CC1FC01C1A04CDC0998490081100399B80011010133092010220073370666E080040300354CD4CC1F40101984CDC0998480081000219B8000F00E133090010200042235500C2222223501E222223501C222350522222232323232323232323253353308B013306E00748000CC22C04CC1B4008074CC22C04CC22C04CC22804CC2680404011C008CC22804CC268040401C005CCC22C04CC20C0404406CCC2080403C0684C8C8C8C8CCCCC2CC0400C008CDC019B800180060013370002E002A66A00A2605666E0800C00840594CD40104CCCC0A405406406005C52000350020B301350010B60153353330690870100E01E1330AE013370002C00E02A26615C0202C66E0005401C58C27C04024CDC199B820010123370200400266604400600266E0CCDC0981219B803370400400466E08CDC119B82337049004241941E90680780200198600080199B824801120CA0F350050A70130BE01001350030A60153353308001001069133702661260204600266E000440404CC24C0408C004D400428804D54CD4CCC1801F80140544CCC2D0040140340304CCC2D004010030034888D400C88CCC2E40401401000C88D54030888888D407888888D4070888D414888888C8C8C8C94CD4CC21804CC1A4009200033086013306800101833086015335330820101906B13308501330950100B0193370000202426610C026610A026612A020160320026610A026612A020160D60246610C02660FC01802C660FA01402A2A66A6660C8104020120322666661540266E00044008CDC08080008078070068999998550099B810110013370002000401E01C01A2C66603E6A00614C026A00614A02002A66A66100020020D2266E04CC24C0408C004CDC0008808099849808118009A800851009AA99A99983003F00280A899985A00802806806099985A008020060069111A8019119985C80802802001911AA8061111111A80F111111A80E1111A82911111191919191919299A998440099835802240006611002660D80020086611002A66A66108020360DA266110026610E026612E0201A03666E00068050CC21C04CC25C04034014CDC08020008A99A99842008028368998440099843809984B8080680D80D19843809984B8080680299B8033702008002028266110026610E026612E0201A03603466110026610E026612E0201A00A66E04010004CC21C04CC25C040341B4050CC22004CC20004038060CC1FC03005C54CD4CCC1982100402C06C4CCCCC2B004CDC000980099B8101201A01101000F1333330AC013370202603466E0004800404404003C594CD54CCD5CD19B880190011309F013370066E0CCDC119B82002019483403CCDC119B81001019483283D200209E012100116350040A601350030A60153353308001001069133702661260204600266E000440404CC24C0408C004D400428804D54CD4CCC1801F80140544CCC2D0040140340304CCC2D004010030034888D400C88CCC2E40401401000C88D54030888888D407888888D4070888D414888888C8C8C8C94CD4CC21804CC1A4011200033086013308601330680030193306800201833086015335330820100906B133086013308501330950100B009337000060246610A026612A020160100042A66A66104020100D626610C026610A026612A0201601066E00008048CC21404CC2540402C02400C4CC21804CC21404CC2540402C02400CCC21804CC21404CC2540402C020008CC21404CC2540402C1AC048CC21804CC1F8030058CC1F40280544C8C8C8CCCCC2B40400800CCDC019B8101200700133700022002A66A0082604A66E0800800C40414CD400C4CCCC08C03C04C048044520003370202400866E0404000858C26804010CDC199B8200200E00D3370666E08004038030CC244040840F8888C8CDC199B820010033370066E0801120D00F0013370400290650791112999AB9A3371200890000A4000264A666AE68CDC48008028A4000264A666AE68CDC4800A400029000080099B833370400466E04004014CDC019B8200148028014C014CDC10018011192999AB9A33710004900004D808A999AB9A30A10100214800054CCD5CD1851008010A40042A666AE68C28C04008520021330010023370066E0C009200448008C254048894CCD5CD19B880010021330030013370666E00CDC1802000800A4008200426660F2002006046464A666AE68C27C04D55CE80089919191919191919191919191919091999998008050048040028018011BAD357426AE88008DD69ABA100135744010A666AE68C2B4040084C8C8488888CC01001C018DD69ABA135744A0046660F8EB9D71ABA15001153335734615802004264642444446600200E00C6EB4D5D09ABA25002375A6AE85400454CCD5CD18558080109909111118028031BAD357426AAE7801854CCD5CD18550080109919091111198010038031BAD357426AE894008CCC1F1D73AE35742A0022A666AE68C2A4040084C8C8488888CC00C01C018DD69ABA135744A0046660F8EB9D71ABA150010A101135573C00A6AAE74010CC1E1D71ABA100530743574200A60E66AE84014DD51ABA1001357440026AE88004D5D10009AAB9E0010970137540026A002104026A00810C0260C82446660D444A66A660B066606C0D46A004104026A03C1040266606C0A06A6A0040FC0EE05E266008004002200200202A60C82446660D444A66A660B066606C0A06A0040EE6A0200EE66606C0A06A0040EE05E2660080040022002002026666660F0660C602C044660C602C04203E660C602C02003C660A8660A0044607A008660A8660A0042607C008660A8024660A8A66A60C82446660D444A66A660A66AA03A104026A6A0040EE1040226600800400220020020260D6442A66A0020FE440DEA66A6660640A600490000998299981D183C840809984100833800A40042660A66607460F21020266104020CE0029000183800999B8100101D303D001333066059008010305333307F22322325333573466E1C010DC680488010A999AB9A308F0100415333573466E1D205A500313370290001980299B800044800800800400454CCD5CD19B885002481805854CCD5CD19B8950023370090302402426600866E0000D20023370066E08005201433702A00490300B099B8E0060014800120001533500400115335501A13335734611A026606860E60F6660F80C200A0C20D00022A66A0062A66AA0320022666AE68C23804CC0CCC1C81E8CC1EC18001018019C0044CCD5CD18460099819183883C9983D02F80182F833299A9983D91299A8008321109A80111299A9982B00101089834800898030019A9A99A983B03C00501083883610A99A8008B1109A80111299A8018A99A99827800A400420042C112022C666AE68CDC49982C800803240000C80BA6A0020D4A66A60B02446660BC44A66A66088A0226A0040D6266008004002200200200E2C0F8660CE02C6A00A0D460C2006A66A60A42446660B044A66A660826AA0160E06A6A6A0040D80CA0E026600800400220020020060B2442A66A0020DA440BA60BA0026A0280D4660B40020246A6A0080C80BE26A6A0020C20B4A66A609601C420022C2A66A660600040320BA266060002032603200E6068010464646A09C4444464646464646464660706606A00C0066607066068660A600C018660A6006018660706606E6608E6A6A66A60C60CA00401E0BC0B2660B601201090011981C1981F998188070009981C1981B9811800A40006607066068604201C60420026607066068604401C60440026606E604801C6048002660706606A60AA00A09666070A66A609024466609C44A66A60A26A6A0040C40B8266008004002200200200809E442A66A0020C6440A6A66A609024466609C44A66A60A26A0040B8266008004002200200260B000E09E442A66A0020C6440A666609A08000600860A40066A0020ACA66A608824466609444A66A660666A6A6A00E0BC0AE0C46A6A0040AE0C4266008004002200200260A80062C0D06A0100BA6A6A0020B00A6A66A608400C420022C603000C606600E4464646A09E44444A66A6A00E440A8426464646464646464646464646607E660700286660AA09000800C6607E66076014660B40060246607E6607E6607C6609C6A0040C00120106607E6606E6A0040BC6A01A0D26606C6A0040BE6A01A0CA6607E6607866AA60CE0D846A00244660CA00466AA60D40DE46A00244660D0004666A0026E012000700466E0000520000013304000B3500922330723306400233072330640010090540540033303F3303E3304E3535335306A06C0010160650603306200F00E48008CC0FCCC0F0C1700181494CD4C13C488CCC154894CD4C160D4D40081A418C4CC010008004400400400C1588854CD40041A888168C168014CD4C1A01A800C04CD40041754CD4C12C488CCC144894CD4CC0DCD4D4030194178D40081784CC010008004400400400C581BCC160004D403418CCCD4080178D4D4080188178004CC11800C004CC164020D4004170CC140004020D4D40041681554CD4C11001C8400458124C06401CC0D0020448004584D55CF0011AAB9D0013754004444A66A6600600400207809C46A0020B0246666666600204044A666AE68CDC38010008020A999AB9A3371200400203203044666AE68CDC400100081B01E802802001912999AB9A337120040022002200444A666AE68CDC4801000880108008881F11199AB9A3371000400207406644666AE68CDC480100081C81911199AB9A337120040020620706607C91100488100223333550023303F2233350050480010023500304222337000029001000A4000660784446006600400240026607666076E01200070246A0024444400A46A0020A246A0024407246A0024406C464A666AE68C140D55CE8008991919191981E2999AB9A305435573A00626464646464646464646464646464646464646464646424666666666600201A01801601401201000E00A00600460446AE84D5D10011980F1981DBAE2001357420026AE88008CC071D71ABA100135744016A666AE68C190D55CE804899191919827A999AB9A306735573A004264660A066038EB4D5D0800980D9ABA1357440026AAE7800817D4CCD5CD18339AAB9D001132330503301C75A6AE84004C06CD5D09ABA200135573C0020BE6EA8D5D09ABA200237546AE84004D55CF00482E1980C9981B019BAD35742014660300326AE84028CCC059D70029ABA100A33301575C0086AE84028CC054008D5D08051980A1192999AB9A306035573A0022646609260326AE84004C010D5D09ABA200135573C0020B06EA8004D5D08051192999AB9A305F35573A002264646660B060606AE84008CCC059D70029ABA10013303375C6AE84D5D10009ABA200135573C0020AE6EA8004CC045D73AD37546AE84004D5D10009ABA2001357440026AE88004D5D10009ABA200135573C006098A666AE68C15C0044C848888C010014C02CD5D09AAB9E00215333573460AC00226424444600400A60486AE84D55CF0010A999AB9A3055001132122223001005300C357426AAE7800854CCD5CD182A0008990911118018029BAE357426AAE78008130D55CE8009BAA357426AE88008DD51ABA100135573C0020906EA80048C94CCD5CD182800081E8A999AB9A304F00102B04735573A6EA800488C8C94CCD5CD18290008058A999AB9A3051001130193004357426AAE7800854CCD5CD18280008050241AAB9D00137540024464460046EAC004C10888CCCD55CF8009014119198239981C98031AAB9D001300535573C00260086AE8800CD5D0801020919118011BAC00130402233335573E002404C46608860086AE84008C00CD5D100101F91919192999AB9A305300211222203515333573460A4004220922A666AE68C1440084C8C848888888CC004024020DD69ABA135744A0046EB8D5D0A8008A999AB9A3050002132321222222233002009008375C6AE84D5D128011BAE35742A0022A666AE68C13C0084C8C848888888CC018024020DD71ABA135744A004603A6AE85400454CCD5CD1827001099091111111803804180E9ABA135573C0062A666AE68C1340084C848888888C014020C074D5D09AAB9E003045135573C0046AAE74004DD50009192999AB9A304A35573A0022646606660086AE84004DD69ABA1357440026AAE78004108DD50009192999AB9A304935573A00226EB8D5D09AAB9E0010413754002220582205444A66A00442A66A00442660240040020462A66A0024046068446A004446A006446666010008006004002446A004444446A00C44444A66A6601E01400A2A66A6601E0120082A666AE68CDC38040018A999AB9A3370E00E0042A66A00C42A66A004426A004446A004446A00A446A00444A66A666602E00C00A0040022A66A00E42A66A008426604800400206A2A66A006406A08C0680562A66A002405607805405405405444446466A00A466A0084A666AE68CDC78010008018121013919A802101392999AB9A3371E0040020060482A66A00642A66A0044266A004466A00446601200400244405444466A0084054444A666AE68CDC38030018A999AB9A3370E00A0042660220080020520520442A66A00240440664466A004466A00446601C0040024046466A004404646601C004002446A004446A00644A666AE68CDC780200109980780180081091199AA9815019180680191A80091199AA981681A980800311A80091199A800919805A40000020144660160029000000998030010009981280100A91199AB9A3370E00400202C03A44A66A00420020324466AA605205C46A002446604E004666A002466AA605A06446A0024466056004601800200244666010016004002466AA605A06446A0024466056004601600200266600600C004002444666AA605005C06466AA605205C46A002446604E0046010002666AA605005C446A00444A66A666AA6054064601A01646A002446601400400A00C200626606C00800602800266AA605205C46A002446604E0046606844A66A002260120064426A00444A66A6601800401022444660040140082600C00600800442444600200842444600600844666AE68CDC780100080800B9980E80080A11299A801012080091980E11199A8018128010009A80080F9192999AB9A303435573A00226464646466666042666016EB9D71ABA100433300B75CEB8D5D08019BAD357420046EB4D5D0800998051192999AB9A303A35573A0022646604660146AE84004CC035D71ABA1357440026AAE780040C8DD50009ABA1357440026AE88004D5D10009ABA200135573C0020586EA80048C94CCD5CD18199AAB9D0011323301C3005357420026600C0086AE84D5D10009AAB9E00102B375400246464A666AE68C0D00044C8C8C8C8C8488CCC00401801000CDD69ABA1357440046EB4D5D08009ABA2002375A6AE84004D55CF0010A999AB9A3033001130103004357426AAE780080ACD55CE8009BAA0012323253335734606600226424460020066EB8D5D09AAB9E00215333573460640022601E6EB8D5D09AAB9E00202A35573A0026EA800488C8C94CCD5CD18190008980798021ABA135573C0042A666AE68C0CC0040380A8D55CE8009BAA001222325333573460626AAE740044C8CC068C014D5D080098021ABA1357440026AAE780040A4DD5000911A8009119198131119A800A4000446A00444A666AE68CDC7801004898038008980300180298129119A800A4000446A00444A666AE68CDC7801003880089803001919A80081100211A800911A80111111111111999A805900B900B900B9199AA981101500B11A80091299A998090010020980C00180B805912999AB9A3371E6A0040346A0020342666AE68CDC39A80100B1A80080B001805003880B91180F11299A80088019109980300118020009299A800900B0019111A801111299A800909A8029111111111299AA99A999AA981001400A11A800912999AB9A3371E00401C2602C00602A0044260286A0020440244260240022C2C2006424460040066601444A66A0044200620020022018446602E44A66A00203C4426A00444A666AE68CDC78010038A99A8008111109A80111299A8018A999AB9A302D00113301400B0020262202813006003002235001222222222200A2350012201C23500122222222220092220032220012220023333300248811C0BE55D262B29F564998FF81EFE21BDC0022621C12F15AF08D0F2DDB10048811CE4214B7CCE62AC6FBBA385D164DF48E157EAE5863521B4B67CA71D8600330014891C13AA2ACCF2E1561723AA26871E071FDF32C867CFF7E7D50AD470D62F004881074D494E535741500048811C2F2E0404310C106E2A260E8EB5A7E43F00CFF42C667489D30E179816004881054F574E455200221233001003002222221233333001006005004003002300B22112225335001135003006221333500500C300400233355300700F0050040012200130092211222533500110022213300500233355300700D005004001300822112253350010052213300F30040023355300600B00400111001220023005221225333573466E20005200013005490103505436001533500213005491035054370022153335734602C0062004266A600C01000266E0400D2002253357380022C240026004444A66A00220044426A004446600E66601000400C00200660024444A66A00220044426A00444A666AE68C0500044CCC02001C01800C4CCC02001CCC028CCC02C01C00800401800C8C8C00400488CC00CC00800800488488CC00401000C88848CCC00401000C00854CD5CE2490350543100162215335001100200715335738921001622222222007220053704904D0F910B111110021B8748000DC3A40046E1D2004370E90031B8748020DC3A40146E1D200C01049FD8799FD8799FD8799F581CB6A399BB1A6598ADD297EB8724911C41FB720F6D17F6221636B458E3FFD8799FD8799FD8799F581CB84DC1F29279A96CD8D21B1F81A63B10D01103A9EB86FFC79D1AB1B2FFFFFFFFD8799FD8799F581CB6A399BB1A6598ADD297EB8724911C41FB720F6D17F6221636B458E3FFD8799FD8799FD8799F581CB84DC1F29279A96CD8D21B1F81A63B10D01103A9EB86FFC79D1AB1B2FFFFFFFFD87A80D8799FD8799F4040FF1A18E0E563FF1A001E84801A001E8480FFD8799FD8799F4040FFD8799F581CCE5B9E0F8A88255B65F2E4D065C6E716E9FA9A8A86DFB86423DD1AC04444494E47FF1B0000016902C758161B0000018B9265F3F5D8799FD8799FD8799FD8799F581CAAFB1196434CB837FD6F21323CA37B302DFF6387E8A84B3FA28FAF56FFD8799FD8799FD8799F581C52563C5410BFF6A0D43CCEBB7C37E1F69F5EB260552521ADFF33B9C2FFFFFFFFD87A80FFFFFFFF0582840001D879808219A44D1A00E33567840000D8799FD8799FD8799F581CBCB15EA0CCDE1A3E6BCA4472724E4017E173F94E97A60D3E682A6E9DFFD8799FD8799FD8799F581C52563C5410BFF6A0D43CCEBB7C37E1F69F5EB260552521ADFF33B9C2FFFFFFFF02FF821A00280F711A2EE1ABA7A30081825820F91F45CD2DC870AE7F65186C74C6A183A540898E61D51A3126A6F00BB950B27958402BBF458FCC9ADBBDB5990BA91606CEFABAEE1439BDCB498D1FCC2C9E936A6361A126BE17E9D2955276F5FF66D855C1AFB3FE7B8B1BE0B4CAA9D60ABE3F4D8E08049F80D8799F582083835D62DE24C15056AB445A01E093F621ECD85675EFC2BE4E8257C98B59B9B3D8799F4040FF1A26BE3680D8799F4040FF1A015B23309FD8799FD8799F581C4523C5E21D409B81C95B45B0AEA275B8EA1406E6CAFEA5583B9F8A5F4B000DE14042756431383833FF01FFFF1A48190800582083835D62DE24C15056AB445A01E093F621ECD85675EFC2BE4E8257C98B59B9B31B0000019051AF7A480100FFD8799F582083835D62DE24C15056AB445A01E093F621ECD85675EFC2BE4E8257C98B59B9B3D87A80FFFF058284000501821A00279C441A2F128CEB840100D8799FD8799F5820BAF4F9A24D72868698BDD2FCCCF1C00E3990252F239AFAA031FEA146B8E7942EFF01FF821A001F69F81A260DE8FAA1008182582006E05CFF0C72A3EF4E2853C351BD122FE7E5049A37737983394F012EAB37C8515840725086D5F44100A22705E0BC545C4B24F77266DC6C8154EB1B7FAE989C87566E7CDAECDB4AFB5EDDE2050AFFBA426E27457F2CDF1EC26C31B0AFD2AC61C6680BA1008282582004F3E99F60B98399C5420DBEC2BEECFE5F7E2DB477962BBDB1EAB4FB5C87BE3258402678886A86150F1314C65211E57639FB4B37E45A38E15CB894F27D3EA3B9AE23E32AF0FD551F89C6C13ED156A8CCAFDE94E7568BCE26CCFE7A0A8B40B2D243028258206BB92A20014AF583D1ECB932D8C6FC284274CB5DF043EC36546F0FC8B10C27DE58408A5CCCD412A974E67341364E431BB349C1138A8AE61BF7689E949D7A555A1E14B5CFBC006B66497C4B230F247E433D2F453115011081359258925218972AA50DA10082825820B2C6CA24ECEEAA1D8E3F4E7B7D08582EB988CFCA33ACE149D97D13292D79CEDF58401758913ADDC471E9E53570E72B5778B6E9C7D3D47A4EBB1E64B8959BC70847DA6E1A5B86061C772135C3C7B6BED6B10F4A6A192F59B7653A45FAA64F9B6463048258203A2680B177DBB362922FA79A4C944D79221AC55CA6C3A0C11B60AEC9898BBC1E5840920288EFF6A54E2FB20C25B4F040024926FF0708713E68ED7779582927A1CA4D9EB05D133CE92AADA7F4AD3BD5E704A85AC2F68809569762F25D09937AE42F01A2008182582045E7EE2749DD98AC23244FF99D31DF8C64CBBC17D246B02DE9612268740B7D3558402271B7EB17EBBCB5119D0E41A953FC1344AC69C7B690599404DEDED7193852C175A6C8D7912E8DCA3E3AA87512308C3CA430CE9B5488047282A8BD3105372B090581840001D87980821A0012C8941A15F9CDB0A101A11902A2A1636D736781774D696E737761703A204F7264657220457865637574656480")]
    public async Task DeserializeBabbageBlock(string cbor)
    {
        byte[] cborRaw = Convert.FromHexString(cbor);

        const int concurrencyLevel = 1;   // Number of parallel tasks
        const int iterationsPerTask = 2; // Number of deserializations per task

        IEnumerable<Task> tasks = [.. Enumerable.Range(0, concurrencyLevel).Select(_ => Task.Run(() =>
        {
            for (int i = 0; i < iterationsPerTask; i++)
            {
                // This call should be thread-safe and never fail if the code is correct

                Block block = CborSerializer.Deserialize<BabbageBlock>(cborRaw);

                // If block is occasionally null or exceptions occur, it's a sign of a concurrency issue
                Assert.NotNull(block);
            }
        }))];

        // Await all tasks to complete; if any fail, the test will fail
        await Task.WhenAll(tasks);
    }

    [Theory]
    // Alonzo
    [InlineData("84828f1a0057d7e81a01cd568058205f484b951f012ed53fdb9e30da0660902354c705f112745bf3b19ec31bc9bb005820e1806a6af0eb0931ebdf8b766229cf9323f2252573aa6c6998dd1522ffdfbcc858204a20392bb23cef3777dc1e9fa9b0719ec829b4b87c9e4295141dfb7c6783c3108258408c6059b6952e68edcd6431f6edb191705d29cdf82f8a9b855cee856c8b33df96b2f567107b4637f6e1feca3585c9cb1066088bb8496dea4260c344e2595c997b58508e39d072957817e7d89c19f78e2bb288553e215e81e435d88ce5b3869d10923982e8253112948035d7697762fbf555005d7682e3d5fdb09fe3edbbdf65ce72514490882cbc89dd5f0a6cfb205ee52408825840000030ed0d10485c31937741cab13b3d0c247bf9ff8155bf649c6fb314c40788c68f71e5064920c4964893225a77f8efe65c19c0110da27dad4b72582880748f58500272d91e01c1c6c43c51fd1b1651acd45ecb841bb2762c569c15e90b65d2515f669538c4f41c19ce20b01bb61d685a2b102124525d2f385a8b04283eeff3c80017d430a075790dfae7ba3bf1f3c1a90b192e515820a82d45674a1274786d8b9534f9f1f5887d4cb5103ef76e2d8e60abbb9e2be02d5820ed46bc0f963545debd5fdc3379d01c1ea7922685a4b823cb4de51ffc63358b140418e0584052de2d342719f78585e2b0a6959eb54e1d14385a0b04dac45ca8aae062094e7dffd18ab533c0314779c91474a28d47a57fe085290ec2e422953860764ced0c0304005901c005b77ffdf89651681b6dff5b1f54ae9824d589fe38de8b9e0cfba98b1002ac3013ed3b53ee39910c3ad7226a2d438f35d29b7bf4c8215dd379b9187e6622880a197df65334198b5b195dc470550cd84d466f08e5b4aca7b9f06ce4a748db9c1da29af843ed989d7e814e2b778e3b713e5c6e7323531d1782ac3d01be00b19ec65314e3015d71812389883c1b4c49064e20c3dfff2745d028a7c336e21e4eedbf73d048b86f7df61b3dc2fa412f4bfa21c47cb4485dd1c432fdf562b31604dd3c4fd94f062c6269f74ac840a7a0f66539f84d0fa83520a78fd66779936b8b10c05fa29e3551d554696a95e6f62c240eddd4ccddd5e06e8c3876b100d94ba3217bd191b8d3bbd381dcd100e1bdf69d8f48cd3d9004fbc3b22e44546dac068acf85b04b6571155d469cec8e9745d2e4a6f63e6982e65c4db0f36b95caf815fe535a45aba199f9cdbd9a2be400a49a0a4951ef4e8b423d920964bfb571b2c112f1fa66535424c4ea8caf91791d4fdbeba7309013826041c4eaa0fb8c958b0fe39b94353d81a6f788a90b9661770a168a713bf604eeae769249e22298b86a6afa27fa3104c1e27f1bbb914483a0686bbf24862f77a5e5b04e22f1d499a8883128fd6686a400818258204965d8b3c4824c86dd438840ac1a6c4d6fd2c1b6c0b58a2c14a845956d60fc4a01018282583901150e57fae6104a97667e71ee10c3f55df30add6b9c6d9b6189637681a51a1f56eb82fe568b7d57366ba2c8ba379889dd648220334812bcb61a0602410682583901e55d850d4dc5e611b740a5f61f836fb777e496a7a65abdb3779d9017e28c1958bd7614d1c1a32fe155a47ff88ce2c0889a04e61983af01831b00000015486acc6c021a00029361031a01cd729da40081825820f2cfe413fcc190c6a7424e542430572b0556ab71d16debdca9a711af1f0285f301018282584c82d818584283581ca74249849532514e2b1cecb943df5cfa5919b0a8e2d7a1b9e0ab53c1a101581e581c12f1dae7310d0837c2ad675b952bf5ea75b37fa7f258deda6c1301f6001aa4bc56581b000000012a059c1082582b82d818582183581c8e1238576c088d5088017715a77b8903b57eb282289b3f5d0a6c483aa0001a99cc1c161b000000043dab7e7d021a0002a544031a01cd6451a4008282582095f34f20f95e4e97bb1695c0de4ff9123fbaabf5bea3199785dadac4d40d4ce30182582038f022e851dc49640541d938383a5f63a5cd88b30daecb651509953e70935cdd01018282582b82d818582183581c4ce47f03ffea34a3d3316cddc715acce37fea271fd5079fdb5769543a0001af669df521a0119fa4c82581d616904e8b2c26f3dda6c4a5db4b3ec9e31d581c9960977cfe9c6917a431a001426ba021a0002bf35031a01cd5709a6008382582000e56b08de6a647b6f6155ef64a1bc253c532735cbb54ff0f585aac3a3cc17a0008258205b14e7ecff7b6aad407570397359eb4da84e298285728267c475463a1b0345dd01825820f4d06b5da11ec1bdf57a72caa8c3a1ddd5de3727f9011fb6924c44cd4ba2cc450101828258390148d9f60950cec0b5f5ba4ca2a305f8d16f23bfb1d2b780fdb199b3f9cbe310a3070e37d57355e49f94e21a4f659c1ad8c9996dd410f4ae1c821a007270e0a1581c2f633081f8b95c9a0160fcafc2ff18f2676634633ccc9ddd0a7cb25dbf494c464331306f66323501494c464331316f66323501494c464331326f66323501494c464331336f66323501494c464331346f66323501494c464331356f66323501494c464331366f66323501494c464331376f66323501494c464331386f66323501494c464331396f66323501484c4643316f66323501494c464332306f66323501494c464332316f66323501494c464332326f66323501494c464332336f66323501494c464332346f66323501494c464332356f66323501484c4643326f66323501484c4643336f66323501484c4643346f66323501484c4643356f66323501484c4643366f66323501484c4643376f66323501484c4643386f66323501484c4643396f66323501534c6f7665466f7243727970746f31306f66323501534c6f7665466f7243727970746f31316f66323501534c6f7665466f7243727970746f31326f66323501534c6f7665466f7243727970746f31336f66323501534c6f7665466f7243727970746f31346f66323501534c6f7665466f7243727970746f31356f66323501534c6f7665466f7243727970746f31366f66323501534c6f7665466f7243727970746f31376f66323501534c6f7665466f7243727970746f31386f66323501534c6f7665466f7243727970746f31396f66323501524c6f7665466f7243727970746f316f66323501534c6f7665466f7243727970746f32306f66323501534c6f7665466f7243727970746f32316f66323501534c6f7665466f7243727970746f32326f66323501534c6f7665466f7243727970746f32336f66323501534c6f7665466f7243727970746f32346f66323501534c6f7665466f7243727970746f32356f66323501524c6f7665466f7243727970746f326f66323501524c6f7665466f7243727970746f336f66323501524c6f7665466f7243727970746f346f66323501524c6f7665466f7243727970746f356f66323501524c6f7665466f7243727970746f366f66323501524c6f7665466f7243727970746f376f66323501524c6f7665466f7243727970746f386f66323501524c6f7665466f7243727970746f396f66323501ff82581d610cf2d472123546c1d59e974da3dc0662b3233990ebc212eea91f2ebe1a008192fb021a0009339d031a01cd56e1075820fa0a2db8b6d6e5d62d2cbbe16c7d6bd3899138f769c10ebd671654910e8a27c909a1581c2f633081f8b95c9a0160fcafc2ff18f2676634633ccc9ddd0a7cb25dbf494c464331306f66323501494c464331316f66323501494c464331326f66323501494c464331336f66323501494c464331346f66323501494c464331356f66323501494c464331366f66323501494c464331376f66323501494c464331386f66323501494c464331396f66323501484c4643316f66323501494c464332306f66323501494c464332316f66323501494c464332326f66323501494c464332336f66323501494c464332346f66323501494c464332356f66323501484c4643326f66323501484c4643336f66323501484c4643346f66323501484c4643356f66323501484c4643366f66323501484c4643376f66323501484c4643386f66323501484c4643396f66323501534c6f7665466f7243727970746f31306f66323501534c6f7665466f7243727970746f31316f66323501534c6f7665466f7243727970746f31326f66323501534c6f7665466f7243727970746f31336f66323501534c6f7665466f7243727970746f31346f66323501534c6f7665466f7243727970746f31356f66323501534c6f7665466f7243727970746f31366f66323501534c6f7665466f7243727970746f31376f66323501534c6f7665466f7243727970746f31386f66323501534c6f7665466f7243727970746f31396f66323501524c6f7665466f7243727970746f316f66323501534c6f7665466f7243727970746f32306f66323501534c6f7665466f7243727970746f32316f66323501534c6f7665466f7243727970746f32326f66323501534c6f7665466f7243727970746f32336f66323501534c6f7665466f7243727970746f32346f66323501534c6f7665466f7243727970746f32356f66323501524c6f7665466f7243727970746f326f66323501524c6f7665466f7243727970746f336f66323501524c6f7665466f7243727970746f346f66323501524c6f7665466f7243727970746f356f66323501524c6f7665466f7243727970746f366f66323501524c6f7665466f7243727970746f376f66323501524c6f7665466f7243727970746f386f66323501524c6f7665466f7243727970746f396f66323501ffa400838258206afc8c499da5c42c53ea442a8051b3081031f171eeea4432991506381e2d8eb800825820d3aeffea2371a3ef2f195f40246fa89e20c6e349ab24b715e38e0f51d0e7e63601825820ecc73f986b568b27a052a4c0790b44582fdd584744d86f43dc6aaa5f9686ac3601018282583901d9ed3e385682557b35884980dc1721ff24bc2dea1e22a311831afb5ce38b3fba9b40fed456199d3775f4afddf380b146336ae517925c554c1b000000015ac7129382584c82d818584283581ca1030e3b880d76789ec6b808e209ae56e827a4f57462b8fec6802527a101581e581c2b0b011ba3683d173e253c2ac6d394b5300a9cb53f650eaa06fc6e19001a15bf798e1b00000001fb31ca1d021a0002f1bd031a01cd7297a40081825820c6c4eb1417ff576769b8f3ff6cbe2996d4a5cdc4e4b45ec30eb4e7577ed1ee2400018282581d61894d3315af10374e5d1438c9b4108de597245b7bc681bfe67c7204731a002dc6c082583901d5311050fc69536704ce36efc076b515c1ccf8a13baa820d30fca8d04b4f2b1786e68840b7aa1c71827992ffb04d7d9c197d2e5b6847f82e1a0316e87f021a00028c81031a01cd728c86a10081825820fdaf2f6ef24890889f502de09ecdec7c9f676ab206e87613486f56f9799d605e5840cc1d70b7acf2ce7281c21fbdb6559c8c1327499a1c4a6e8cebb7072615ebfe0e51a4bfc2795bf692f9b4388831475fd7f1e9bdbf895efc9fe83d87ad6e89fa0ba10281845820f4bca00671176355c1dbe65f0afbb2baac60d4f4762563c53014528f53d4984758409e078f6e746c8c25bf71e322c6ae15c67b28b2e2361aa3b2ae215525697746d592386443f6690d5556a5a550785b001e0f88dd86558d41172fc976dbe1ccb50a582061d1e3d6f0036146fa182d137ebd354a1dc7347829cf5308e166838af163dced41a0a10081825820393b3d3cab6be0897cbc87143cc3a24825dc1d8249df4d37969502931cf856ff584063aac1c764bbea7851086bb765006d0209b36c15465547777881201140363e81153a18a7740c43a3e5377c111df6c4fb773caa30e8e36f45b05b6e15ade34507a20081825820fd23af269d1c2fd6bc66414b0ad239d3c6a843736fae547a3eac84bfce301dab5840df212c60fd973b40094791b3258abd26941852fc58ff5ae5d93eaa4027e7e94024cf0f1b792b81bcdb4475558d263e625d5564931610f3244adc533cf9cae60801818201828200581c0cf2d472123546c1d59e974da3dc0662b3233990ebc212eea91f2ebe82051a01ce9fb8a10283845820372a30b3c7a74189ad37bd55d35cb23722f5796693d983418ffb651e7f6164b158404499f9b35646e7f0844745f06b230305c474bb8e62ed91ae81c0d608f6d6adda7819be1924bdc3bf4877dc912d13301e53cf51b614ecacc79f740379cb39300c582085551602903bc9bb1e393c8f797916ee01ae73272d5f43ad03e0aeb949ea69e55822a101581e581c2b0b011ba3683d5e4f72362a1243bcb5295cd8b1a82df9e0dd758ee3845820c8354629e05665f031b2d1c4dc939c875d6a8166105a0d1452ad18ae2ed2231d5840459af05a287ffabbf7d357d58f960292afd89e4a303bdf1c45490d9853eb8f829c99677557d271712c5b52d5b5d63822f4592fc59d6d111587f827589a9f6e045820292b6546849392c190f00be1161430aad58a7281ccdcb491eaef2818f66d99635822a101581e581c2b0b011ba3683d33ac3b7c2af8c6af7ff97376aba498597192928abf845820e49a56a62860a3689afea7e2e7d9cdf15d40f4958acf0f5e9220a5063a36c8fb58401ef3f6f373d5b6e34a3c1dcfedc67b436efe46f2b363318731f51bcee65013ef9cf2ebec16d4a15deb4c5ff4f882241987c660b00abd03ba99ee7e1f162cf60158201db2fa3f78a86ecb6e3acb6237ca09e8bcc11d39eae9e41a54f3217dc8578f2d5822a101581e581c2b0b011ba3683d1c06c49f2a0fe17210e840e52fd4bb52a5bfc5667ba100818258205b1f1b34e11ea7676a23d2773ee79a3446c3d2d488c0f50cab2c41b6535d3d955840a5161e51190d98cf6df88d70c2c7c4749fab9822d92b1fd282b7b0857788e6ee1fb4756643375e726e99f2aae0bc5cedcf83540902f762c7a1d1a7dc646e6007a10382a11902d1a278383266363333303831663862393563396130313630666361666332666631386632363736363334363333636363396464643061376362323564b832684c4643316f663235a3646e616d656b4c46432031206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f684c4643326f663235a3646e616d656b4c46432032206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f684c4643336f663235a3646e616d656b4c46432033206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f684c4643346f663235a3646e616d656b4c46432034206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f684c4643356f663235a3646e616d656b4c46432035206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f684c4643366f663235a3646e616d656b4c46432036206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f684c4643376f663235a3646e616d656b4c46432037206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f684c4643386f663235a3646e616d656b4c46432038206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f684c4643396f663235a3646e616d656b4c46432039206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464331306f663235a3646e616d656c4c4643203130206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464331316f663235a3646e616d656c4c4643203131206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464331326f663235a3646e616d656c4c4643203132206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464331336f663235a3646e616d656c4c4643203133206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464331346f663235a3646e616d656c4c4643203134206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464331356f663235a3646e616d656c4c4643203135206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464331366f663235a3646e616d656c4c4643203136206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464331376f663235a3646e616d656c4c4643203137206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464331386f663235a3646e616d656c4c4643203138206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464331396f663235a3646e616d656c4c4643203139206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464332306f663235a3646e616d656c4c4643203230206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464332316f663235a3646e616d656c4c4643203231206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464332326f663235a3646e616d656c4c4643203232206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464332336f663235a3646e616d656c4c4643203233206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464332346f663235a3646e616d656c4c4643203234206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f694c464332356f663235a3646e616d656c4c4643203235206f6620323565696d6167657835697066733a2f2f516d5a477a5a39793967576d53356d616d33324771694373475066473134436332357745464a477a59506f656a4569617277656176654964782b4c5530746d516758744843737a3778733661477432507a3768477a58774a70314739386b75515a6c72306f724c6f7665466f7243727970746f316f663235a3646e616d65754c6f7665466f7243727970746f2031206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734724c6f7665466f7243727970746f326f663235a3646e616d65754c6f7665466f7243727970746f2032206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734724c6f7665466f7243727970746f336f663235a3646e616d65754c6f7665466f7243727970746f2033206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734724c6f7665466f7243727970746f346f663235a3646e616d65754c6f7665466f7243727970746f2034206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734724c6f7665466f7243727970746f356f663235a3646e616d65754c6f7665466f7243727970746f2035206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734724c6f7665466f7243727970746f366f663235a3646e616d65754c6f7665466f7243727970746f2036206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734724c6f7665466f7243727970746f376f663235a3646e616d65754c6f7665466f7243727970746f2037206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734724c6f7665466f7243727970746f386f663235a3646e616d65754c6f7665466f7243727970746f2038206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734724c6f7665466f7243727970746f396f663235a3646e616d65754c6f7665466f7243727970746f2039206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f31306f663235a3646e616d65764c6f7665466f7243727970746f203130206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f31316f663235a3646e616d65764c6f7665466f7243727970746f203131206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f31326f663235a3646e616d65764c6f7665466f7243727970746f203132206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f31336f663235a3646e616d65764c6f7665466f7243727970746f203133206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f31346f663235a3646e616d65764c6f7665466f7243727970746f203134206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f31356f663235a3646e616d65764c6f7665466f7243727970746f203135206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f31366f663235a3646e616d65764c6f7665466f7243727970746f203136206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f31376f663235a3646e616d65764c6f7665466f7243727970746f203137206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f31386f663235a3646e616d65764c6f7665466f7243727970746f203138206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f31396f663235a3646e616d65764c6f7665466f7243727970746f203139206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f32306f663235a3646e616d65764c6f7665466f7243727970746f203230206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f32316f663235a3646e616d65764c6f7665466f7243727970746f203231206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f32326f663235a3646e616d65764c6f7665466f7243727970746f203232206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f32336f663235a3646e616d65764c6f7665466f7243727970746f203233206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734734c6f7665466f7243727970746f32346f663235a3646e616d65764c6f7665466f7243727970746f203234206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a717535363866567734724c6f7665466f7243727970746f316f663235a3646e616d65764c6f7665466f7243727970746f203235206f6620323565696d6167657835697066733a2f2f516d57645a764872584366314a6b525566724e3569414b6a32674534627a58657171666d48436451356f424c376769617277656176654964782b72314e6849674a33623942683259663752747254314233383569744c5a487649357a7175353638665677346a706f6c6963794c696e6b7835697066733a2f2f516d61774a655957577176675439515876754d476858394e76683552745933316e4c674a7646445a57314c74517780")]
    public async Task DeserializeAlonzoBlock(string cbor)
    {
        byte[] cborRaw = Convert.FromHexString(cbor);

        const int concurrencyLevel = 1;   // Number of parallel tasks
        const int iterationsPerTask = 1; // Number of deserializations per task

        IEnumerable<Task> tasks = [.. Enumerable.Range(0, concurrencyLevel).Select(_ => Task.Run(() =>
        {
            for (int i = 0; i < iterationsPerTask; i++)
            {
                // This call should be thread-safe and never fail if the code is correct

                Block block = CborSerializer.Deserialize<AlonzoCompatibleBlock>(cborRaw);

                // If block is occasionally null or exceptions occur, it's a sign of a concurrency issue
                Assert.NotNull(block);
            }
        }))];

        // Await all tasks to complete; if any fail, the test will fail
        await Task.WhenAll(tasks);
    }

    [Theory]
    // Conway
    [InlineData("85828a1a00aab3351a087627515820e13008ed2878e76bec0a7d8b9cce09bf0954b1de7df25e529a9fbb727d00a8fe5820884bda542e411996a77aa9eae42bb7135bf318f21223272e0ba8f6531c8fc6f758207939de8b59dcc48dc96903763bc544cb145c72f57c1ff6aa2d954938e92c2182825840030d6c4da9a6d75239d89d7c4d393505ff6e46c5a8281b8fbfd35a373f3587959794ccd903831a82795cb894f2d104ce397ce0e6538062b01aee71521b8fe6de5850004131777b6bd82b9d65ebf3e586ba7ea193cfc16887724a56aeaddbcce3cffc40217595bfe78cbfb26b8f4521548f8073189e82b3fdeb0a0c1099e7787cb4b166fdc6cdf0ca7041aadab8cfed55530919093358208c420c878f10208c6ea8e219c9ccf10710b8323d00581028a5246bdc6f6eb893845820dbbafa8dd141507d22f03dcbb034f32a52233ab77560476239aac53d1a19be5a1619042d5840ef364b08ab30ca2d6731fb5edb2a86d520315cedddd724b2b7ef4646d1f60ef8ade88f32e79d4beb58cec04dfc214d4743ad2f9b232a2ebfbb0e8915a8a1e70d8209015901c0261b318072ac4bee9670513ea46b31cd45a8b9af8499ad79e9b42fb5a974cefd2338981b6dd8f126541cf2d3a6bb83aff9e062124c8cbe3b6d203ea5401c0b06cc401a42831e535ed2beb69199a11aa883c07a3e4ffe3365b3828cb97abb5be0f48ed8aaa8a0d998dd337d7c893d992e8e475e9db3639afbda80a87acc5f4ba215126835530f42f69481514721a8d91de863ef6dc51c053e4846081ff6984e9833faae8ea0f1fe1896cd687099807c6915c8eeddfef74c313499d7544d61f4d8790a23c4817d53fb5d1ca22e57d4958d6dd0443626ab4446debd98e21f070793f0051c2655eff26ca34a7c5ac7bb6b129af95b73ad3b071d0297fb3b422f3c6d20f35f2131d513811f40a861dc7ba8d2f4bdb2be2113b219a05f326d635709edf49c119cc929a3728c91886e3b781a241893103c8063c98203fc7139dfa119b4b66d2ff8d796f2c53c1ac91fb3bc1ad9f18b2d58c2360820ebf5e3f40514dd10f8d54413ef3c14d2825c6eef2ffebf6771653736e13685969751d3cd31f293944d85c6c025349262e479ef4aa9531d7de3bc57ce599afdc6ec4f452e7fc89f20b076f24ea3aac036c0bc0c163c262839b1d854556570316451b20e05feadb88d84a4008182582033c0049e3b1c8a47c9c0879aa595da1eedcedb99876baa9398138fe7e5cdaf86000182a300583911464eeee89f05aff787d40045af2a40a83fd96c513197d32fbc54ff02160445e0993401c21bfcc5958fe7523c582b4036be914ce854307df5011a0c136e40028201d818590102d8798c4100581c9607a38a73da1c6c104aba3edbad7bf6ae820816407539ecf540eaf7d8798240401a0bebc2001a000927c01a00802dc3d87982581c161e4f460b61d1a78248af3f8a181a6b476e4197d7f9def3453f536a4b5341442054484520434154d879821a1908f02f1b00000002540be4001a0007a120d87982d87981581c8d9913a5d5e98c6aab297d090dd0cb4e850cf238c534b6a9dd907213d87981d87981d87981581c160445e0993401c21bfcc5958fe7523c582b4036be914ce854307df5581c8d9913a5d5e98c6aab297d090dd0cb4e850cf238c534b6a9dd90721381581cedbf33f5d6e083970648e39175c49ec1c093df76b6e6a0f1473e4776825839018d9913a5d5e98c6aab297d090dd0cb4e850cf238c534b6a9dd907213160445e0993401c21bfcc5958fe7523c582b4036be914ce854307df51a0023394c021a0002d09107582010b3cd99c9eb9ddfb67964a72cea96cd80be25fe7c8b161f3c999dc1d3358378a70081825820f8e308859e29fc128d0b70188ff5747aa7abc7dd0d339839d499ec4a03aabda9000181825839015455a2fd7ea563dbcf4dacf267d9d2326b7b7ce2b82140f536a1b8883219ec303b9f9facd2c6f49ad14a4ed5982b6553da4e90e3196a1b881a11ed14b0021a0003d0900b5820a5b75a3d7bf7ebc7e003f09fd99add064f71cc0f45035e3d80ce02c9b02bd9100d818258209349ed1f38b09100a5eaac0f4ad42441af53e70ce06bf57b566395f74a2ec1cb000e81581c5455a2fd7ea563dbcf4dacf267d9d2326b7b7ce2b82140f536a1b88812818258205ec56338104fcbfe32288c649d9633f0d9060abce8b8608b156294f0a81d29e201a800828258208f6646b372d3232eecffb9ef2cfba7b1dff3247b5fdccda22bdc4ecd7bd8042500825820f1b5a90ad9e754577b51dd476de8fbfa0d951e82cdf693346cc30fb7503b159b000183a2005839018d9913a5d5e98c6aab297d090dd0cb4e850cf238c534b6a9dd907213160445e0993401c21bfcc5958fe7523c582b4036be914ce854307df501821a0016e360a1581c161e4f460b61d1a78248af3f8a181a6b476e4197d7f9def3453f536aa14b53414420544845204341541a01005b87a300583931905ab869961b094f1b8197278cfe15b45cbe49fa8f32c6b014f85a2db2f6abf60ccde92eae1a2f4fdf65f2eaf6208d872c6f0e597cc10b0701821a70fb3dd7a2581c161e4f460b61d1a78248af3f8a181a6b476e4197d7f9def3453f536aa14b53414420544845204341541a24c0e7cc581c63f947b8d9535bc4e4ce6919e3dc056547e8d30ada12f29aa5f826b8a15820e216425600a641a314c19a32fff56f751f5bff81740f2232693d607379f3bee401028201d81858e9d87989d87982581c63f947b8d9535bc4e4ce6919e3dc056547e8d30ada12f29aa5f826b85820e216425600a641a314c19a32fff56f751f5bff81740f2232693d607379f3bee4d879824040d87982581c161e4f460b61d1a78248af3f8a181a6b476e4197d7f9def3453f536a4b53414420544845204341541b0000001166b125ce1a001373c2581cedbf33f5d6e083970648e39175c49ec1c093df76b6e6a0f1473e47761b000000028f200558581c8807fbe6e36b1c35ad6f36f0993e2fc67ab6f2db06041cfa3a53c04a581c554daf3e27e50c8c779713be6ba70f95c35f23f0552a28e5a7a340148258390122aea2da15e494e01767145d48bda16b6d437f1c449823a044193daf299a82ef56311aa10adf04c0072d4870eb9f4d5ff315132434841b741a00297bc7021a0005d19905a1581df196f5c1bee23481335ff4aece32fe1dfa1aa40a944a66d2d6edc9a9a5000b58203a98f88216e5025db28f06e90c56b3def9f35e3ac2beef37aef7f09ace7a60c00d8182582006f24741c2cbc3f59096046de95fcd5d90a77e5378d95fd60f2ec261aa5c7981000e81581cedbf33f5d6e083970648e39175c49ec1c093df76b6e6a0f1473e47761283825820b91eda29d145ab6c0bc0d6b7093cb24b131440b7b015033205476f39c690a51f00825820c4a540ac2e06c217dd4fb3f39ca3863da394ba134677dafa9b98830ca71d584d03825820b91eda29d145ab6c0bc0d6b7093cb24b131440b7b015033205476f39c690a51f01a400818258203f43134f45bcadea987e8dccbb569a4526d764787a2adb4045da6543142c8fde01018182583901b610bfca05d92c04eb6a460c2570d6d467813052608c7390daf0017d3afa303ff7969d061294da7def04496d6a87a7c6dde3acbf78a81d131a418b90e9021a00028774031a087627f484a1008182582020c38545a0a4dc453f98da0390d2dd5236bb81a7c11a73415262396cac156eeb5840c5af8bd8a617e7a07a5ae9a1babf6ff10c8ebd63d24866421eb0d597cf680f99492b144b08592ec408c1d2cf87bbe0f095e5b2d1a59839a511791ea4b1d7bd09a200818258201e2fd4178008a65e0d7d67c5fe29886dc825c48dd6be93afa90152106b9a93115840e39d41754c543a562b2664326f12369b3ee7f1088460aae06aa24a0b51b4a8f77d399fdb16f8e25cc5462a3b4fa5cce2c9c263946ff5a93ba56f0f169e76e60d0581840000d87a808219c3501a00989680a2008182582014585da9857b30cf57edccac19d3012b602bb5650c7726a5f1504d9614d205225840811625a2dd2b98db4a8ab7679d6f0e96dc8221ed925699e5e137db3e98099f4512df97e2a593a20c4acbc259e686e6838723cfc8580aae7e8648596d7e4d66060583840000d87a80821a000186a01a01c9c380840001d879830101d87980821a000864701a0d1cef0084030080821a000668a01a09896800a100818258207c344966b70455b888ed29a70cae086e24fab05e53ada41706c91a2f4ba9202f5840e4926495d6fb2d57746ffd9cb183a48f92d2836bb064631407dd5728a3cf222947153eed9ce05e7fc15541e27bc463f97cd726a3d45fb2cd4c9cef614deea409a100a10782582084d7eaaeeaaba1163a821a8b2e65865f8255a7d8d70197bcaa90465ac0559bc658202cd2d799d8afed19fb68ae8aba25178d4cb2ab4efa6536bd60afabb30560560c80")]
    public async Task DeserializeConwayBlock(string cbor)
    {
        byte[] cborRaw = Convert.FromHexString(cbor);

        const int concurrencyLevel = 1;   // Number of parallel tasks
        const int iterationsPerTask = 2; // Number of deserializations per task

        IEnumerable<Task> tasks = [.. Enumerable.Range(0, concurrencyLevel).Select(_ => Task.Run(() =>
        {
            for (int i = 0; i < iterationsPerTask; i++)
            {
                // This call should be thread-safe and never fail if the code is correct

                Block block = CborSerializer.Deserialize<ConwayBlock>(cborRaw);

                // If block is occasionally null or exceptions occur, it's a sign of a concurrency issue
                Assert.NotNull(block);
            }
        }))];

        // Await all tasks to complete; if any fail, the test will fail
        await Task.WhenAll(tasks);
    }

    [Theory]
    // Conway
    [InlineData("84828F1A0057D7E81A01CD568058205F484B951F012ED53FDB9E30DA0660902354C705F112745BF3B19EC31BC9BB005820E1806A6AF0EB0931EBDF8B766229CF9323F2252573AA6C6998DD1522FFDFBCC858204A20392BB23CEF3777DC1E9FA9B0719EC829B4B87C9E4295141DFB7C6783C3108258408C6059B6952E68EDCD6431F6EDB191705D29CDF82F8A9B855CEE856C8B33DF96B2F567107B4637F6E1FECA3585C9CB1066088BB8496DEA4260C344E2595C997B58508E39D072957817E7D89C19F78E2BB288553E215E81E435D88CE5B3869D10923982E8253112948035D7697762FBF555005D7682E3D5FDB09FE3EDBBDF65CE72514490882CBC89DD5F0A6CFB205EE52408825840000030ED0D10485C31937741CAB13B3D0C247BF9FF8155BF649C6FB314C40788C68F71E5064920C4964893225A77F8EFE65C19C0110DA27DAD4B72582880748F58500272D91E01C1C6C43C51FD1B1651ACD45ECB841BB2762C569C15E90B65D2515F669538C4F41C19CE20B01BB61D685A2B102124525D2F385A8B04283EEFF3C80017D430A075790DFAE7BA3BF1F3C1A90B192E515820A82D45674A1274786D8B9534F9F1F5887D4CB5103EF76E2D8E60ABBB9E2BE02D5820ED46BC0F963545DEBD5FDC3379D01C1EA7922685A4B823CB4DE51FFC63358B140418E0584052DE2D342719F78585E2B0A6959EB54E1D14385A0B04DAC45CA8AAE062094E7DFFD18AB533C0314779C91474A28D47A57FE085290EC2E422953860764CED0C0304005901C005B77FFDF89651681B6DFF5B1F54AE9824D589FE38DE8B9E0CFBA98B1002AC3013ED3B53EE39910C3AD7226A2D438F35D29B7BF4C8215DD379B9187E6622880A197DF65334198B5B195DC470550CD84D466F08E5B4ACA7B9F06CE4A748DB9C1DA29AF843ED989D7E814E2B778E3B713E5C6E7323531D1782AC3D01BE00B19EC65314E3015D71812389883C1B4C49064E20C3DFFF2745D028A7C336E21E4EEDBF73D048B86F7DF61B3DC2FA412F4BFA21C47CB4485DD1C432FDF562B31604DD3C4FD94F062C6269F74AC840A7A0F66539F84D0FA83520A78FD66779936B8B10C05FA29E3551D554696A95E6F62C240EDDD4CCDDD5E06E8C3876B100D94BA3217BD191B8D3BBD381DCD100E1BDF69D8F48CD3D9004FBC3B22E44546DAC068ACF85B04B6571155D469CEC8E9745D2E4A6F63E6982E65C4DB0F36B95CAF815FE535A45ABA199F9CDBD9A2BE400A49A0A4951EF4E8B423D920964BFB571B2C112F1FA66535424C4EA8CAF91791D4FDBEBA7309013826041C4EAA0FB8C958B0FE39B94353D81A6F788A90B9661770A168A713BF604EEAE769249E22298B86A6AFA27FA3104C1E27F1BBB914483A0686BBF24862F77A5E5B04E22F1D499A8883128FD6686A400818258204965D8B3C4824C86DD438840AC1A6C4D6FD2C1B6C0B58A2C14A845956D60FC4A01018282583901150E57FAE6104A97667E71EE10C3F55DF30ADD6B9C6D9B6189637681A51A1F56EB82FE568B7D57366BA2C8BA379889DD648220334812BCB61A0602410682583901E55D850D4DC5E611B740A5F61F836FB777E496A7A65ABDB3779D9017E28C1958BD7614D1C1A32FE155A47FF88CE2C0889A04E61983AF01831B00000015486ACC6C021A00029361031A01CD729DA40081825820F2CFE413FCC190C6A7424E542430572B0556AB71D16DEBDCA9A711AF1F0285F301018282584C82D818584283581CA74249849532514E2B1CECB943DF5CFA5919B0A8E2D7A1B9E0AB53C1A101581E581C12F1DAE7310D0837C2AD675B952BF5EA75B37FA7F258DEDA6C1301F6001AA4BC56581B000000012A059C1082582B82D818582183581C8E1238576C088D5088017715A77B8903B57EB282289B3F5D0A6C483AA0001A99CC1C161B000000043DAB7E7D021A0002A544031A01CD6451A4008282582095F34F20F95E4E97BB1695C0DE4FF9123FBAABF5BEA3199785DADAC4D40D4CE30182582038F022E851DC49640541D938383A5F63A5CD88B30DAECB651509953E70935CDD01018282582B82D818582183581C4CE47F03FFEA34A3D3316CDDC715ACCE37FEA271FD5079FDB5769543A0001AF669DF521A0119FA4C82581D616904E8B2C26F3DDA6C4A5DB4B3EC9E31D581C9960977CFE9C6917A431A001426BA021A0002BF35031A01CD5709A6008382582000E56B08DE6A647B6F6155EF64A1BC253C532735CBB54FF0F585AAC3A3CC17A0008258205B14E7ECFF7B6AAD407570397359EB4DA84E298285728267C475463A1B0345DD01825820F4D06B5DA11EC1BDF57A72CAA8C3A1DDD5DE3727F9011FB6924C44CD4BA2CC450101828258390148D9F60950CEC0B5F5BA4CA2A305F8D16F23BFB1D2B780FDB199B3F9CBE310A3070E37D57355E49F94E21A4F659C1AD8C9996DD410F4AE1C821A007270E0A1581C2F633081F8B95C9A0160FCAFC2FF18F2676634633CCC9DDD0A7CB25DBF494C464331306F66323501494C464331316F66323501494C464331326F66323501494C464331336F66323501494C464331346F66323501494C464331356F66323501494C464331366F66323501494C464331376F66323501494C464331386F66323501494C464331396F66323501484C4643316F66323501494C464332306F66323501494C464332316F66323501494C464332326F66323501494C464332336F66323501494C464332346F66323501494C464332356F66323501484C4643326F66323501484C4643336F66323501484C4643346F66323501484C4643356F66323501484C4643366F66323501484C4643376F66323501484C4643386F66323501484C4643396F66323501534C6F7665466F7243727970746F31306F66323501534C6F7665466F7243727970746F31316F66323501534C6F7665466F7243727970746F31326F66323501534C6F7665466F7243727970746F31336F66323501534C6F7665466F7243727970746F31346F66323501534C6F7665466F7243727970746F31356F66323501534C6F7665466F7243727970746F31366F66323501534C6F7665466F7243727970746F31376F66323501534C6F7665466F7243727970746F31386F66323501534C6F7665466F7243727970746F31396F66323501524C6F7665466F7243727970746F316F66323501534C6F7665466F7243727970746F32306F66323501534C6F7665466F7243727970746F32316F66323501534C6F7665466F7243727970746F32326F66323501534C6F7665466F7243727970746F32336F66323501534C6F7665466F7243727970746F32346F66323501534C6F7665466F7243727970746F32356F66323501524C6F7665466F7243727970746F326F66323501524C6F7665466F7243727970746F336F66323501524C6F7665466F7243727970746F346F66323501524C6F7665466F7243727970746F356F66323501524C6F7665466F7243727970746F366F66323501524C6F7665466F7243727970746F376F66323501524C6F7665466F7243727970746F386F66323501524C6F7665466F7243727970746F396F66323501FF82581D610CF2D472123546C1D59E974DA3DC0662B3233990EBC212EEA91F2EBE1A008192FB021A0009339D031A01CD56E1075820FA0A2DB8B6D6E5D62D2CBBE16C7D6BD3899138F769C10EBD671654910E8A27C909A1581C2F633081F8B95C9A0160FCAFC2FF18F2676634633CCC9DDD0A7CB25DBF494C464331306F66323501494C464331316F66323501494C464331326F66323501494C464331336F66323501494C464331346F66323501494C464331356F66323501494C464331366F66323501494C464331376F66323501494C464331386F66323501494C464331396F66323501484C4643316F66323501494C464332306F66323501494C464332316F66323501494C464332326F66323501494C464332336F66323501494C464332346F66323501494C464332356F66323501484C4643326F66323501484C4643336F66323501484C4643346F66323501484C4643356F66323501484C4643366F66323501484C4643376F66323501484C4643386F66323501484C4643396F66323501534C6F7665466F7243727970746F31306F66323501534C6F7665466F7243727970746F31316F66323501534C6F7665466F7243727970746F31326F66323501534C6F7665466F7243727970746F31336F66323501534C6F7665466F7243727970746F31346F66323501534C6F7665466F7243727970746F31356F66323501534C6F7665466F7243727970746F31366F66323501534C6F7665466F7243727970746F31376F66323501534C6F7665466F7243727970746F31386F66323501534C6F7665466F7243727970746F31396F66323501524C6F7665466F7243727970746F316F66323501534C6F7665466F7243727970746F32306F66323501534C6F7665466F7243727970746F32316F66323501534C6F7665466F7243727970746F32326F66323501534C6F7665466F7243727970746F32336F66323501534C6F7665466F7243727970746F32346F66323501534C6F7665466F7243727970746F32356F66323501524C6F7665466F7243727970746F326F66323501524C6F7665466F7243727970746F336F66323501524C6F7665466F7243727970746F346F66323501524C6F7665466F7243727970746F356F66323501524C6F7665466F7243727970746F366F66323501524C6F7665466F7243727970746F376F66323501524C6F7665466F7243727970746F386F66323501524C6F7665466F7243727970746F396F66323501FFA400838258206AFC8C499DA5C42C53EA442A8051B3081031F171EEEA4432991506381E2D8EB800825820D3AEFFEA2371A3EF2F195F40246FA89E20C6E349AB24B715E38E0F51D0E7E63601825820ECC73F986B568B27A052A4C0790B44582FDD584744D86F43DC6AAA5F9686AC3601018282583901D9ED3E385682557B35884980DC1721FF24BC2DEA1E22A311831AFB5CE38B3FBA9B40FED456199D3775F4AFDDF380B146336AE517925C554C1B000000015AC7129382584C82D818584283581CA1030E3B880D76789EC6B808E209AE56E827A4F57462B8FEC6802527A101581E581C2B0B011BA3683D173E253C2AC6D394B5300A9CB53F650EAA06FC6E19001A15BF798E1B00000001FB31CA1D021A0002F1BD031A01CD7297A40081825820C6C4EB1417FF576769B8F3FF6CBE2996D4A5CDC4E4B45EC30EB4E7577ED1EE2400018282581D61894D3315AF10374E5D1438C9B4108DE597245B7BC681BFE67C7204731A002DC6C082583901D5311050FC69536704CE36EFC076B515C1CCF8A13BAA820D30FCA8D04B4F2B1786E68840B7AA1C71827992FFB04D7D9C197D2E5B6847F82E1A0316E87F021A00028C81031A01CD728C86A10081825820FDAF2F6EF24890889F502DE09ECDEC7C9F676AB206E87613486F56F9799D605E5840CC1D70B7ACF2CE7281C21FBDB6559C8C1327499A1C4A6E8CEBB7072615EBFE0E51A4BFC2795BF692F9B4388831475FD7F1E9BDBF895EFC9FE83D87AD6E89FA0BA10281845820F4BCA00671176355C1DBE65F0AFBB2BAAC60D4F4762563C53014528F53D4984758409E078F6E746C8C25BF71E322C6AE15C67B28B2E2361AA3B2AE215525697746D592386443F6690D5556A5A550785B001E0F88DD86558D41172FC976DBE1CCB50A582061D1E3D6F0036146FA182D137EBD354A1DC7347829CF5308E166838AF163DCED41A0A10081825820393B3D3CAB6BE0897CBC87143CC3A24825DC1D8249DF4D37969502931CF856FF584063AAC1C764BBEA7851086BB765006D0209B36C15465547777881201140363E81153A18A7740C43A3E5377C111DF6C4FB773CAA30E8E36F45B05B6E15ADE34507A20081825820FD23AF269D1C2FD6BC66414B0AD239D3C6A843736FAE547A3EAC84BFCE301DAB5840DF212C60FD973B40094791B3258ABD26941852FC58FF5AE5D93EAA4027E7E94024CF0F1B792B81BCDB4475558D263E625D5564931610F3244ADC533CF9CAE60801818201828200581C0CF2D472123546C1D59E974DA3DC0662B3233990EBC212EEA91F2EBE82051A01CE9FB8A10283845820372A30B3C7A74189AD37BD55D35CB23722F5796693D983418FFB651E7F6164B158404499F9B35646E7F0844745F06B230305C474BB8E62ED91AE81C0D608F6D6ADDA7819BE1924BDC3BF4877DC912D13301E53CF51B614ECACC79F740379CB39300C582085551602903BC9BB1E393C8F797916EE01AE73272D5F43AD03E0AEB949EA69E55822A101581E581C2B0B011BA3683D5E4F72362A1243BCB5295CD8B1A82DF9E0DD758EE3845820C8354629E05665F031B2D1C4DC939C875D6A8166105A0D1452AD18AE2ED2231D5840459AF05A287FFABBF7D357D58F960292AFD89E4A303BDF1C45490D9853EB8F829C99677557D271712C5B52D5B5D63822F4592FC59D6D111587F827589A9F6E045820292B6546849392C190F00BE1161430AAD58A7281CCDCB491EAEF2818F66D99635822A101581E581C2B0B011BA3683D33AC3B7C2AF8C6AF7FF97376ABA498597192928ABF845820E49A56A62860A3689AFEA7E2E7D9CDF15D40F4958ACF0F5E9220A5063A36C8FB58401EF3F6F373D5B6E34A3C1DCFEDC67B436EFE46F2B363318731F51BCEE65013EF9CF2EBEC16D4A15DEB4C5FF4F882241987C660B00ABD03BA99EE7E1F162CF60158201DB2FA3F78A86ECB6E3ACB6237CA09E8BCC11D39EAE9E41A54F3217DC8578F2D5822A101581E581C2B0B011BA3683D1C06C49F2A0FE17210E840E52FD4BB52A5BFC5667BA100818258205B1F1B34E11EA7676A23D2773EE79A3446C3D2D488C0F50CAB2C41B6535D3D955840A5161E51190D98CF6DF88D70C2C7C4749FAB9822D92B1FD282B7B0857788E6EE1FB4756643375E726E99F2AAE0BC5CEDCF83540902F762C7A1D1A7DC646E6007A10382A11902D1A278383266363333303831663862393563396130313630666361666332666631386632363736363334363333636363396464643061376362323564B832684C4643316F663235A3646E616D656B4C46432031206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643326F663235A3646E616D656B4C46432032206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643336F663235A3646E616D656B4C46432033206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643346F663235A3646E616D656B4C46432034206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643356F663235A3646E616D656B4C46432035206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643366F663235A3646E616D656B4C46432036206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643376F663235A3646E616D656B4C46432037206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643386F663235A3646E616D656B4C46432038206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643396F663235A3646E616D656B4C46432039206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331306F663235A3646E616D656C4C4643203130206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331316F663235A3646E616D656C4C4643203131206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331326F663235A3646E616D656C4C4643203132206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331336F663235A3646E616D656C4C4643203133206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331346F663235A3646E616D656C4C4643203134206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331356F663235A3646E616D656C4C4643203135206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331366F663235A3646E616D656C4C4643203136206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331376F663235A3646E616D656C4C4643203137206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331386F663235A3646E616D656C4C4643203138206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331396F663235A3646E616D656C4C4643203139206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332306F663235A3646E616D656C4C4643203230206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332316F663235A3646E616D656C4C4643203231206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332326F663235A3646E616D656C4C4643203232206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332336F663235A3646E616D656C4C4643203233206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332346F663235A3646E616D656C4C4643203234206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332356F663235A3646E616D656C4C4643203235206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F724C6F7665466F7243727970746F316F663235A3646E616D65754C6F7665466F7243727970746F2031206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F326F663235A3646E616D65754C6F7665466F7243727970746F2032206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F336F663235A3646E616D65754C6F7665466F7243727970746F2033206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F346F663235A3646E616D65754C6F7665466F7243727970746F2034206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F356F663235A3646E616D65754C6F7665466F7243727970746F2035206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F366F663235A3646E616D65754C6F7665466F7243727970746F2036206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F376F663235A3646E616D65754C6F7665466F7243727970746F2037206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F386F663235A3646E616D65754C6F7665466F7243727970746F2038206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F396F663235A3646E616D65754C6F7665466F7243727970746F2039206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31306F663235A3646E616D65764C6F7665466F7243727970746F203130206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31316F663235A3646E616D65764C6F7665466F7243727970746F203131206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31326F663235A3646E616D65764C6F7665466F7243727970746F203132206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31336F663235A3646E616D65764C6F7665466F7243727970746F203133206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31346F663235A3646E616D65764C6F7665466F7243727970746F203134206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31356F663235A3646E616D65764C6F7665466F7243727970746F203135206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31366F663235A3646E616D65764C6F7665466F7243727970746F203136206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31376F663235A3646E616D65764C6F7665466F7243727970746F203137206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31386F663235A3646E616D65764C6F7665466F7243727970746F203138206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31396F663235A3646E616D65764C6F7665466F7243727970746F203139206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F32306F663235A3646E616D65764C6F7665466F7243727970746F203230206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F32316F663235A3646E616D65764C6F7665466F7243727970746F203231206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F32326F663235A3646E616D65764C6F7665466F7243727970746F203232206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F32336F663235A3646E616D65764C6F7665466F7243727970746F203233206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F32346F663235A3646E616D65764C6F7665466F7243727970746F203234206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F316F663235A3646E616D65764C6F7665466F7243727970746F203235206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A7175353638665677346A706F6C6963794C696E6B7835697066733A2F2F516D61774A655957577176675439515876754D476858394E76683552745933316E4C674A7646445A57314C74517780")]
    public async Task DeserializeAlonzoWithDuplicateKey(string cbor)
    {
        byte[] cborRaw = Convert.FromHexString(cbor);

        const int concurrencyLevel = 1;   // Number of parallel tasks
        const int iterationsPerTask = 2; // Number of deserializations per task

        IEnumerable<Task> tasks = [.. Enumerable.Range(0, concurrencyLevel).Select(_ => Task.Run(() =>
        {
            for (int i = 0; i < iterationsPerTask; i++)
            {
                // This call should be thread-safe and never fail if the code is correct

                Block block = CborSerializer.Deserialize<AlonzoCompatibleBlock>(cborRaw);

                // If block is occasionally null or exceptions occur, it's a sign of a concurrency issue
                Assert.NotNull(block);
            }
        }))];

        // Await all tasks to complete; if any fail, the test will fail
        await Task.WhenAll(tasks);
    }

    [Fact]
    public void SerializeDatum()
    {
        List<(string, string)> addresses = [
            ("1234", "1234"),
            ("5678", "5678")
        ];

        List<Payout> payouts = addresses.Select(payout =>
        {

            return new Payout(
            new Address(
                new VerificationKey(new(Convert.FromHexString(payout.Item1))),
                new Some<Inline<Credential>>(new Inline<Credential>(new VerificationKey(new(Convert.FromHexString(payout.Item2)))))
                ),
            new([]));
        }).ToList();

        ListingDatum datum = new(new(payouts), new(Convert.FromHexString("1234")));
        var res = CborSerializer.Serialize(datum);
        Assert.NotNull(res);
    }
}
