using System.Reflection;
using Chrysalis.Cardano.Models.Cbor;
using Chrysalis.Cardano.Models.Core.Block;
using Chrysalis.Cardano.Models.Core.Script;
using Chrysalis.Cardano.Models.Core.Transaction;
using Chrysalis.Cbor;
using Xunit;

namespace Chrysalis.Test;

public class CborSerializerTests
{
    [Theory]
    // [InlineData("820785828A1A0024CDB91A037173BF58204820A61DCC2C9016EEC964EDB4AB1369BB8D89B879591F7978A90B2334E7223858201F2E902AA8DD2209EB6AC9A2D5DC9E529D0DA8B1D02CB7150739CBC2905839255820DA9E4AB9F39DD2FE46EE5F8BF2EEA2FC31241A7FCCC8360B55EF91B41CEB6B678258400F820A1355A91FBF1AF031D0018C6EA7F4BDD57E49788E3D1DE21A4E38ACBB1A1FEE8283AC1C9983CB856D69CA7C4852598EEC1901FA5E75780FAF76FF2BB7125850F9C2D3DF27725881A95EE09320AA04B0EFE16C30CEB6D858E3A9649918FAC24B04C4510B1E86DA66D904B5ED799AC303C51B171DF9C626ABD7C70A21FFD766ECDA1C9B79A26B1E178AA05867EE4983091901705820922026F9992318DD46FEFCB32DA0C571D1C3652BC2A08AFF3C1DC2B085D470878458207E136F776C4EDDBA05131E3602B76DDBF643E1D1ABD2DBF70B71DB0697FAB78C0219018C5840B934EAD6B5BCAC5FEB53C5932AB9766CE6229E3B8ABBFB3E1BCFBFF1A75D2B7B14835A131548DC4A28E8DDDE0FDC76ADC4E82FE987477B61AAD046BB89A3E70B8209015901C0A7202266F1A1502AADEBABC876A448021D23925790F0F74EA8C8FED283A8B8089595D8E763FD8EA9BB1DFDDE08934FF9EF24436E91A28DAF6EC955E37E5BC200F10FEB4FC5CEB6237E0970F281377FD48160485E3021464E4173F041771A15EF59BC09EAB47D943D2CC2DCF8C674A0873EED3F9A390F2D552524388228DAB8EB88A84DA770B8D1F1069C14CAD07CE9A422CCCA7685A7636917EF1BD27FEA12F7958DC93999D7844121363744614C63E7AD67B173D907D1B0FF77C3445303EF9B45536F6F0A59BE122D4E4CBF52D3472ECBF804CDA007ED8AB4C711190923BC8DE19597954B9246773A04D1DD93E92CE21330824F263B1D2F197BFA11A203EF32363E881F6D215387A74B1AFAFF6EFD196BD9BA5D75D78D278A8FC7EE63452CE37DF405FA40658DF703EA27A4F1420E92D96C3A0440D95B7E807F0D3E6B19D7B31781CFFA700B9B0AF426413773AAC2D5D339AEFD96F057B62FA595C437110B12D1E3D526DF053C4C34CC1A7FCCD55C2CD4CF574772C99D89A6DB4286E192330117104A4643932C622D1CBC7A44262564CCBC166C1AB9A690AC970100CABA8AC0D1E7AFB6E28A00D02DA106949970972A31A6C69710863B135938101939BC344581A400D90102818258200747A67237B55ED0544A5118FAC5B07FBFE91875B4DD87FFB9AC7FA0BC95DC5500018182581D6033C378CEE41B2E15AC848F7F6F1D2F78155AB12D93B713DE898D855F1A00958940021A00030D4004D901028183028200581C10121AD931C62844F6132FA0C5C28D8BBD0C94AB3E78E55B10465993581C67420C9A7036AECC50E72109030659C2636AC6F81D36CBEE0BE2F8C281A100D901028282582047489A1B59BFCE54FF7D888191E8EACF424340A03D452B60733AC92A421D00135840B8CC1DB855EA33188BF459278300A134011646F299B0C038E1E049CDF080F8C3056DC59098B08C15CDA296552F60941C61BE8430D859BB1F7220B143D5D237058258206855FFB8CBDE9163C55C2405F93A8CFA063A631D811281D954E16782123956A758400FCCD5E393A87E285DA4B914814DA40E91496818ACF525494D03B1734E1B56E93ABEFC6F4536E10784173E5E17E667DFBA766810F8BB441B253D9CF4C2BDA000A080", typeof(BlockWithEra))]
    // [InlineData("828A1A0024D4CD1A037233BC5820A44E83C207405E322E05B2184A563F66793BACDE7C520EA06052318236F3914E5820DF89101296FEC1DC3D62E6C1E595EAFF22CC0DFC67E131EF14BA8C4772D3A766582008A1ECFFBDD94FCA7FCFE54414140DBCC8D24D8AD2F34441F60E6FA0F6F746CB8258400C6FFF4728DE905640D6F8C114839A82391B137D552B6111EB856696D6B3987D8D52DDB8FB6BAFD7A0B6EE8751BBF5088C976AE46389A277008E264A7848D6A6585052D00A7A1E361835898BF23F4271531B8DAEFCCCA8552EAA496BDFCD8CF38AE0A6CBEAAA9AAC2539F69E8AB372464BA20105D859F6721FD12CFE5CE9F9BDA4E2DE3388C6E4A21B3E90B056CF1C14BB0718E758204D4D6199D08F7AE972CF9D4C6B94FA5FC5A0FFAA0743B1C6084CB1AD50A2642E84582009BA7F385DB65A62DE6FDEF0138CB71938A19989DF420823E1B76BDB7FFEC509071901AA584084216A98801BD9AD1659F71ACAE918E5B1B6FB0D547B8C8CD4F70390D58693E179D1FFA5B4266FABA220E01474B7B8DF9521C1DC894C9D7472EE10D898B9CF0C820A005901C00D29687F1AC93CD5A75D9D9F66B797DA761D5C761B9CBF78907ABFA2FEC16EB905A417C2A87E2B384D92321657BBE8AD21A49E8346EDD4DC340BC926AFA5D70244F208B0D6AF6AA33B46F0BC155B8476332646506D25B99311EAFFEA688F87D245478B484FD8C32E96545B39FA63DD20394AA53E4DAAC92E8166B62FFB24AD4448BEE41E7D762A72C4F92403621A1884B7104829F5C912B6EC1B2495AAD0899DBD4723CFCDD7999CF040E0227727AC9887722ED15C487491EE5D9FD96F791B2ABE25BB3FD57C50434452706CB52D9A6FC9F6D45E558AC34F73E1050B6689B42FAD45713D63C613033B22D0E5253A3D2CC3BBB9D0B986C07F17D38594AA5023C244CD4B0486976F584118FEBA2D62E700F92A67E46EF4E034DBF5C57E52DE15A19AC064C1A6959506AA5848347CCC2B40B9B09C4D73F66F4AF6B504D38C568378970BB1CFAAEF9F97A539BE83E8A9D2E967E2DC44410CBF0A9CBE541907B6EC09F8241AF4793E66B41444F4D901E00961F5A78A9824F8E93D4C6A7576C821C8CB3C798B1140C82FF17D3F0F067CCEC6A6A219B2F80CB89BD3404BB2185D9AD6DCD81F9E7DAB77F373BF62B7F1995B0CB65540E773F7104B6BA4758FF81DAD4FA2", typeof(BlockHeader))]
    // [InlineData("83ac0083825820ab185e0b02cc20c3fe542661dc2a5e0a3d7f3367ea98ff22d090d6b03bc82f1700825820ab185e0b02cc20c3fe542661dc2a5e0a3d7f3367ea98ff22d090d6b03bc82f1701825820fedd8b746a81a1d61e73930e8137d00368788f06647e955e6e17f90d8f1eb558010186a300581d70d005d3d7075f5e10aa3ce9f401a9ffdc3d25a5ed3af748c93fb3a46901821a002dc6c0a1581c2a238a92a96eaa924ff829a0946a14a8b9a5803f28fd790e0007272fa14001028201d818479f0000000000ffa300581d70b07dabd6daef3cfcccef4e91aa39e568a9e2cc0ce4a8c702099c961401821a002dc6c0a1581c9975292b341ff70ac18fad3870de8791cb4d0ece11c04a74a9dc3699a14001028201d818586f9f1b0000000866a93de6071b0000022c7561059c1b00000002d85d32e71a1f890dcd1b003f608b72206b0e9f1bee07ca020bf26f57c24b03ca2fd4de000000000000ff1b000001917f6d7ec01b000001917f741a289f1b0000000b5840e23d1b0000022c7561059cff1a002dc6c0ffa300581d7084cf3290f9070aa2c81f8b1edabc0eef0a98767bd353c22c6d47f0ff01821a002dc6c0a2581c919d4c2c9455016289341b1a14dedf697687af31751170d56a31466ea144744441491b0000000866a93ded581ce85c54a6173bf0fd3ff21949a8e28cdac345892c5c9065b51f933180a14001028201d8184a9f9f0000000000ff07ff82583900f97ccf4fe384174e63f2250a3c4a61f851112ed0b93caeb6aa84308e95d8feca512588e1a954ee5a8ae2beff32ea360590be694b5065d8581b00000001010eb2f882583900f97ccf4fe384174e63f2250a3c4a61f851112ed0b93caeb6aa84308e95d8feca512588e1a954ee5a8ae2beff32ea360590be694b5065d8581b00000001010eb2f882583900f97ccf4fe384174e63f2250a3c4a61f851112ed0b93caeb6aa84308e95d8feca512588e1a954ee5a8ae2beff32ea360590be694b5065d8581b00000001010eb2f8021a00070a2a031a03716969075820d36a2619a672494604e11bb447cbcf5231e9f2ba25c2169177edc941bd50ad6c081a037165e50b582098bfdabad4afa008b0b783aa3cd3c8dd29d67b496997cba72afa7f0ad9613cf30d81825820ab185e0b02cc20c3fe542661dc2a5e0a3d7f3367ea98ff22d090d6b03bc82f17010f001082583900f97ccf4fe384174e63f2250a3c4a61f851112ed0b93caeb6aa84308e95d8feca512588e1a954ee5a8ae2beff32ea360590be694b5065d8581b0000000302e6d7d2111a004c4b4012838258204819c2cb09a7a35bd1d74755e4bb38343ebb113182bb83c1b547713e93da360b008258208c13e13b9053ce71995b821786f65db8ecc27cca9fbbb96ec81ad4625feaba5400825820d3e97688cd27216ffbf03064e702fa29b6c565d6d9cde8ec49854900562af6fd01ac0083825820605e6e9d709459abc462c7e5e7bf423df2bce6f608c393f9abaa5eaceede474d00825820bde152fa2b0861893655ce01a67e1570b996874a4c325aa6ceac5a228c65377901825820e91b41715229c3397e0461191e46113040aa97b95a673bad62198da0d3e728ba030186a300581d709f4c75f6832c502a5bee09eda8f328269cfef1be8f873e1a7ba93bb901821a002dc6c0a1581cb03f07badc6f4f050df48b19a27180884ffd214b32aeb02213b98b7da14001028201d818479f0000000000ffa300581d7016a61c580cbed27142c3851273870d5c1b3ee2e81cbbdd510221432101821a002dc6c0a1581ca217f9484e3b7854ff68242bd37600da6b734c1b467a6d4e902aac07a14001028201d81858779f1b0004c791c5505cbf1a003d93321b00eeedbc575b4d501b000000026662edb81a1103089e1b003ea62e41a5a56f9fc24a23724bf825429b34c737c24caecc08ac5503000000000000ff1b000001917f64f7281b000001917f6af2689f1b0000aecc082fe70d1b002221f6559f5430ff1a002dc6c0ffa300581d704d0d47bc2933717cfcbbac492cf515c692c3fd4fef79b24b47b96bda01821a002dc6c0a2581c919d4c2c9455016289341b1a14dedf697687af31751170d56a31466ea14574444a45441b0004c791c58deff1581c953f7215a4c509478cc5a63606c7688915edde3bc7fc243a262c738fa14001028201d8184e9f9f0000000000ff1a003d9332ff82583900f97ccf4fe384174e63f2250a3c4a61f851112ed0b93caeb6aa84308e95d8feca512588e1a954ee5a8ae2beff32ea360590be694b5065d8581b000000010110712d82583900f97ccf4fe384174e63f2250a3c4a61f851112ed0b93caeb6aa84308e95d8feca512588e1a954ee5a8ae2beff32ea360590be694b5065d8581b000000010110712c82583900f97ccf4fe384174e63f2250a3c4a61f851112ed0b93caeb6aa84308e95d8feca512588e1a954ee5a8ae2beff32ea360590be694b5065d8581b000000010110712c021a000735f3031a03716711075820d36a2619a672494604e11bb447cbcf5231e9f2ba25c2169177edc941bd50ad6c081a037165e50b582037680c4ae00f7675917d99cf6519c7cff3ec389dc0e24f09ff1e7f3a50e9657a0d81825820e91b41715229c3397e0461191e46113040aa97b95a673bad62198da0d3e728ba030f001082583900f97ccf4fe384174e63f2250a3c4a61f851112ed0b93caeb6aa84308e95d8feca512588e1a954ee5a8ae2beff32ea360590be694b5065d8581b0000000302ec3e38111a004c4b401283825820102ddafbebf817d4abfcad03223f36374a24db2bcac19822f4c98394acb85e4b008258203e458e503c11a306cbf3bc2b0ea4a05ba0c021d9a27e959c34a8526db46bc16600825820d3e97688cd27216ffbf03064e702fa29b6c565d6d9cde8ec49854900562af6fd06a300d9010281825820d325d9f101eb921d389f6524af0443744d06cb4732de0e345948a69903661a3c1835018182583900ec1d79cd83d0483292c2f98fd7041c611c1f22002453ca2ae6fc88129e9a1a2536ea7541bbcc9cc66ab51eaf473959c4fbdf7b7f598bad001b00000002540be400021a00030d40", typeof(CborMaybeIndefList<TransactionBody>))]
    // [InlineData("83a200828258206e290ca92c2484c00955ecf4f6c2e539e2223365872a2018ba1cf761aa3683c85840409abb6aeb9e8603c347b68b04c27a06a05ff55277bae4aab607c1bf33fdb91131c7f66d95f1b961c53c39dbb1d43b8d15bf498348cc6d8074809c668df9db0a825820f682256dd3ac458ed70642847bc830de8b7c4871a4dee7d2af1fe4ec72d5ac5e58401e623f86b9e17be636ef12e4c66d56798269f286ad751d78a196a0de0c057ab62083cc4ffe798eab8bf10fa20cb4c94d660b41ec439629393afc702b405fcb0f05828400001a002dc6c0821a0016a7751a1b43a48c840002d8798082195ce01a00761ce0a200828258206e290ca92c2484c00955ecf4f6c2e539e2223365872a2018ba1cf761aa3683c85840da749afe6591fa74fe94ef59c75dff7ff0154006c852c4b10f12367cefdf73dc6ca5cfe90a33cf5beb492efcef7a05d777a50d65ae444a8aca1066e30639ed05825820f682256dd3ac458ed70642847bc830de8b7c4871a4dee7d2af1fe4ec72d5ac5e584035330054745ca512cd873c7007e56c1c23c1b62770f8e19719a3a72741f54e9d2bb54d445f2e32516bb3f723db1f737c64733fa527968cd85dd5c91713c6c10205828400001a002dc6c0821a0018beba1a1d8252e9840001d8798082195ce01a00761ce0a100d90102818258206855ffb8cbde9163c55c2405f93a8cfa063a631d811281d954e16782123956a75840ff2ef19a36d541e9f35e980cf0093945fcf06ba632c0f30127707406fb975c0069688b3a7a77867b2dddc4a6196b93009b82ba3ced412cef5b6c9d057d4df80c", typeof(CborMaybeIndefList<TransactionWitnessSet>))]
    [InlineData("a40081825820401f3b3c86d54ede7e62926cf20607c6c4be226a828c025b9a49b481e0f914f158406b9c0fd33ad14d8684c16cd1a54805f16466ed684ff9277900e9aa6f5cca7ef95ae04863cbf4128010342a6368f556acc2cfb23b7a86c7b5782e16bf5cda260a049f5f584000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000584000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000584000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000581d0000000000000000000000000000000000000000000000000000000000ffff0581840100d87980821a000bf65e1a0b48bb2d068159094c5909490100003333233223322323232323232323232323232323232323232323232222223232533532323232325335533533355300d12001323212330012233350052200200200100235001220011233001225335002102610010232325335333573466e3cd400488008d401c880080940904ccd5cd19b87350012200135007220010250241024350012200235500122222222222200c102313357389201115554784f206e6f7420636f6e73756d65640002215335533532330215026001355001222222222222008102222135002222533500415335333573466e3c0080240a009c4ccd5cd19b87001480080a009c409c8840a4408c4cd5ce24811377726f6e6720616d6f756e74206d696e746564000221022135001220023333573466e1cd55cea802a4000466442466002006004646464646464646464646464646666ae68cdc39aab9d500c480008cccccccccccc88888888888848cccccccccccc00403403002c02802402001c01801401000c008cd406c070d5d0a80619a80d80e1aba1500b33501b01d35742a014666aa03eeb94078d5d0a804999aa80fbae501e35742a01066a03604a6ae85401cccd5407c099d69aba150063232323333573466e1cd55cea801240004664424660020060046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40c1d69aba150023031357426ae8940088c98c80cccd5ce01a01981889aab9e5001137540026ae854008c8c8c8cccd5cd19b8735573aa004900011991091980080180119a8183ad35742a00460626ae84d5d1280111931901999ab9c034033031135573ca00226ea8004d5d09aba2500223263202f33573806005e05a26aae7940044dd50009aba1500533501b75c6ae854010ccd5407c0848004d5d0a801999aa80fbae200135742a00460486ae84d5d1280111931901599ab9c02c02b029135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d55cf280089baa00135742a00a60266ae84d5d1280291931900e99ab9c01e01d01b3333573466e1cd55ce9baa0064800080708c98c8070cd5ce00e80e00d1bae00633011375c00e6eb401840644c98c8064cd5ce2490350543500019135573ca00226ea8004c8004d5406488448894cd40044d400c88004884ccd401488008c010008ccd54c01c4800401401000448c88c008dd6000990009aa80c911999aab9f0012501b233501a30043574200460066ae8800804c8c8c8cccd5cd19b8735573aa004900011991091980080180118051aba150023005357426ae8940088c98c804ccd5ce00a00980889aab9e5001137540024646464646666ae68cdc39aab9d5004480008cccc888848cccc00401401000c008c8c8c8cccd5cd19b8735573aa0049000119910919800801801180a1aba1500233500d013357426ae8940088c98c8060cd5ce00c80c00b09aab9e5001137540026ae854010ccd54021d728039aba150033232323333573466e1d4005200423212223002004357426aae79400c8cccd5cd19b875002480088c84888c004010dd71aba135573ca00846666ae68cdc3a801a400042444006464c6403466ae7006c06806005c0584d55cea80089baa00135742a00466a012eb8d5d09aba2500223263201433573802a02802426ae8940044d5d1280089aab9e500113754002266aa002eb9d6889119118011bab00132001355016223233335573e0044a032466a03066442466002006004600c6aae754008c014d55cf280118021aba200301113574200224464646666ae68cdc3a800a40004642446004006600a6ae84d55cf280191999ab9a3370ea0049001109100091931900899ab9c01201100f00e135573aa00226ea80048c8c8cccd5cd19b875001480188c848888c010014c020d5d09aab9e500323333573466e1d40092004232122223002005300a357426aae7940108cccd5cd19b875003480088c848888c004014c01cd5d09aab9e500523333573466e1d40112000232122223003005375c6ae84d55cf280311931900899ab9c01201100f00e00d00c135573aa00226ea80048c8c8cccd5cd19b8735573aa004900011980298031aba15002375a6ae84d5d1280111931900699ab9c00e00d00b135573ca00226ea80048848cc00400c0088c8cccd5cd19b8735573aa002900011bae357426aae7940088c98c8028cd5ce00580500409baa001232323232323333573466e1d4005200c21222222200323333573466e1d4009200a21222222200423333573466e1d400d2008233221222222233001009008375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c4664424444444660040120106eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc8848888888cc018024020c030d5d0a8049bae357426ae8940248cccd5cd19b875006480088c848888888c01c020c034d5d09aab9e500b23333573466e1d401d2000232122222223005008300e357426aae7940308c98c804ccd5ce00a00980880800780700680600589aab9d5004135573ca00626aae7940084d55cf280089baa0012323232323333573466e1d400520022333222122333001005004003375a6ae854010dd69aba15003375a6ae84d5d1280191999ab9a3370ea0049000119091180100198041aba135573ca00c464c6401866ae700340300280244d55cea80189aba25001135573ca00226ea80048c8c8cccd5cd19b875001480088c8488c00400cdd71aba135573ca00646666ae68cdc3a8012400046424460040066eb8d5d09aab9e500423263200933573801401200e00c26aae7540044dd500089119191999ab9a3370ea00290021091100091999ab9a3370ea00490011190911180180218031aba135573ca00846666ae68cdc3a801a400042444004464c6401466ae7002c02802001c0184d55cea80089baa0012323333573466e1d40052002200a23333573466e1d40092000200a23263200633573800e00c00800626aae74dd5000a4c24002921035054310032001355006222533500110022213500222330073330080020060010033200135500522225335001100222135002225335333573466e1c005200000a0091333008007006003133300800733500b12333001008003002006003122002122001112200212212233001004003112323001001223300330020020014c1225820189e271f21777785947d87b924dcc2562366472df536b84ca53bc7fa98ecd23d004c010100004c011554505050204365727420537461746520746f6b656e0001", typeof(TransactionWitnessSet))]
    // [InlineData("9f5f584000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000584000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000584000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000581d0000000000000000000000000000000000000000000000000000000000ffff",typeof(CborMaybeIndefList<PlutusData>))]
    // [InlineData("a7008182582026101a75c24aaf8bdf12b0191fa8a9e1b9aca993f074a297752ec5c242c22c7f000181825839009fc430ea1f3adc20eebb813b2649e85c934ea5bc13d7b7fbe2b24e505064b671634d14cb8d543e71dd8eb437a47efb47b0b22882866c420d821b00000001cce2a408a3581c22691d3d969ecf5802226290c2fb98e2bc08522d5b726c1f5f400105a3534275726e61626c65546f6b656e506c75747573014454657374181b5820accbfb633f637e3bb1abee40c9539d1effd742cd2716b3b1db9de3aaf3f3779401581ccac67dd80f706e084b2aac605288b2ff793475ea43b2313e1ed384aba1445465737401581cef6ed47a6917a3cbbeb46561e8853da969343794d66128598a34af2ca34d4275726e61626c65546f6b656e064e4275726e61626c65546f6b656e320c5820accbfb633f637e3bb1abee40c9539d1effd742cd2716b3b1db9de3aaf3f3779401021a00030aa909a1581cef6ed47a6917a3cbbeb46561e8853da969343794d66128598a34af2ca24d4275726e61626c65546f6b656e204e4275726e61626c65546f6b656e32200d8182582026101a75c24aaf8bdf12b0191fa8a9e1b9aca993f074a297752ec5c242c22c7f0010825839009fc430ea1f3adc20eebb813b2649e85c934ea5bc13d7b7fbe2b24e505064b671634d14cb8d543e71dd8eb437a47efb47b0b22882866c420d821b00000001cc996371a3581c22691d3d969ecf5802226290c2fb98e2bc08522d5b726c1f5f400105a3534275726e61626c65546f6b656e506c75747573014454657374181b5820accbfb633f637e3bb1abee40c9539d1effd742cd2716b3b1db9de3aaf3f3779401581ccac67dd80f706e084b2aac605288b2ff793475ea43b2313e1ed384aba1445465737401581cef6ed47a6917a3cbbeb46561e8853da969343794d66128598a34af2ca34d4275726e61626c65546f6b656e074e4275726e61626c65546f6b656e320d5820accbfb633f637e3bb1abee40c9539d1effd742cd2716b3b1db9de3aaf3f3779401111a004c4b40",typeof(TransactionBody))]
    public void SerializeAndDeserializePrimitives(string cborHex, Type type)
    {
        // Arrange
        byte[] cborBytes = Convert.FromHexString(cborHex);

        // Act
        MethodInfo? deserializeMethod = typeof(CborSerializer).GetMethod(nameof(CborSerializer.Deserialize));
        Assert.NotNull(deserializeMethod);

        MethodInfo? genericDeserializeMethod = deserializeMethod?.MakeGenericMethod(type);
        Assert.NotNull(genericDeserializeMethod);

        object? cborObject = genericDeserializeMethod?.Invoke(null, [cborBytes]);
        Assert.NotNull(cborObject);

        byte[] serializedBytes = CborSerializer.Serialize((ICbor)cborObject);
        string serializedHex = Convert.ToHexString(serializedBytes).ToLowerInvariant();

        // Assert
        Assert.Equal(cborHex.ToLowerInvariant(), serializedHex);
    }
}