// <auto-generated/>
using System;
using System.Collections.Generic;
using System.Formats.Cbor;
using Chrysalis.Cbor.Types;

namespace Chrysalis.Cbor.Types.Test;

public partial record TestMap
{
    // Serialization implementation
    public static new void Write(CborWriter writer, global::Chrysalis.Cbor.Types.Test.TestMap value)
    {
        writer.WriteStartMap(null);
// Write property: Value1
writer.WriteTextString("0");
writer.WriteInt32(value.Value1);
// Write property: Value2
writer.WriteTextString("1");
if (value.Value2 == null)
{
    writer.WriteNull();
}
else
{
    writer.WriteByteString(value.Value2);
}
// Write property: Value3
writer.WriteTextString("2");
if (value.Value3 == null)
{
    writer.WriteNull();
}
else
{
    writer.WriteTextString(value.Value3);
}
// Write property: Value4
writer.WriteTextString("3");
writer.WriteBoolean(value.Value4);
// Write property: Value6
writer.WriteTextString("4");
writer.WriteInt64(value.Value6);
writer.WriteEndMap();

    }

    // Deserialization implementation
    public static new global::Chrysalis.Cbor.Types.Test.TestMap Read(ReadOnlyMemory<byte> data)
    {
        var originalData = data;
var reader = new CborReader(data.Span);
reader.ReadStartMap();
int Value1 = default;
byte[] Value2 = default;
string Value3 = default;
bool Value4 = default;
long Value6 = default;
while (reader.PeekState() != CborReaderState.EndMap)
{
    string key = reader.ReadTextString();
    switch (key)
    {
        case "0":
            Value1 = reader.ReadInt32();
            break;
        case "1":
            if (reader.PeekState() == CborReaderState.Null)
{
    reader.ReadNull();
    Value2 = null;
}
else
{
    Value2 = reader.ReadByteString();
}
            break;
        case "2":
            if (reader.PeekState() == CborReaderState.Null)
{
    reader.ReadNull();
    Value3 = null;
}
else
{
    Value3 = reader.ReadTextString();
}
            break;
        case "3":
            Value4 = reader.ReadBoolean();
            break;
        case "4":
            Value6 = reader.ReadInt64();
            break;
        default:
            reader.Skip();
            break;
    }
}
reader.ReadEndMap();
var result = new global::Chrysalis.Cbor.Types.Test.TestMap(
    Value1: Value1,
    Value2: Value2,
    Value3: Value3,
    Value4: Value4,
    Value6: Value6
);
result.Raw = originalData;
return result;

    }   
}