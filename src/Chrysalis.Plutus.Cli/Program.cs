using Chrysalis.Plutus.VM.EvalTx;
using Chrysalis.Plutus.VM.Models;

Console.WriteLine("PlutusVM.Net Transaction Evaluator");
Console.WriteLine("==================================");

string txCborHex = "84A900D9010282825820FFE4C125DE5D60D07413B803CC858B146C3831D44CDD81B18EE785E94FE7E43C00825820FFE4C125DE5D60D07413B803CC858B146C3831D44CDD81B18EE785E94FE7E43C010182825839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA1A01312D00825839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA1B00000001A508E108021A0003CC7B05A1581DF023E192065C9F85C102ABDB088E268ED67C408EC25EBB15CA4628B903000B58204ABA373DF85A64D2C5D03A49A6ABE9DD76FEF09433AC1B745C19D11498DAB9AD0DD9010281825820B833BA3C808DC93B46E18776DFF0A15FB4A3EC0B50392D6E2B97F4583790DAD90010825839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA1A0092E3C7111A0005B2B912D90102818258209489655981E70AB2C2DF5DB10D2ED11157BC2E404D02C3FABE853737366CED7700A105A282000082D87980821A000F42401A000F424082030082D879808219044C19044CF5F6";
string utxoHex = "90828258209489655981E70AB2C2DF5DB10D2ED11157BC2E404D02C3FABE853737366CED7700A300581D7023E192065C9F85C102ABDB088E268ED67C408EC25EBB15CA4628B903011A0032605403D818590231820359022C59022901010029800ABA2ABA1ABA0AAB9FAAB9EAAB9DAB9CAB9A48888888966002646465300130063754003300A00398050012444B30013370E9001001C4C8C8CC896600266E1D2000300D37540051325980099B8748008C038DD5000C4C8CC88CC008008004896600200314A115980099BAF003301130150018A51899801001180B000A01E404C6EACC04CC050C050C050C050C050C050C040DD500419BA548008CC044C048C03CDD5000A5EB822A6601A9214C657870656374205363726970742876616C696461746F725F6861736829203D2073656C665F696E7075742E6F75747075742E616464726573732E7061796D656E745F63726564656E7469616C001640306022601C6EA8C044C038DD51808980918071BAA3011300E3754005153300C4916165787065637420536F6D652873656C665F696E70757429203D0A202020202020696E70757473207C3E206C6973742E66696E6428666E28696E70757429207B20696E7075742E6F75747075745F7265666572656E6365203D3D207574786F207D290016402C64660020026EB0C040C034DD5002912CC0040062980103D87A80008992CC004CDD7980918079BAA001004899BA548000CC0440052F5C11330030033013002403060220028078C03CC040008C038004C028DD5002456600266E1D2004003899251300D300A375400916401C803860126014002601200260086EA8026293454CC00924011856616C696461746F722072657475726E65642066616C736500136564004182825820FFE4C125DE5D60D07413B803CC858B146C3831D44CDD81B18EE785E94FE7E43C00A300581D7023E192065C9F85C102ABDB088E268ED67C408EC25EBB15CA4628B903011A01312D00028201D81843D8798082825820191769E7E3EB05DA50A8D5EC311956D445A42DCE1A2A35FBFBD9DB25041A487F00A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA011A004C4B40828258205E5C6708811B5116C5549343FB1E01C86B10195C30D6E2D099158BD921FC520903A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA01821A0044D1BEA1581C59758D621675AE89D6CB8D68FB14BFCA533F7ECAFF14C107A17116B0A146414E47454C531A094CF1C7828258209C6854B98887BDA50F5260EFF58179798DFF846AB53478B35E71ACB04E48BE7706A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA011A004C4B40828258209C6854B98887BDA50F5260EFF58179798DFF846AB53478B35E71ACB04E48BE7707A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA01821A00436976AB581C6262AA14F21853CCA5C6B560EC780B97D53E7DDDB2060928D5B1BF8FA154000643B04E6572766F75732043686172636F616C01581C691F35DBFBC44B53B58598001C15E31521BCD8B951EC8D2C024B1F11A144544F4B451B000000E893146500581C8F3469FE7F61152F96097C427694DB8C53A9979E65C6124FDF338CE9A1444D4F47491B000000E8990A4600581CA965D56680917C20CC2AAE0C11EDB7F8648AC255003DFFE40C74F7F7A144444544491B000000E8990A4600581CB5A0AC5BB478367B5813B484F84F1E4B6EE69BE49A20F6B70C1F2CEAA1474450303334393401581CB5A0AC5BB478367B5813B484F84F1E4B6EE69BE49A20F6B70C1F2CEAA1474450303630383201581CB5A0AC5BB478367B5813B484F84F1E4B6EE69BE49A20F6B70C1F2CEAA1474450303631353801581CB5A0AC5BB478367B5813B484F84F1E4B6EE69BE49A20F6B70C1F2CEAA1474450303938393601581CB9E3397E4EE3A7DEC0A6AEB291C4A0374724A450E516F9444BE1DED1A14E436C61794E6174696F6E3830383701581CB9E3397E4EE3A7DEC0A6AEB291C4A0374724A450E516F9444BE1DED1A14E436C61794E6174696F6E3834343001581CB9E3397E4EE3A7DEC0A6AEB291C4A0374724A450E516F9444BE1DED1A14E436C61794E6174696F6E38363238018282582051152A8EB53D4A4F8444EBF80BBEB3CF264B093773F575802184FB3B706FD5D101A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA01821A003B04E5B4581C0401CE1FB4DA93CE46ED4A22C95D3502A59C76476649A41E7BAFA9DAA1434941471B000000E857799B00581C25842EE8D748D33686808B4C4F252499BF8F464BC6C4ACAA49F85984A14342544E1B000000E6036DB700581C428D24F67047BC9BBEB87CC791991B97886A43AA7BEA7B7A1D091391A14448554E541B000000E63F088100581C59758D621675AE89D6CB8D68FB14BFCA533F7ECAFF14C107A17116B0A146414E47454C531B000000B9AE1BB080581C6262AA14F21853CCA5C6B560EC780B97D53E7DDDB2060928D5B1BF8FA14F001BC280456C64657220416279737301581C6262AA14F21853CCA5C6B560EC780B97D53E7DDDB2060928D5B1BF8FA14F001BC28053696C766572204D6F6F6E01581CC0479380707CDC4AF8241D038A3AB565FCA1A6BD530F11A940141A84A151576F726C644D6F62696C65546F6B656E581B000000E85D6F7C00581CDA8B64EFB25ADBA109E378F6044EEF8F508CA9864F04A43EE0DAE574A14B000DE1404275643335303501581CDA8B64EFB25ADBA109E378F6044EEF8F508CA9864F04A43EE0DAE574A14B000DE1404275643430373901581CDA8B64EFB25ADBA109E378F6044EEF8F508CA9864F04A43EE0DAE574A14B000DE1404275643435323101581CDA8B64EFB25ADBA109E378F6044EEF8F508CA9864F04A43EE0DAE574A14B000DE1404275643435343601581CDA8B64EFB25ADBA109E378F6044EEF8F508CA9864F04A43EE0DAE574A14B000DE1404275643836383201581CDBBDE5AC09361D98003A669E46D3B11642DF53A5FF7E704FDE3809A9A144434841441B000000E63F088100581CEB50F131C00D5E67C81FE5639F429E150E2C5EB8F7C397767C790339A155477574656E62657267204269626C6520233939393201581CEB50F131C00D5E67C81FE5639F429E150E2C5EB8F7C397767C790339A155477574656E62657267204269626C6520233939393301581CEB50F131C00D5E67C81FE5639F429E150E2C5EB8F7C397767C790339A155477574656E62657267204269626C6520233939393401581CEB50F131C00D5E67C81FE5639F429E150E2C5EB8F7C397767C790339A155477574656E62657267204269626C6520233939393501581CEB50F131C00D5E67C81FE5639F429E150E2C5EB8F7C397767C790339A155477574656E62657267204269626C6520233939393601581CEB50F131C00D5E67C81FE5639F429E150E2C5EB8F7C397767C790339A155477574656E62657267204269626C6520233939393701581CEF0D42C103A4014581C3BE45E20A50E9EE4527577A4363F617C8B01EA144534E454B1B000000E644FE620082825820B833BA3C808DC93B46E18776DFF0A15FB4A3EC0B50392D6E2B97F4583790DAD900A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA011A0098968082825820BD074C2B4C8BB2AEAD4C337A6A8F61B875C816E82135E3A422FC31F9A1B185A300A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA01821A00124864A1581C41394A1D1085DE03F642CA1B84D8BDAEC8C4025691974548EB944189A15243617264616E6F43726F6373436C75623130018282582010B5311E3906D9D7A4EC92B406903096F99272842536C8D3DEEC4D098E1E5B6F00A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA01821A001E8480A1581C8B05E87A51C1D4A0FA888D2BB14DBC25E8C343EA379A171B63AA84A0A144434E43541901F4828258206BA7EA1E216DFC0D47AE9D5BA2045ACFFDC52C592A0F1EFD1AD5DEDF4BDC8CEA01A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA01821A0014524EA2581C59758D621675AE89D6CB8D68FB14BFCA533F7ECAFF14C107A17116B0A146414E47454C531A0E8A9239581C8B05E87A51C1D4A0FA888D2BB14DBC25E8C343EA379A171B63AA84A0A144434E435419251C828258205E144766D5CBB8129F4A8D7454863FF8C769BA2EFABB707D5021689F036222E100A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA011A0098968082825820BA4C50F79C717580DF9EDA560E90040A88B20DEA27198DBC3BDBAB6C43EA3F7D00A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA011A0098968082825820AA8D168BA8065F9460362DF67F7053A752B83964D26A875BEC2774DC887B5C2100A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA011A009896808282582098C6A0EE6F5990D7622D3873B5D6F9F410145B514089860D926F9D85F3B1B98B00A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA011A0098968082825820FFE4C125DE5D60D07413B803CC858B146C3831D44CDD81B18EE785E94FE7E43C01A2005839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA011B00000001A50CAD83";

IReadOnlyList<EvaluationResult> results = Evaluator.EvaluateTx(txCborHex, utxoHex);

Console.WriteLine("\nEvaluation Results");
for (int i = 0; i < results.Count; i++)
{
    EvaluationResult result = results[i];
    Console.WriteLine($"Redeemer Tag: {result.RedeemerTag}");
    Console.WriteLine($"Index: {result.Index}");
    Console.WriteLine($"ExUnits:");
    Console.WriteLine($"    Memory: {result.ExUnits.Mem}");
    Console.WriteLine($"    Steps: {result.ExUnits.Steps}");
}