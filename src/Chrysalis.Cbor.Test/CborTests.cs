using Chrysalis.Cbor.Serialization;
using Chrysalis.Cbor.Serialization.Attributes;
using Chrysalis.Cbor.Types;
using Chrysalis.Cbor.Types.Cardano.Core;
using Chrysalis.Cbor.Types.Cardano.Core.Common;
using Chrysalis.Cbor.Types.Cardano.Core.Transaction;
using Chrysalis.Cbor.Types.Cardano.Core.TransactionWitness;

namespace Chrysalis.Test;


record TestRecord(string p, int i);

// Test record with required fields - all fields must be present
[CborSerializable]
[CborList]
partial record PersonRequired(
    [CborOrder(0)] int Id,
    [CborOrder(1)] string Name,
    [CborOrder(2)] int Age
) : CborBase;

// Test record with nullable fields - fields can be missing
[CborSerializable]
[CborList]
partial record PersonOptional(
    [CborOrder(0)] int? Id,
    [CborOrder(1)] string? Name,
    [CborOrder(2)] int? Age
) : CborBase;


public class CborTests
{
    [Theory]
    [InlineData("9FD8799FD8799F9FC24C0AFD35CBEC1F0EB61C6A5B4DC24C0CEFB03531E283A5DF051C66C24C067D7F114BF03905256C13A9C24C0E4A467359993326D19A78FBC24B76D585C1A093723F32404EC24D598DE7F123CC80BA2DBE2FBD40FF4455534462C24C204FCE5E3E25026110000000D8799FD8799FD87A9F1B00000191DAACEA81FFD87A80FFD8799FD87A9F1B00000191DAB17E61FFD87980FFFFFF58404F33E732ADCB80A24B323BD160054CE8CF33641E2DF1AFBA2BFCE109CB8C143745880CA239B1DFB6A0C86241DC36A3E0199071F11A53267FB7836AB0DEDEB103FFFF")]
    public void TransactionInputTest(string cbor)
    {
        string unsignedTx = "84A300D90102828258200177512CA37FED793D93474F0F8F1898E2B747ADE8D7C5F7572C64B478C5ACD00182582099DA5D9C5F595FC49AE2568E38919596940EE3C394421C27C643EE7AAA69F390000182A300581D70FA74D35F4B0D48AC6288AC5CEA71F28E807565AD09845232F229660F011A05F5E100028201D8185854D8799FD8799FD8799FD8799F581C5C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2FFFFD8799F40401A05F5E100FFD8799F40401A05F5E100FFD8799F40401A004C4B40FF00D8799FFFFFFF825839005C5C318D01F729E205C95EB1B02D623DD10E78EA58F72D0C13F892B2E8904EDC699E2F0CE7B72BE7CEC991DF651A222E2AE9244EB5975CBA1B0000000137EF0544021A00030AA9A0F5F6";

        // Use the cbor parameter to validate the test data
        _ = cbor;

        PostMaryTransaction tx = PostMaryTransaction.Read(Convert.FromHexString(unsignedTx));

        string witnessSet = "a100818258202a60dcffe8ba15307556dbf8d7df142cb9eb15d601251d400d523689d575b8385840f545d4894180626ee529d4d137262a5df4d3fe40d6304d99e0dbeb7e8966afab0f3e4ef82ebcc3e9a02fbb33733bb5323d0a9c545375512630dc6db77dfc520f";

        AlonzoTransactionWitnessSet aWitnessSet = AlonzoTransactionWitnessSet.Read(Convert.FromHexString(witnessSet));

        tx = tx with { TransactionWitnessSet = aWitnessSet };
        tx.TransactionBody.Raw = null;
        tx.TransactionWitnessSet.Raw = null;

        string serialized = Convert.ToHexString(CborSerializer.Serialize(tx));

        Assert.NotNull("");
    }

    [Fact]
    public void RequiredFieldValidation_ShouldThrowWhenRequiredFieldMissing()
    {
        // Create a PersonOptional with missing fields (nulls)
        var optionalPerson = new PersonOptional(1, null, null);
        byte[] cbor = CborSerializer.Serialize(optionalPerson);

        // Try to deserialize as PersonRequired - should fail because Name and Age are required
        var ex = Assert.Throws<Exception>(() => (PersonRequired)PersonRequired.Read(cbor));
        Assert.Contains("Required field", ex.Message);
    }

    [Fact]
    public void RequiredFieldValidation_ShouldSucceedWhenAllRequiredFieldsPresent()
    {
        // Create a PersonRequired with all fields
        var requiredPerson = new PersonRequired(1, "John", 25);
        byte[] cbor = CborSerializer.Serialize(requiredPerson);

        // Should succeed - all required fields are present
        var deserialized = (PersonRequired)PersonRequired.Read(cbor);
        Assert.Equal(1, deserialized.Id);
        Assert.Equal("John", deserialized.Name);
        Assert.Equal(25, deserialized.Age);
    }

    [Fact]
    public void RequiredFieldValidation_ShouldSucceedWhenDeserializingRequiredAsOptional()
    {
        // Create a PersonRequired with all fields
        var requiredPerson = new PersonRequired(1, "John", 25);
        byte[] cbor = CborSerializer.Serialize(requiredPerson);

        // Should succeed when deserializing as optional - all fields present
        var optionalPerson = (PersonOptional)PersonOptional.Read(cbor);
        Assert.Equal(1, optionalPerson.Id);
        Assert.Equal("John", optionalPerson.Name);
        Assert.Equal(25, optionalPerson.Age);
    }

    [Theory]
    // Babbage
    [InlineData("85828A1A00A0FAA91A07AF97F758208FD832B38F12F6E1572E9BE0D63465B66D3A9413E39F550DF43476B46C609BB558207194702C765EF7F9E333DAD00C7CA3C2065EAFF5288B177A726B65CFE79379D458201B60A27DF5CE4FC9BB19AF1643815652154CDFBF609D717D9693C07E795071A782584077D15CC438BD3CE4E3E2B17F1B20D85952F069A3EC3BA294FABE9418B296F028DB590F3DAF42A6400A7CAAB0D1A2E25278737326C47C068FA451ADB828044AA85850FBD7FAAA1B9D85F47CA75277FC1D6E987825562026137CDE28A7B5DC21D7FA4D828030F911B1A06C6D759A7747AC3DF362B5DB156B373AC7A9C380BC63F9C9072355484D935BA871C50FA8898432280519380B5820A6651F0265DC9DC19819C20DC2719D6C172037AC798D43312D594DA50442998C845820B095CCD982629951A205A35A81543B3C6F0EFFA999E376D02C1443D510A6F7F70F1903DE5840E4DCAACA8A990945BC5D8F9AD076638ECB5D39D1BA084EA5B27B93B14CE658BEDCB6D5FD1ED133A16769C19B77941890D0ECCAAE4E74F2502FA4E102590CDE038208005901C053409B7ECC3FE5C73FB288DD219CD00EA1ECAB1FE6A0AB877110AB3D2D887C3000F8A10EB2DFBC8BE936D860628C5688D322EDDBB060F70C3A3FA07E568B9A08D133872360CE3A176C4013B9236A90444561F705BB126DD3621B32D9A0EFB86BCF86C02BE0187A039A2AB426D47ADB5128891DD8629639DFA6282AFF8A25206D8F3225D5BC3EFD255897E0FF5728F24556B88F7967EC543376C61D4A186BBC63411A80D8F76680F048886110EED82EA1EF1AA52DDDA81B2DAE2CC9D0EDB59739DE87A4AADA86C41A80FE46DE204E65A9491057690768FFF9A2187356F003FB4A5CA9D816B6836967A9F1C24ABEEF7026CF60FEB48CCE2A5779B4442CF07053D285331D4A67BE56F2F4BB3F87A7D3DEB31DEC91849BE166261108B1B7CDEA0DCA2FFD41026D5B4AC3F246CC3213461A0B9F5C47DA887956CAC51CBA000820A944DB011B3C5A4B6A59A6C332F07C614FA1CC66DFDAC6744268065E4F0E936C6830E50CF83DC7824A2E9DC6E754A138FFBDF7626E485136A43712175462840664E7D5EDAB3606AC58A127B4745785C9B972212350AC0FDF08C4E1E81864D6131D64E9175B979222CD46D7FCBD300DA1774E00526E38AA67333FC835ACAD5242ADCC87A400818258208B1981199658095573859313ACE20F2C933D5AF1E81650733E36DF6E06E9101501018282581D6124D274BFD913B241A8CCA20C6977775718FDDB8F3763F1D365C854451A001E848082583901AE07890AF80E4658691A834F880B3F8142D35F08B7E0A574A787521FFA40984DFE75EA6085AE8D27F52934AF3D0A42A391C514E78A6CDD561A01053236021A00028CAD031A0CC63DF2AB008382582062FF26A140262D3EE197CD93FF234D49F88EAB3483E3BDCC5B69A582F8BB1952008258207942043B920908BAD5626DCFADA4A00D812B3789E3C1925D70355B6B16F52DFA0082582099908C1030BD4F72C4135BB86E6296CDAE04C906F091976E320C2F25A5200E2602018383583911E1317B152FAAC13426E6A83E06FF88A4D62CCE3C1634AB0A5EC1330952563C5410BFF6A0D43CCEBB7C37E1F69F5EB260552521ADFF33B9C2821B0000002ED1BAB9B3A4581C0BE55D262B29F564998FF81EFE21BDC0022621C12F15AF08D0F2DDB1A1582020B7729520955D7A53FF8A39082B8011159D6628113EF47C13149179869FE16D01581C13AA2ACCF2E1561723AA26871E071FDF32C867CFF7E7D50AD470D62FA1474D494E5357415001581CCE5B9E0F8A88255B65F2E4D065C6E716E9FA9A8A86DFB86423DD1AC0A14444494E471B00000D0E2C75F5FC581CE4214B7CCE62AC6FBBA385D164DF48E157EAE5863521B4B67CA71D86A1582020B7729520955D7A53FF8A39082B8011159D6628113EF47C13149179869FE16D1A130C6AA25820A7A63A0514F3BA288D15F577D34F3FAA5CA459A1A97D0BA33D270DC93BBF14BD82583901B6A399BB1A6598ADD297EB8724911C41FB720F6D17F6221636B458E3B84DC1F29279A96CD8D21B1F81A63B10D01103A9EB86FFC79D1AB1B21A191F421382583901BCB15EA0CCDE1A3E6BCA4472724E4017E173F94E97A60D3E682A6E9D52563C5410BFF6A0D43CCEBB7C37E1F69F5EB260552521ADFF33B9C2821AF6E2075BA1581C2F2E0404310C106E2A260E8EB5A7E43F00CFF42C667489D30E179816A14D3137323331303430303030303001021A000C04AD031A07AF9BCB0758205160F88B929BF8A6C57C285B889488F9137C0EF3CFD0BCF408A10020E69146D5081A07AF97E30B58207CB052FB69E3AD65E73A6A481850426288F5730FB8D8AE813A94A190A49D5B180D8182582099908C1030BD4F72C4135BB86E6296CDAE04C906F091976E320C2F25A5200E26020E81581CBCB15EA0CCDE1A3E6BCA4472724E4017E173F94E97A60D3E682A6E9D1082583901BCB15EA0CCDE1A3E6BCA4472724E4017E173F94E97A60D3E682A6E9D52563C5410BFF6A0D43CCEBB7C37E1F69F5EB260552521ADFF33B9C2821AF6833C48A1581C2F2E0404310C106E2A260E8EB5A7E43F00CFF42C667489D30E179816A14D3137323331303430303030303001111A004C4B40AB0086825820F3DDC3B1EA46C058A39A764068EF2CB7B72B42510857ABE5357EB7E7BC90B45C01825820C112E5947A7816881C274BB4824BA657EC5D9EC07BB4B4ED8123CC94832D4D43028258201C4FF06115A456C8CAE138B9ED57CB11289DB280DD606702A0708E87CE9F55B800825820E63473E75E61545BFC3CF491002C49F9BC0543C7D85C46BE6BC8636F8A9D5E2400825820216394E05B86EF918A6C4D369717182FA5DDF11428AFD5CB16DDA32A3AD1FCCF01825820072BFA83B11291C9F05347FEE5D3499B6362A9D32461DC6745E4859F625B034501018482583901252BF67C93ADE03D9DC874748CE1103EB0B9130968A5248D381C16705C4D87DBFE9794B8DD73D8F76CB5C683BE1DF38D632133CB61AB014C1A001E848083581D714DD522FB07D1F895EE63270B040E8B6434AA848A9C48EE16A7903AAD1A281959B058208407BD463FDB8AB3C15C3D51A0B80BF2A983357176C26FF8956F48FCA750139682583901252BF67C93ADE03D9DC874748CE1103EB0B9130968A5248D381C16705C4D87DBFE9794B8DD73D8F76CB5C683BE1DF38D632133CB61AB014C821A003C0B36A4581C279C909F348E533DA5808898F87F9A14BB2C3DFBBACCCD631D927A3FA144534E454B1A006ACFC0581C41223B3ECF502363DC465DCE5AD6671B83AC790E229D3F49E68C3353AE58201DCC6D7C286A2DE84347E820F0C7470EE782590A48716C0D374AF11BF84F91490158202B222B541F34CCC28E4E6E9A9CE1C4628481FE6FE51BC34A1E45E8DE48FDE30D0158202B5A0BB58596616D24DB29C56DE9FBDB2E142C260B8FDEA43F5AE2B5D05684510158202C568BDAA195DF9DF23A9DFB24FDB8F85CBF1BDD532D1B5E0766B9847A6FA2B10158203DABB0E2FD6E598AAC8A60710123C878764D266D335CB6A80219F47772D843D50158204181EF72768DE5384584403C5032FE0134F2C6379AB1B2CFB7DA964C70ABA99501582075DB7CB03250704474C0C723E11EAD164DF7B098BEE79ECBAC4006B3E5C02F990158209356CD737265040D36A951364BE3EF9C18A06B42B5F7F0187D3C165C36E86B690158209C5AF94E7172C88868A08139FF19D47C44C011F7A0820F338241D0FB3D057009015820A99E358C89AC6C4AF9A25DD0538480CD8B498A9CC14BB2C1FE213697DB9EEAF7015820B6CF6DC35253F74A7E28B9EEDB01FAFEA96E28EBE20EE1A75B260CD8366B3FF1015820E56F42B603C7D09944F0362409F5A25D572B8781C55F0385D1260BF95F339246015820EC603D34DC271F802B3B83C5544EE2A86DB0EA922FDF092A6E8226A5FF80058B015820EC793C9A4C1B8981EED97136E7618B231C544195ECF30D1EF78A5E22AE902F3501581C4523C5E21D409B81C95B45B0AEA275B8EA1406E6CAFEA5583B9F8A5FA44B000DE14042756431343334014B000DE14042756431383833014B000DE14042756432353034014B000DE1404275643237303001581CC881C20E49DBACA3FF6CEF365969354150983230C39520B917F5CF7CA1444E696B651A0001D4C082583901252BF67C93ADE03D9DC874748CE1103EB0B9130968A5248D381C16705C4D87DBFE9794B8DD73D8F76CB5C683BE1DF38D632133CB61AB014C1A07076A6B021A00094B8B031A07AF9BB5081A07AF976909A1581C41223B3ECF502363DC465DCE5AD6671B83AC790E229D3F49E68C3353A1582083835D62DE24C15056AB445A01E093F621ECD85675EFC2BE4E8257C98B59B9B3200B58204F2988C9AE22ADC58096AB9402ADD7C61BB98C8CC6F1915967C070FD22C0C5F70D81825820E63473E75E61545BFC3CF491002C49F9BC0543C7D85C46BE6BC8636F8A9D5E24001082583901252BF67C93ADE03D9DC874748CE1103EB0B9130968A5248D381C16705C4D87DBFE9794B8DD73D8F76CB5C683BE1DF38D632133CB61AB014C1A12A262B7111A000DF15112828258202E8E08B814BE2341084CC874194BC57E0D35E210954F5E57D2A1D41CB6025C84018258205A4BB987DAF15D6C09134E515D568DDE9FDE0074FFD2FA6BABC8C820DF04A49B01A40081825820DDCAB0065D35CEDF0F7B021B35732116DC79565348B718E5B29C10761F087463010182825839011B405CB6901055942AFC1F8C1EAAFCA00AFA8BD0081DE6E58B4435FD78060531E90533ABF6B0F443BEF89C71206D3FB49BFF0F1CEA076D911A05D75C80825839012E84C78697E056402A15B96833B523B07C493761D2DAE15449C8C99DA2EECF283E18BE26C0704304EF31D63A8EC1B6ECE4F3174B07A22CC21A0024422B021A000290A1031A07AFB404A400878258203149ED17E1577C562DE7EC7224AABE107A78F8A184FC796CDEA8EAC90B526497018258204FAAD68789B140095D8B09DF63D4BEC7B22D2F07CC90BBE4F724B9ED26AF72FB00825820A2AA21BF9C81A61E89BBA8A6F9C0BBF46CA812730912E3F336E0BAD60588BF4D00825820BED656C0E1B30EFB9FB8726C0416BFDE72EAEC2BEEB951199EF2AF96706637E701825820C35D2C9A1FD03429B88A43C773AABFCDC18B2E39CF50EDEF0C1F4AEF53ACB1B603825820CD6CD0844747901801A96275BB7DEEB4654916C514D440248A21DDD2F946F1FB00825820E0CAA29C1EDF4968000B42F35B71A9049369C0A0C38EE89E10099BC40465BEE101018282583901AE4A2F776C488D54616ED50D8BBE4F49A036A7E775AA89535C7BF984293C0F5098A0561F60A629E309F2B38E835EF4EF949EC3E427FDD2961B00000003F5476A0082583901AEDE1E35FF87D21A8297DBF3CED2C975E0556960348D8C5106B52A7E6948A5BEC1CBE3467F5A068DAADFF4F92DE03BD7CA263A370D04ED9A1A20B90FA5021A0002C8A9031A0CC63DF0A50083825820C298DC1865EB0436DC9C18AF92438A8DD5FE8FC220162A49AC2589719B81900000825820B9D8C11A597EBD824FDC5FCF7DBF49A98AE194108B38CB481D08992BDF7E4F29058258203934E5C09462754C0E81C944CDACC67995F8F1892FD6297869E1E94E57D68651010183825839019E415AB35AC812BB7EDFA7223BB1D6E89AC8C45CC010D0E8ECF5807396C7C0721CFA557649A36DCBF7F8AED5B434561235593C7FF1B86FB81A004C4B40825839019E415AB35AC812BB7EDFA7223BB1D6E89AC8C45CC010D0E8ECF5807396C7C0721CFA557649A36DCBF7F8AED5B434561235593C7FF1B86FB8821A00328200AB581C8DA763CE1D6ADB725A295A7F145C32808295B542DE5062D92EFA8370A24E000DE14046726967696433363531014E000DE1404672696769643435363101581CCE4D6F507A71B917DB0377D8F7309FE60DAD3C5397C730EA7F894BBBA24A54616E616B6830313035014A54616E616B683036353401581CD1F6CF1B73A74A154367269E759902739177D24B93286856EFE2B932A15045726D6F204F4720504153532023303701581CD5AB720E866E796D0212C61D36D5664819AB56437F2DF919FCAE5530A151436F6E737469747574696F6E555330323301581CD6EA64DD658ADC56FCB553AF88DB495A423D4573DDB3BD4803DF6AB5A14B323939393630313130353401581CD89775133F108329854694A2BDCB352D26C1D930739257D6CEB89BC3A1457247454E5301581CE1A212122B07460A739AF69751BD01CD03174791F778B2365CC0B8F6A14445524D4F19EEB3581CE304E709916948816B793C857C92EC765095E82653539B7928051ED5A14F53756E416C736F526973657336343801581CEFFF17A2E610E5C9F46E33FE964C39602399F95AA367B37F039C1EFCA15343617264616E6F466F725468654D617373657301581CF0FF48BBB7BBE9D59A40F1CE90E9E9D0FF5002EC48F232B49CA0FB9AA151000DE1406D61646D757369636D616B657201581CFA1A9FE50BA15C82F9FC18C8FDB25C745769061991C0C6C100CAD960A1545468655477656C7665436861707465727334333201825839019E415AB35AC812BB7EDFA7223BB1D6E89AC8C45CC010D0E8ECF5807396C7C0721CFA557649A36DCBF7F8AED5B434561235593C7FF1B86FB81A04276A59021A00031E41031A07AFB41105A1581DE196C7C0721CFA557649A36DCBF7F8AED5B434561235593C7FF1B86FB81A0013B0DDAB008382582011785188711F5B4BB104056865F724D542AFA256C4FB057A444331A273F1EBD602825820769ED9AC76C358169618F5EAABC6B0E37373866665BD4EA17607F4EC0612FEA600825820BEF529C7CF4FB5C33173E75795AA34C4D9EFA4931DD7D6B07E8A8900E0063FF5010183A300581D711869C28A5C1023A10C1DEB30D112226CF45130B800A22D9C2AFC1C9C01821A001E8480A1581C08C56C0FA73748A23C3BC1D9E6A60A4187416FC4FF8FE3475506990EA1484E6F64654665656401028201D818583CD87A9FD8799F581CE33BB9C5E634BC5BE187EABA0D94725EF71505D4A4CA6E0FED0B2E6DD8799FD8799F1A0005B9801B0000019096A7E9B2FFFFFFFF82581D61E33BB9C5E634BC5BE187EABA0D94725EF71505D4A4CA6E0FED0B2E6D1A0089544082581D61E33BB9C5E634BC5BE187EABA0D94725EF71505D4A4CA6E0FED0B2E6D1A006F7AEE021A00044EE3031A07AF985B081A07AF97E30B5820829DDE81A2958DAAEC321BCA75A193ED76D580503F89AC44F8A4F96109DF6F220D81825820769ED9AC76C358169618F5EAABC6B0E37373866665BD4EA17607F4EC0612FEA6020E81581CE33BB9C5E634BC5BE187EABA0D94725EF71505D4A4CA6E0FED0B2E6D1082581D61E33BB9C5E634BC5BE187EABA0D94725EF71505D4A4CA6E0FED0B2E6D1A0049A42D111A00370C3F128182582039435B3F8A6F3FAD8771E07B5B6790A940FECC4C20A7043E945E44FF427E41D30087A100818258206A29EF8CCBEC0A3C966443A3CBF142717338517A0418B40A8CCA20CFAAA5A65E5840A5A4E03B6A9ACEEBBE2A10E11030B19CDB48103D223DA34FB7D3532BA36E30FE4EC6B0498936D6356BFB7B65D27347BD7AAA668F6E11EC0A80E5D3480E56F80DA400818258200303157375F23161027902ABFF500A6268C00A69F45F7BFE5ADBC2F70F15DF9458400CD61DBA11FC23C54FD36E3710EECE5300CF8B573D7D89EB0B59BB74849A1704DBC26CAE0FA14184182CDC0511B94D1E2AE10FD7BF62127127B4A110AF839800038259014F59014C01000032323232323232322223232325333009300E30070021323233533300B3370E9000180480109118011BAE30100031225001232533300D3300E22533301300114A02A66601E66EBCC04800400C5288980118070009BAC3010300C300C300C300C300C300C300C007149858DD48008B18060009BAA300C300B3754601860166EA80184CCCCC0288894CCC04000440084C8C94CCC038CD4CCC038C04CC030008488C008DD718098018912800919B8F0014891CE1317B152FAAC13426E6A83E06FF88A4D62CCE3C1634AB0A5EC133090014A0266008444A00226600A446004602600A601A00626600A008601A006601E0026EA8C03CC038DD5180798071BAA300F300B300E3754601E00244A0026EB0C03000C92616300A001375400660106EA8C024C020DD5000AAB9D5744AE688C8C0088CC0080080048C0088CC00800800555CF2BA15573E6E1D200201591E1B591E1801000032323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232222323232533533355333573460CC0042646424446600200A0086EB4D5D09ABA25002375A6AE85400454CCD5CD1832801099091118010021BAD357426AAE7800C54CCD5CD1832001099190911198018028021BAD357426AE894008C0CCD5D0A80082E1119191A827911111A80391191111AA99A9824806108008B1119191A9A9A80103102D91191919191919191AA99A982A89119982D91299A99820A8071A80103409980200100088008008020B03C9111919191919191919191919191982A299A8050A99AA8100999AB9A3094013303A307908101330820106700B06706E0060063305433355307908101305C05A305953353502B2233500206E2071210011635014222222207A33054353501422208E0122350012322533355333500A2153335004215333500C2130054984C011261533350052130054984C0112603C04F15333500B2130044984C00D261533350042130044984C00D2603B153335003205003A04F153335003215333500B2130044984C00D261533350042130044984C00D2603B04E15333500A2130034984C009261533350032130034984C0092603A153350010700820108201070253335002215333500A21533350042133303A03B00200116161604E15333500921533350032133303903A00200116161604D04E33054330500153306F00B02733054330533306301602548008CC150CC14CCC18C02C0952002330543305333063001010002330543333084012222533500315335002135001222223305D3305C0053306C01402B3305D3305C0043306C01402A3305D3305C00300C3305D3305C0023306C0140193305C001304800D0910122153350041622153350071622153350081622133300C003001323232323232323533307D0050070272222225335330743305100248000CC1440052000161333335003235500B2222223501D222223501B22235051222223232323232323232323253353308B013308B013306E00848000CC1B802920003308B013306D00201E3308B0153353306E00A00315335330870100E07013308B013308A013309A010110703370066E0402800C060CC22804CC2680404411C0084CC22C04CC22804CC268040441C0060CC22C04CC22804CC2680404411C008CC22804CDC08050019984D008088070A99A998370041A802055008A99A99843808078380998458099845009984D0080883819B80337020106A008154020306611402661340202208E00426611602661140266134020220E003066116026611402661340202208E004661140266E04020D40102A804CC2680404403C4CC22C04CC22804CC2680404411C008CC22804CC268040441C0060CC22C04CC20C04048070CC2080404006C4C8C8C8CCCCC2C80400C008CDC019B800180050013370002E002A66A0082605466E0800C00840594CD400C4CCCC0A005406406005C520003370002E00866E0005CD40102A80458C27C04028D40082A404D40042A404D54CD54CCD5CD19B8900148000278044C94CCD5CD19B890014800027C044C94CCD5CD19B8900148000280044C28404CCC2EC0400C0080054CCD5CD19B8900400610041006350020AD0121001160B901350010B0015333573466E2400400C54CCD5CD19B880010031330A8010023370666E080080400444CC2A0040080104CC2A004CDC199B820040110100043370666E080040380414CD4CC1FC01C1A04CDC0998490081100399B80011010133092010220073370666E080040300354CD4CC1F40101984CDC0998480081000219B8000F00E133090010200042235500C2222223501E222223501C222350522222232323232323232323253353308B013306E00748000CC22C04CC1B4008074CC22C04CC22C04CC22804CC2680404011C008CC22804CC268040401C005CCC22C04CC20C0404406CCC2080403C0684C8C8C8C8CCCCC2CC0400C008CDC019B800180060013370002E002A66A00A2605666E0800C00840594CD40104CCCC0A405406406005C52000350020B301350010B60153353330690870100E01E1330AE013370002C00E02A26615C0202C66E0005401C58C27C04024CDC199B820010123370200400266604400600266E0CCDC0981219B803370400400466E08CDC119B82337049004241941E90680780200198600080199B824801120CA0F350050A70130BE01001350030A60153353308001001069133702661260204600266E000440404CC24C0408C004D400428804D54CD4CCC1801F80140544CCC2D0040140340304CCC2D004010030034888D400C88CCC2E40401401000C88D54030888888D407888888D4070888D414888888C8C8C8C94CD4CC21804CC1A4009200033086013306800101833086015335330820101906B13308501330950100B0193370000202426610C026610A026612A020160320026610A026612A020160D60246610C02660FC01802C660FA01402A2A66A6660C8104020120322666661540266E00044008CDC08080008078070068999998550099B810110013370002000401E01C01A2C66603E6A00614C026A00614A02002A66A66100020020D2266E04CC24C0408C004CDC0008808099849808118009A800851009AA99A99983003F00280A899985A00802806806099985A008020060069111A8019119985C80802802001911AA8061111111A80F111111A80E1111A82911111191919191919299A998440099835802240006611002660D80020086611002A66A66108020360DA266110026610E026612E0201A03666E00068050CC21C04CC25C04034014CDC08020008A99A99842008028368998440099843809984B8080680D80D19843809984B8080680299B8033702008002028266110026610E026612E0201A03603466110026610E026612E0201A00A66E04010004CC21C04CC25C040341B4050CC22004CC20004038060CC1FC03005C54CD4CCC1982100402C06C4CCCCC2B004CDC000980099B8101201A01101000F1333330AC013370202603466E0004800404404003C594CD54CCD5CD19B880190011309F013370066E0CCDC119B82002019483403CCDC119B81001019483283D200209E012100116350040A601350030A60153353308001001069133702661260204600266E000440404CC24C0408C004D400428804D54CD4CCC1801F80140544CCC2D0040140340304CCC2D004010030034888D400C88CCC2E40401401000C88D54030888888D407888888D4070888D414888888C8C8C8C94CD4CC21804CC1A4011200033086013308601330680030193306800201833086015335330820100906B133086013308501330950100B009337000060246610A026612A020160100042A66A66104020100D626610C026610A026612A0201601066E00008048CC21404CC2540402C02400C4CC21804CC21404CC2540402C02400CCC21804CC21404CC2540402C020008CC21404CC2540402C1AC048CC21804CC1F8030058CC1F40280544C8C8C8CCCCC2B40400800CCDC019B8101200700133700022002A66A0082604A66E0800800C40414CD400C4CCCC08C03C04C048044520003370202400866E0404000858C26804010CDC199B8200200E00D3370666E08004038030CC244040840F8888C8CDC199B820010033370066E0801120D00F0013370400290650791112999AB9A3371200890000A4000264A666AE68CDC48008028A4000264A666AE68CDC4800A400029000080099B833370400466E04004014CDC019B8200148028014C014CDC10018011192999AB9A33710004900004D808A999AB9A30A10100214800054CCD5CD1851008010A40042A666AE68C28C04008520021330010023370066E0C009200448008C254048894CCD5CD19B880010021330030013370666E00CDC1802000800A4008200426660F2002006046464A666AE68C27C04D55CE80089919191919191919191919191919091999998008050048040028018011BAD357426AE88008DD69ABA100135744010A666AE68C2B4040084C8C8488888CC01001C018DD69ABA135744A0046660F8EB9D71ABA15001153335734615802004264642444446600200E00C6EB4D5D09ABA25002375A6AE85400454CCD5CD18558080109909111118028031BAD357426AAE7801854CCD5CD18550080109919091111198010038031BAD357426AE894008CCC1F1D73AE35742A0022A666AE68C2A4040084C8C8488888CC00C01C018DD69ABA135744A0046660F8EB9D71ABA150010A101135573C00A6AAE74010CC1E1D71ABA100530743574200A60E66AE84014DD51ABA1001357440026AE88004D5D10009AAB9E0010970137540026A002104026A00810C0260C82446660D444A66A660B066606C0D46A004104026A03C1040266606C0A06A6A0040FC0EE05E266008004002200200202A60C82446660D444A66A660B066606C0A06A0040EE6A0200EE66606C0A06A0040EE05E2660080040022002002026666660F0660C602C044660C602C04203E660C602C02003C660A8660A0044607A008660A8660A0042607C008660A8024660A8A66A60C82446660D444A66A660A66AA03A104026A6A0040EE1040226600800400220020020260D6442A66A0020FE440DEA66A6660640A600490000998299981D183C840809984100833800A40042660A66607460F21020266104020CE0029000183800999B8100101D303D001333066059008010305333307F22322325333573466E1C010DC680488010A999AB9A308F0100415333573466E1D205A500313370290001980299B800044800800800400454CCD5CD19B885002481805854CCD5CD19B8950023370090302402426600866E0000D20023370066E08005201433702A00490300B099B8E0060014800120001533500400115335501A13335734611A026606860E60F6660F80C200A0C20D00022A66A0062A66AA0320022666AE68C23804CC0CCC1C81E8CC1EC18001018019C0044CCD5CD18460099819183883C9983D02F80182F833299A9983D91299A8008321109A80111299A9982B00101089834800898030019A9A99A983B03C00501083883610A99A8008B1109A80111299A8018A99A99827800A400420042C112022C666AE68CDC49982C800803240000C80BA6A0020D4A66A60B02446660BC44A66A66088A0226A0040D6266008004002200200200E2C0F8660CE02C6A00A0D460C2006A66A60A42446660B044A66A660826AA0160E06A6A6A0040D80CA0E026600800400220020020060B2442A66A0020DA440BA60BA0026A0280D4660B40020246A6A0080C80BE26A6A0020C20B4A66A609601C420022C2A66A660600040320BA266060002032603200E6068010464646A09C4444464646464646464660706606A00C0066607066068660A600C018660A6006018660706606E6608E6A6A66A60C60CA00401E0BC0B2660B601201090011981C1981F998188070009981C1981B9811800A40006607066068604201C60420026607066068604401C60440026606E604801C6048002660706606A60AA00A09666070A66A609024466609C44A66A60A26A6A0040C40B8266008004002200200200809E442A66A0020C6440A6A66A609024466609C44A66A60A26A0040B8266008004002200200260B000E09E442A66A0020C6440A666609A08000600860A40066A0020ACA66A608824466609444A66A660666A6A6A00E0BC0AE0C46A6A0040AE0C4266008004002200200260A80062C0D06A0100BA6A6A0020B00A6A66A608400C420022C603000C606600E4464646A09E44444A66A6A00E440A8426464646464646464646464646607E660700286660AA09000800C6607E66076014660B40060246607E6607E6607C6609C6A0040C00120106607E6606E6A0040BC6A01A0D26606C6A0040BE6A01A0CA6607E6607866AA60CE0D846A00244660CA00466AA60D40DE46A00244660D0004666A0026E012000700466E0000520000013304000B3500922330723306400233072330640010090540540033303F3303E3304E3535335306A06C0010160650603306200F00E48008CC0FCCC0F0C1700181494CD4C13C488CCC154894CD4C160D4D40081A418C4CC010008004400400400C1588854CD40041A888168C168014CD4C1A01A800C04CD40041754CD4C12C488CCC144894CD4CC0DCD4D4030194178D40081784CC010008004400400400C581BCC160004D403418CCCD4080178D4D4080188178004CC11800C004CC164020D4004170CC140004020D4D40041681554CD4C11001C8400458124C06401CC0D0020448004584D55CF0011AAB9D0013754004444A66A6600600400207809C46A0020B0246666666600204044A666AE68CDC38010008020A999AB9A3371200400203203044666AE68CDC400100081B01E802802001912999AB9A337120040022002200444A666AE68CDC4801000880108008881F11199AB9A3371000400207406644666AE68CDC480100081C81911199AB9A337120040020620706607C91100488100223333550023303F2233350050480010023500304222337000029001000A4000660784446006600400240026607666076E01200070246A0024444400A46A0020A246A0024407246A0024406C464A666AE68C140D55CE8008991919191981E2999AB9A305435573A00626464646464646464646464646464646464646464646424666666666600201A01801601401201000E00A00600460446AE84D5D10011980F1981DBAE2001357420026AE88008CC071D71ABA100135744016A666AE68C190D55CE804899191919827A999AB9A306735573A004264660A066038EB4D5D0800980D9ABA1357440026AAE7800817D4CCD5CD18339AAB9D001132330503301C75A6AE84004C06CD5D09ABA200135573C0020BE6EA8D5D09ABA200237546AE84004D55CF00482E1980C9981B019BAD35742014660300326AE84028CCC059D70029ABA100A33301575C0086AE84028CC054008D5D08051980A1192999AB9A306035573A0022646609260326AE84004C010D5D09ABA200135573C0020B06EA8004D5D08051192999AB9A305F35573A002264646660B060606AE84008CCC059D70029ABA10013303375C6AE84D5D10009ABA200135573C0020AE6EA8004CC045D73AD37546AE84004D5D10009ABA2001357440026AE88004D5D10009ABA200135573C006098A666AE68C15C0044C848888C010014C02CD5D09AAB9E00215333573460AC00226424444600400A60486AE84D55CF0010A999AB9A3055001132122223001005300C357426AAE7800854CCD5CD182A0008990911118018029BAE357426AAE78008130D55CE8009BAA357426AE88008DD51ABA100135573C0020906EA80048C94CCD5CD182800081E8A999AB9A304F00102B04735573A6EA800488C8C94CCD5CD18290008058A999AB9A3051001130193004357426AAE7800854CCD5CD18280008050241AAB9D00137540024464460046EAC004C10888CCCD55CF8009014119198239981C98031AAB9D001300535573C00260086AE8800CD5D0801020919118011BAC00130402233335573E002404C46608860086AE84008C00CD5D100101F91919192999AB9A305300211222203515333573460A4004220922A666AE68C1440084C8C848888888CC004024020DD69ABA135744A0046EB8D5D0A8008A999AB9A3050002132321222222233002009008375C6AE84D5D128011BAE35742A0022A666AE68C13C0084C8C848888888CC018024020DD71ABA135744A004603A6AE85400454CCD5CD1827001099091111111803804180E9ABA135573C0062A666AE68C1340084C848888888C014020C074D5D09AAB9E003045135573C0046AAE74004DD50009192999AB9A304A35573A0022646606660086AE84004DD69ABA1357440026AAE78004108DD50009192999AB9A304935573A00226EB8D5D09AAB9E0010413754002220582205444A66A00442A66A00442660240040020462A66A0024046068446A004446A006446666010008006004002446A004444446A00C44444A66A6601E01400A2A66A6601E0120082A666AE68CDC38040018A999AB9A3370E00E0042A66A00C42A66A004426A004446A004446A00A446A00444A66A666602E00C00A0040022A66A00E42A66A008426604800400206A2A66A006406A08C0680562A66A002405607805405405405444446466A00A466A0084A666AE68CDC78010008018121013919A802101392999AB9A3371E0040020060482A66A00642A66A0044266A004466A00446601200400244405444466A0084054444A666AE68CDC38030018A999AB9A3370E00A0042660220080020520520442A66A00240440664466A004466A00446601C0040024046466A004404646601C004002446A004446A00644A666AE68CDC780200109980780180081091199AA9815019180680191A80091199AA981681A980800311A80091199A800919805A40000020144660160029000000998030010009981280100A91199AB9A3370E00400202C03A44A66A00420020324466AA605205C46A002446604E004666A002466AA605A06446A0024466056004601800200244666010016004002466AA605A06446A0024466056004601600200266600600C004002444666AA605005C06466AA605205C46A002446604E0046010002666AA605005C446A00444A66A666AA6054064601A01646A002446601400400A00C200626606C00800602800266AA605205C46A002446604E0046606844A66A002260120064426A00444A66A6601800401022444660040140082600C00600800442444600200842444600600844666AE68CDC780100080800B9980E80080A11299A801012080091980E11199A8018128010009A80080F9192999AB9A303435573A00226464646466666042666016EB9D71ABA100433300B75CEB8D5D08019BAD357420046EB4D5D0800998051192999AB9A303A35573A0022646604660146AE84004CC035D71ABA1357440026AAE780040C8DD50009ABA1357440026AE88004D5D10009ABA200135573C0020586EA80048C94CCD5CD18199AAB9D0011323301C3005357420026600C0086AE84D5D10009AAB9E00102B375400246464A666AE68C0D00044C8C8C8C8C8488CCC00401801000CDD69ABA1357440046EB4D5D08009ABA2002375A6AE84004D55CF0010A999AB9A3033001130103004357426AAE780080ACD55CE8009BAA0012323253335734606600226424460020066EB8D5D09AAB9E00215333573460640022601E6EB8D5D09AAB9E00202A35573A0026EA800488C8C94CCD5CD18190008980798021ABA135573C0042A666AE68C0CC0040380A8D55CE8009BAA001222325333573460626AAE740044C8CC068C014D5D080098021ABA1357440026AAE780040A4DD5000911A8009119198131119A800A4000446A00444A666AE68CDC7801004898038008980300180298129119A800A4000446A00444A666AE68CDC7801003880089803001919A80081100211A800911A80111111111111999A805900B900B900B9199AA981101500B11A80091299A998090010020980C00180B805912999AB9A3371E6A0040346A0020342666AE68CDC39A80100B1A80080B001805003880B91180F11299A80088019109980300118020009299A800900B0019111A801111299A800909A8029111111111299AA99A999AA981001400A11A800912999AB9A3371E00401C2602C00602A0044260286A0020440244260240022C2C2006424460040066601444A66A0044200620020022018446602E44A66A00203C4426A00444A666AE68CDC78010038A99A8008111109A80111299A8018A999AB9A302D00113301400B0020262202813006003002235001222222222200A2350012201C23500122222222220092220032220012220023333300248811C0BE55D262B29F564998FF81EFE21BDC0022621C12F15AF08D0F2DDB10048811CE4214B7CCE62AC6FBBA385D164DF48E157EAE5863521B4B67CA71D8600330014891C13AA2ACCF2E1561723AA26871E071FDF32C867CFF7E7D50AD470D62F004881074D494E535741500048811C2F2E0404310C106E2A260E8EB5A7E43F00CFF42C667489D30E179816004881054F574E455200221233001003002222221233333001006005004003002300B22112225335001135003006221333500500C300400233355300700F0050040012200130092211222533500110022213300500233355300700D005004001300822112253350010052213300F30040023355300600B00400111001220023005221225333573466E20005200013005490103505436001533500213005491035054370022153335734602C0062004266A600C01000266E0400D2002253357380022C240026004444A66A00220044426A004446600E66601000400C00200660024444A66A00220044426A00444A666AE68C0500044CCC02001C01800C4CCC02001CCC028CCC02C01C00800401800C8C8C00400488CC00CC00800800488488CC00401000C88848CCC00401000C00854CD5CE2490350543100162215335001100200715335738921001622222222007220053704904D0F910B111110021B8748000DC3A40046E1D2004370E90031B8748020DC3A40146E1D200C01049FD8799FD8799FD8799F581CB6A399BB1A6598ADD297EB8724911C41FB720F6D17F6221636B458E3FFD8799FD8799FD8799F581CB84DC1F29279A96CD8D21B1F81A63B10D01103A9EB86FFC79D1AB1B2FFFFFFFFD8799FD8799F581CB6A399BB1A6598ADD297EB8724911C41FB720F6D17F6221636B458E3FFD8799FD8799FD8799F581CB84DC1F29279A96CD8D21B1F81A63B10D01103A9EB86FFC79D1AB1B2FFFFFFFFD87A80D8799FD8799F4040FF1A18E0E563FF1A001E84801A001E8480FFD8799FD8799F4040FFD8799F581CCE5B9E0F8A88255B65F2E4D065C6E716E9FA9A8A86DFB86423DD1AC04444494E47FF1B0000016902C758161B0000018B9265F3F5D8799FD8799FD8799FD8799F581CAAFB1196434CB837FD6F21323CA37B302DFF6387E8A84B3FA28FAF56FFD8799FD8799FD8799F581C52563C5410BFF6A0D43CCEBB7C37E1F69F5EB260552521ADFF33B9C2FFFFFFFFD87A80FFFFFFFF0582840001D879808219A44D1A00E33567840000D8799FD8799FD8799F581CBCB15EA0CCDE1A3E6BCA4472724E4017E173F94E97A60D3E682A6E9DFFD8799FD8799FD8799F581C52563C5410BFF6A0D43CCEBB7C37E1F69F5EB260552521ADFF33B9C2FFFFFFFF02FF821A00280F711A2EE1ABA7A30081825820F91F45CD2DC870AE7F65186C74C6A183A540898E61D51A3126A6F00BB950B27958402BBF458FCC9ADBBDB5990BA91606CEFABAEE1439BDCB498D1FCC2C9E936A6361A126BE17E9D2955276F5FF66D855C1AFB3FE7B8B1BE0B4CAA9D60ABE3F4D8E08049F80D8799F582083835D62DE24C15056AB445A01E093F621ECD85675EFC2BE4E8257C98B59B9B3D8799F4040FF1A26BE3680D8799F4040FF1A015B23309FD8799FD8799F581C4523C5E21D409B81C95B45B0AEA275B8EA1406E6CAFEA5583B9F8A5F4B000DE14042756431383833FF01FFFF1A48190800582083835D62DE24C15056AB445A01E093F621ECD85675EFC2BE4E8257C98B59B9B31B0000019051AF7A480100FFD8799F582083835D62DE24C15056AB445A01E093F621ECD85675EFC2BE4E8257C98B59B9B3D87A80FFFF058284000501821A00279C441A2F128CEB840100D8799FD8799F5820BAF4F9A24D72868698BDD2FCCCF1C00E3990252F239AFAA031FEA146B8E7942EFF01FF821A001F69F81A260DE8FAA1008182582006E05CFF0C72A3EF4E2853C351BD122FE7E5049A37737983394F012EAB37C8515840725086D5F44100A22705E0BC545C4B24F77266DC6C8154EB1B7FAE989C87566E7CDAECDB4AFB5EDDE2050AFFBA426E27457F2CDF1EC26C31B0AFD2AC61C6680BA1008282582004F3E99F60B98399C5420DBEC2BEECFE5F7E2DB477962BBDB1EAB4FB5C87BE3258402678886A86150F1314C65211E57639FB4B37E45A38E15CB894F27D3EA3B9AE23E32AF0FD551F89C6C13ED156A8CCAFDE94E7568BCE26CCFE7A0A8B40B2D243028258206BB92A20014AF583D1ECB932D8C6FC284274CB5DF043EC36546F0FC8B10C27DE58408A5CCCD412A974E67341364E431BB349C1138A8AE61BF7689E949D7A555A1E14B5CFBC006B66497C4B230F247E433D2F453115011081359258925218972AA50DA10082825820B2C6CA24ECEEAA1D8E3F4E7B7D08582EB988CFCA33ACE149D97D13292D79CEDF58401758913ADDC471E9E53570E72B5778B6E9C7D3D47A4EBB1E64B8959BC70847DA6E1A5B86061C772135C3C7B6BED6B10F4A6A192F59B7653A45FAA64F9B6463048258203A2680B177DBB362922FA79A4C944D79221AC55CA6C3A0C11B60AEC9898BBC1E5840920288EFF6A54E2FB20C25B4F040024926FF0708713E68ED7779582927A1CA4D9EB05D133CE92AADA7F4AD3BD5E704A85AC2F68809569762F25D09937AE42F01A2008182582045E7EE2749DD98AC23244FF99D31DF8C64CBBC17D246B02DE9612268740B7D3558402271B7EB17EBBCB5119D0E41A953FC1344AC69C7B690599404DEDED7193852C175A6C8D7912E8DCA3E3AA87512308C3CA430CE9B5488047282A8BD3105372B090581840001D87980821A0012C8941A15F9CDB0A101A11902A2A1636D736781774D696E737761703A204F7264657220457865637574656480")]
    public async Task DeserializeBabbageBlock(string cbor)
    {
        byte[] cborRaw = Convert.FromHexString(cbor);

        const int concurrencyLevel = 1;
        const int iterationsPerTask = 1;

        IEnumerable<Task> tasks = [.. Enumerable.Range(0, concurrencyLevel).Select(_ => Task.Run(() =>
            {
                for (int i = 0; i < iterationsPerTask; i++)
                {
                    Block block = CborSerializer.Deserialize<Block>(cborRaw);
                    byte[] serialized = CborSerializer.Serialize(block);
                    string serializedHex = Convert.ToHexString(serialized);
                    Assert.NotNull(block);
                }
            }))];

        // Await all tasks to complete; if any fail, the test will fail
        await Task.WhenAll(tasks);
    }

    [Theory]
    // Alonzo
    [InlineData("84828f1a005904061a01e4f6a5582021c3111a9a7bc94c4473232472fc13cdc2d28ffdd23d9ed7b717eafcaf3cfebd58202f3cc6c3b7f0e0c9ded59042ed973ac7aa4031167f0943c36d33bdf9bce73df15820d31eef88456a81532b2e3542edc12efefb74ad83c60d60448b70f3b0c285b885825840d9921e2e598048e8af42cce072c6e74d22dc0064e94c1b32115ea494065135b167fef63ccb12c5940eae27c726a68dc92db5f473b26a446ca495e23a4d3105b058501273dd72bc5091c6b7c34563576d011a5f61033211ea2ff0cc1976df837898d2084ed7f6f0284bc368b304fccef948c87b536db46af1e47141070fba9ba4788cb9bcaa9726f685ca4a953379c5e4f80d8258400006925d0fcc5b11fcf3d6303510b705e704ef5c1cd71bee6feb58f0895b2feaae9c843966b5e769f74b7937154ae767986ca553110dcff8b69c05961095656058508bd080d854b522a284d558adbd4516909c9ad7bb105bacd150f15c35aa82e2139aa8260a93a0e80287579fe46dd1c16577195d0aa5c861f4af85bed4b69c423587b191346e9a684781555e34a7c91b091924a85820df0c914fe93ecc076b9fa077390a4cd3ecf0413e5f71b88801cdd4d292b169be58208e825442eb570280bbcd1b554cc293231a7872bb05b3cc6ed2d16db6204b14ae0618c75840e7694afdec5e9edd646e5f5bc78362c1b079d0d62ef2c20f94b861cb8792222a3d98ac0fa94152e40a4f78a7bdab89b9c338e2da837725f3f0e4e4b6d67d890b04005901c0cf880816e236766340725d07aa598ebc56b7999a5d2dff8be576bb8c06ff66a5027c1cfda2b0b1c8e32413edd5e592b9adc9e74fcfd2017afe2fe98d1455b4098a0c89711bd71afb2f5e10a1265768f2c84d98d6acd1cf052bcc616a0255e0b867766a7723e99955687dd389c7864394ae1400836d9c38ac1fd467db5e9c11bb1dc787e0eee92473b93b48b09eaaa6d3a160d869895e37c300c2583161878aad6b06c0fe46e0b0d28fa1028047874ff4e70d23c5f453e4687b658311c42640ab8e6a1bdd02719ae72feb428627fed163b58c33f8a7d56ad0945009abb8253beb5e5dff60cf9afc15c910962fe4c34480f06fb8950afdbdde8281b1140e5e3265aca7020a3e3fd0aeaacb75fc9f933737f233cde6c03a7eb92742e028bbecc40969e0b68f08e53bd39362cb9d4226014c2ad89d425c754c1abb11ea9a54480aa4bcfe57ad62b77903cd90eb8e3374f40a7a11beda3c76c9cda5bb05ac5f00f0f868f07eaf1b1a9f5dde8ea19284caeec8e0f4d3cb9e14a676cf1f79adb31428bc910468877a200bd233e78b367b5ee667c29c2a0caeaa3936955e997bb02637975b47b75a0fae0bbe874d16fea05dfaecd87c9870bfce0d4ce1dab6320fed49da8da600818258206384be115440a4398bee154a03b0660cde77866ee87d668213242d8e52f813b300018282581d61b09810bf167ee557da7955bc8135b0a9c9e51fad323acc4b6841abd31b0000000107828e7582583901f0ba8e195c38a3be42b81959060f5e6a9a0cd3d328d8195bbbd7b1990e49deba7d017723225dc1779de91e4d19038609d69c6ab6f684ed0b821a001e8480a1581cb7ef0cfb14f588740d02ce8a53879ff96ab03c7b21ec1c459ac2bddaa15048617368477561726469616e3137333201021a00031a21031a02dc6c00075820449031012be3ce0052199538f0c2db90726f8d36eb11b00db6b510a8c9243cd609a1581cb7ef0cfb14f588740d02ce8a53879ff96ab03c7b21ec1c459ac2bddaa15048617368477561726469616e3137333201a4008182582005f2aef69abfcf78a67779b6e6b0cbc5592724fc53ee6ea0b8f4649eb9bca73000018282583901d5645f643be8735fb35c85c220c5bf521411a310bda81b4208462c3357de49b84973da8064a5867c2ea82a60abb7a010ff88b9e59fadfc221a003d090082581d61d91ef01b73f3010bb173945cf5417257c00c002715a13052015ab54f1a5b4d3873021a00029cd5031a01e4f753a400818258208760b7bb6c2f9c5cc340cd2c62ec3ab27b40777cb079e1b7fe01fe6123dee58501018282581d615fc1436b582a50ff4c5fdbf7e20942bdd45eb3aeaa7abdf442a6a34a1a1dc1b06c82582b82d818582183581c05b073f36ee030589a31148838cd47e8d8c8f82fec9fe091c7d53cd8a0001a0c5f26b11b0000000b9eaf4d11021a00034059031a01e4f7dda400838258209d9c7d4ea2dfbc730fe955b7c0b684123ed86f0054b7dc943727ac7bc7c2c7d200825820190a4421872e886d45325b1c2bbef914d98f11522ea81ed92a8839a87ad9a4b80182582005ede2bc0420a37dec63e032603b03e4a365831e5671aaada2ba6344c0234a7d010182825839010421800176834399c971e71972d5c85d1b45ee9c71242b6fc25cb84dcb4023d8148d86a8072f39cdb21628f2691e7a89f38ed158aa5d27bd1a3b9aca0082581d616904e8b2c26f3dda6c4a5db4b3ec9e31d581c9960977cfe9c6917a431a1c5f0591021a0002e195031a01e4f753a60081825820bdb86187627fde6eee1601c88a792cb9f3a459f6cab26ab281362f9751f0ae4900018182581d61d80fe69ded1ff90f41e526d0332a2ff98ba8a0d85ceb8941b51784201a05f11c47021a0004c4b9031a01e63c82048182068200bf8200581c001ec42376196df0b85b6ad660e7419e77b51b16fda8b931d559562e1a01f9d2708200581c0122c6ccb1533c9992ff08a9029b7b5a016d5c08d31a4963cd027afc1a012661c28200581c01fad190adc72e0884adb77aa72ef9d95d3adb75f782bad63b53a5b71a02c7c0c48200581c0a57686dc0d73abbf6ba8d1310dcf6887b2daa4693d94bc170fc08551a00ecbf328200581c1176b053d803161ca3ac7295f5ea78171b91650dc558d852e4547b601a0008ab5e8200581c125fa8bc3a9acda7a2e3646d6ecfaea925758378ad18011ef7164f461a05bb79a68200581c153d28771d39b9852db013519d4ac5542f6e7ff61c5b5327a129d7681a001ac34e8200581c158cfda322ce2afdebefdf65f9cf1bc671472a470552ee2f55c8837a1a0091b6e68200581c199231d9529171c85390273df7dc21d787883ab3cde9f8ebae107a891a0124b99e8200581c2142e4997ca5f537199575019d277554c0aa14841af61d275978a4dc1a0004dda68200581c22f8366b4ec72f3c0be8b13a2f1360426229f44db187d0534e68c7141a002359898200581c24f1b3791037e55363815fc4b788b886cd1d82a2f2d39e17196cd1a41a001663a58200581c27f1b09428918e1454bf6e7c6cb88e3444f6e6a73f5d0ee644174d491a004b24038200581c350d09ffe65fec05b5cfea6672a16711ed3266ae608cdc6c4a75bae71a04c71cb38200581c3c775aaea2b5571a7f930c0375255d05f21deb42605ee66fd88ca3961a051bb2108200581c417e75dd8b721053008dc50169b08a8c5070db24718e6c1e8b83a0c81a0187281d8200581c42ad1acfc4e58c415d9c410de920c763c006392d7fa69b9a09986b101a2cb1e7d68200581c43a85f2839f1df18abfc04d12a55ec6eefb96f85d1c96236eba8159e19232b8200581c45aaea6b8f8056eb52b26c4115026452bfa4e4cf33a931b0eb85f9711a04ce773c8200581c45b6ff95bf046f3ed0a047e6968e1374d67aa39354965688952fd2171a079227888200581c460417506c1a3042e133cdef4a7dabdd02bda35c14eb43cce13516841903f98200581c46679d60511973cd756322e6fdd1b0d6224eebec681f065a704e753e1a0195a52d8200581c4697386c4e3dc2b43f49564e6361935280f1f751c80a6c9cadbfb33b1a0c85fe408200581c46a31eb43ac7d42255b74f24945badfc5da0014a2e37e6bcb69ce4d91a08b943518200581c4a8b1947b2cf3acdc443a89022a453683c783bf864f8b07a59d943671b000000012bad4bcd8200581c4e049d9d384b6795237264bb400d0174a4c6dc808bdfd70ee692ad2c1a0374aaf08200581c52662fdac99229b8f9682f47c2d3ba181f33e79b429a2a08d0f54d091a0064f8398200581c52f28ebdf268ae3eef783dcac001657502d8fccafa9d8158493f65331a0010daa88200581c59cc53d2aaed4384323b2358333fd607ed9928064b10459af4ec59771a07937e108200581c6877dcb866858b2a4941351c98cd67202262bfd82a016cbbaa0739271b0000011a95bafbed8200581c6cb47c86575faca5f0c555f30b5c45f291aa5d6eeb28d7eed82178491a0048d0198200581c6eab73f5febbfc54243d035bd3df1986a6b88149f6c8178b341dfbc01a00c1e5c38200581c73d2af07d180c46a40ea6f63a04a947588033a401706bc80f72037e51a09017b278200581c745f6af3a90cf0f2bb23f8ab3ae3978ced39a56b31cfacc6b746258b1a01749d798200581c785f7b5357d18f1a887f5b1e114b96071ccccbff253e4b6b01574ae91a0116eac48200581c7ff0ce382f9fc3f12bc0d23749a7d6690b5bca1521a1c83cb78b5e211a0311471d8200581c83b2f390520f69d98a374e391a48da191418e10be9e1f33583ab51771a00945ab98200581c8723dba003e8c3b8d31e20f92d1cab0952b67d4405f64b5957f790c01a00bb80bd8200581c876c8abaa636168c7d43623be103c6bfffcfb0337c05ffd1a7ea72e51b0000000150dda2428200581c98f137b818ec3c13cb9fa89e116af481bc6e80879de23450e714c0f21a00e21bcc8200581c9d6b6319e2e79b0ea46f3a6ed27414ca9563f2fdc1969fd12751ad941a0078fb848200581ca545012a07d0fe8a284fd159753857d3b7ca1f8bfd6a389b0086c73b1a0c64df948200581caaab46ce0889442fe83e74489970ef6337721fe8761478825ec7701e1a16dd0fe38200581cb3877745120a10b5e302cc27303e91fe2a387dcb189a74aacb6493d81a050db0c18200581cbc000424731d5cfdb41da8bbb2e8bfbdcf05becd055a3f831a0ccdfa1a0b46a4c98200581cbfb28b26bc5e5c844e8322889cdb801fbbf0d00a2bfebb67c05367b0192a688200581cc127f4d4d4d729b3a8ba129764c366c7a96c99080546d41f3b18a51b1b000000026b353c4a8200581ccd38f8c900b24bdb5b0d9808b3b781f2c63639ddfe56407291448ced1a009923c88200581cd72821377163a04744a937d9c883ad37f835d53d010377c405a3a76f1a00c6f0ed8200581cdb0de66e9113e8ddecc3642124a557fe0d7753d642162cc1ec85292c1a00b505898200581ce10b3c4fd7b13a5d3b03d0f8f5dac81823e7e25c521b9535eb99f8221a000df4958200581cefb8d63c37774aee85b731f53300e920d0cdfc2fb5e84f6a0ebe678f1969978200581cf1ad22aeae767f9fffccc3c14c271e893c5479bee5e59e673a5ecaed1978008200581cf469490ab5e6ec3f7889b29759e4a40b473c02da521547b1c3027e0f1a00157e568200581cf51bd635bddf367cf9ffc0726f0c492cde7a1b1640c1727d54a7446d1a02d80dda8200581cf8b0dada0c9d9ffeee95d7f536799a4034886e6d60a7367f81948a021a018065828200581cfc19a4302b9fe7b337e6f5a767efc5c875cd874768a19b0c535b9b8c1a000bc7f28200581cfe49dc3325b96a75c098406c0063e9560fc903df998d2b14736f9f2e1a00fb0f8d8200581cfef6bdfbf412da5de3c8d5aa4d9b1e30eef8c44be91b1eeb3afb279a1a0059dfbe8200581cff7893d54dfceeff87c5f298ed1bb1435878ce694a3884eb6619f2b71a013581d3ff07582099f2c2a11bb310d2fc48d394b0946f10eeb0c97614f29d4e23d26694d9212bc7a5008282582045cae0be92fc3798cd1ce05496bc1439728d42f9a8262cc34d7f543f7f5a8c8f01825820fbde6fe2ab20d17e7701a277e3f6f9c426278155ea9b66d58b8b1ad0c9e1bc261841018282583901f33a98483aa3f8e7968b444a5e3dc00e1adea6bcea66b57ed0e94094e512e0225710f61b5cc54df075c02d8b8a56a9a50ae78f5cff08672b1a000f4240825839018ea03c582adafe939362748a746af8cc5956265a1bd725e7a2de86d0e512e0225710f61b5cc54df075c02d8b8a56a9a50ae78f5cff08672b1ab2c6b355021a0002d115031a01e512b70758207bd96a772eadcede1be69dbf670e089a9c84d894b706f6af2e30e238b70bc3fda500818258207da8e470075fad15fdc1e6491c6243f227c8293b45d0bd851701f2ea452bcf9f010181825839015f55d092a48e116c8de09bb9f98b37e76ab59c7459d03d47f8fb60c1e638092504459177f7ca7d69ff356f28abf49805b99265f14aebaebf1a1fdcc802021a0002ab9d031a01e512a9075820f95046da8aee6914b6f42e6fd50a38c17730e8880cfaac5cee91347474280c6aa60081825820a01b9fe136e5703668c9c7776a76cc8541b84824635d237e270670a8ca56a39200018182581d61d80fe69ded1ff90f41e526d0332a2ff98ba8a0d85ceb8941b51784201a05739382021a000376c5031a01e63c82048582068200a48200581c0af10f4a5d365af01f0ca7651713a8a073263b61bbd1f69623097bd71a0fca5cf98200581c14bb4165052cb5bd0ca51869db388610c9ee92ca67e44a239759d0591a04c796e88200581c854139fc8987990fd89699beb1b59b09c047ace356870dcaadc93b221a0052a2268200581cd5b9ca34735343fcfc01d804180c8cfd20c45df317c44dec278ecdf61a0123a66f82008200581c0af10f4a5d365af01f0ca7651713a8a073263b61bbd1f69623097bd782008200581c14bb4165052cb5bd0ca51869db388610c9ee92ca67e44a239759d05982008200581c854139fc8987990fd89699beb1b59b09c047ace356870dcaadc93b2282008200581cd5b9ca34735343fcfc01d804180c8cfd20c45df317c44dec278ecdf607582099f2c2a11bb310d2fc48d394b0946f10eeb0c97614f29d4e23d26694d9212bc7a50081825820269fb6b97199568fd06b86c6dd8270f83150d7d40c215f2ba8f8e457d7bb245000018282583901c6c9a751f0eab448ae680c7606bf4b2384ae9a71295cfb08c17a64ec8603a5a749947b55e82c3ca023c427efed03380884e489835d5bed691a000f424082583901c070231d446324730fde9452e04796492b1929b9673145d01ca9d5458603a5a749947b55e82c3ca023c427efed03380884e489835d5bed691a60e37dc7021a0002b8d9031a01e512be07582070830ca599509b5c16e2ade57f1940041d44cb4261670d2e354199164d112e12a40081825820c0f8e704ffc3d13ba2e4d09a4919f32ae6fcee035b6fda43eb9e9ca17ccd8a4f010181825839012e38ef6f6dae9baa3fa9b2acd8fc2c4f107d7434e51525a00adf110e8a2cf13c17ac2bb9b259e319f57313cecf912ccc0a9e0c8e2f3b9a91821a001c1f69a2581c21514b6c51f0aaa0c9c337329ce93c52fad208cfd0b4ccd51074d9dca14e50494e4b44494e4f43344944353401581cd5e6bf0500378d4f0da4e8dde6becec7621cd8cbf5cbb9b87013d4cca14c53706163654275643137303201021a0002964d031a01e512aea4008182582071149f420d83e79cb197334a53498459bb212088f8ec2d173f5c87a83122dc9401018282582b82d818582183581cc0f1996bab57bd968f3cb5f6c52b0b7f3b37a937661d9a3440a7c517a0001ae951ab841b0000002e90edd00082582b82d818582183581cef15b91c9a8943935b925f188ae69d93b1fb3778287e0df8ebad82e8a0001ad69ba11a1b0000003ec066bc87021a0002a3b5031a01e5127ba40081825820697eb1e4e80920aa55dff603bf7e8df6d315e6fd621c99001a25862080a443f501018282583901fe196271973f89a9abb453c5f44581d3cab2ad3dae125f23c65b481caecbe3dc3fa606f16069de1d7013317100de7f2fee422c613712f3251a26def39782581d616904e8b2c26f3dda6c4a5db4b3ec9e31d581c9960977cfe9c6917a431a23b2abff021a00029cd5031a01e4f753a500818258204f00b22bf5e786cea6dcbed8740eda5a7dd26a88ee920674a01e032e56865d7a00018182583901f18d6a760e1b546680e78e4ec2b63c0f625f085b8925ff1ae40f5480973a4d96aa61a3b3af82dbdbfd15d5998f49fca582f4c617103b6fd71a8acad8f6021a0002b104031a01e5045d048183028200581c973a4d96aa61a3b3af82dbdbfd15d5998f49fca582f4c617103b6fd7581cafb33d38e92e03f9ce86f0175cc33e487b8def0ee25235f1e40183d18da2008282582014117c01278cbe88656a15738fa5e01ef899cf23c425ac3ace6c7042a48cf5b0584092bc3b8ba635ad72fb2cd1ef9b904d0651efe9adc5e8d4dda2063e4f9c8e780e3801524b7b047832db5875237751f51492fef8867dd9fa4ed5d9535713d41b008258207e80cc664e8e06f09351542237eba50a14083803f5d71e46d199046ab6d10ca858404854b2990692d016989742b78a0b51823671d7c09f36dc72f748613cca53f4d0b1084bb8ef4ec981bd063be93e1042038da84db130db8c1d41d257cdba27900001818201828200581c43475dd8f7ff3f4bffb1c0675d7e380b6fc4cd01fe4cc6ab6dc799fd82051a02dc6c00a10081825820991fc8c992024656460d6be0ac794b60050a66eeb8c1a673cb3f6cd476aea60958403171975fb103dea7995f85559fd74d4af4eedb58d4f602b62463052a75a541f952414e532562576893a797ee568e21a6ff5211a206313458491f6a18c94cf40ea10281845820f129f07bbfd87fd1d3ff5fb32e9a5566e02208f89518e9994048add22074f4335840faee03bae826b0b75f9b5ac383100098ade25e92b52c77804e9297321c564416efe7543a823d4fe14f4e94cc2f3f6351062775fb0ed002f04cc4825f24ba610f5820424e682a392581268c7544e34e9c54378a8820bdcf7dddce30490bbb2d363b4b41a0a1008282582073099bfb77940ff95733beca81b062d2355c5938e8c0931444b10af9facbf66f5840bab8e6f8412bea5e8ff61f5d0690043013dd4a14c582f0a23572dd444f797d271ed61017a5b5d7632fef01312c5251daa8dfd1bba2e0737808a18fe9d90ac109825820393b3d3cab6be0897cbc87143cc3a24825dc1d8249df4d37969502931cf856ff5840a96042cae910c15af4d7fdef81172665d5e9ebfbee7f965621859ff06128fe350b8d717fff9109fa9007208cc822ca34b42362d9f46f3e9e067779b2cd0c5309a1008882582061261a95b7613ee6bf2067dad77b70349729b0c50d57bc1cf30de0db4a1e73a85840ee884e65a0218cfedb1cd7fb33dd67c1a8483cde46e990a2b07cdf1b2a02429bcaa26705fb905dd0dc7d00f4b0aa76084de11d9142c0d51f623a39d6797609028258209180d818e69cd997e34663c418a648c076f2e19cd4194e486e159d8580bc6cda5840940aa59d5f5b42a414e8a498f3854c2a3dc358f20e5f13315f96ba54ac846394656bbb3cb29c8bac8fb85bc323a0eea55e42090f5169657974ecadc278b6c10b82582089c29f8c4af27b7accbe589747820134ebbaa1caf3ce949270a3d0c7dcfd541b5840507b4bb892b3412cc67ae4c1200111ab4a3092d36542f1c672eea555807da2e5a8f4788a7f696ac83a014c5d0adeae73c976611838a21490b7cd8930ffbef004825820f14f712dc600d793052d4842d50cefa4e65884ea6cf83707079eb8ce302efc855840f08279536d20eef4d5a1b8bc2b068c7c9901577541a62a5adb462596c8707f5efd16a193f9216fb95fcc307116a9d0f756a4cd1525139448aea2a7f828441b068258208b53207629f9a30e4b2015044f337c01735abe67243c19470c9dae8c7b732798584063bf278a2e77401c8fafaf2d53d7ecf6ba5dbfabfce432d56d9c189f1572507a5158a6aa01d33be4355388f7e850b00aff53dafef5fe0154491f688bdd639a038258205fddeedade2714d6db2f9e1104743d2d8d818ecddc306e176108db14caadd44158407d6b15a4ef09f819f9d2498a316cb3269842878200bedf5550b495772bb20880094950cd3cbb8669dbff863a32555401778df131103bb603b96a9f5b28606004825820cbc6b506e94fbefe442eecee376f3b3ebaf89415ef5cd2efb666e06ddae483935840fab6a4d5b9c19d32202ce689c82aed2a89c02a62ef780694937f4196e65656fd3e4ca0679ca8ca1a83025d1afe8fe2d8e3e6b0db6e9cdd491eaa2ec866604b08825820e8c03a03c0b2ddbea4195caf39f41e669f7d251ecf221fbb2f275c0a5d7e05d158404ddc3610fd5b52e310c52e52fbe8e873a831ab91e525b0733dfed21615b412d17ae77421e645b875bab25378c424c7c2471f674e45cfa1dd2b846b17cb7fe300a100828258204d5a7408218b85ba016167e1fcc5e8d0624ac8171de065b2842feaf4c051d5b9584086d8648acf6e8d3eb75fc56113aa29fc5814fc76fc8b06d583563724cd9c5c6cc097b335b2a2095dfa8c344066ca45d74511545c733e85d0fef5ab8e115de10282582071df0e0628e75eb9d6c891c8a4dc38f81ed8cf757ef424fb7ab651ab4cca2e6f5840083d3fb001c8e68b1cf9bec2d645bdf76636cd3bf3b7250597c09d26f2b0587be0eb69e279a8ad9d6f5e747fbce18a53c0da03e264f2fc794cad73be542a7704a10081825820e6fc61be738e242a1e21459b4e4847d739551dcee94b1f9b64fef42d19812887584068839e96ed4962ba56e0e0ad256d13f2980eb433d3879c9d32683034da65f6fa288b06e02e603741dc1f973ffcb8209da5b4cfd06885d9c78ddca1238f418d00a1008882582061261a95b7613ee6bf2067dad77b70349729b0c50d57bc1cf30de0db4a1e73a85840cfe660cdaff7bc3b24b64c80a3792884f56a84c9cbda089a81a6f01d5174598d1227639eb614ab36eb1fd217e212480acb8f7b109e7490e93bdecd4eb764a90f8258209180d818e69cd997e34663c418a648c076f2e19cd4194e486e159d8580bc6cda58403be9de37031ba2784bbfd08945d9cf8e02d30cde58a2feef5df12f901dca43d6b23bc294e7fd3d5cbcd4eef054dd872b48b477b601eec3e6d623c4cc9b97b10f82582089c29f8c4af27b7accbe589747820134ebbaa1caf3ce949270a3d0c7dcfd541b5840061b8f2c0771b3a7e281222bd11f1e26465e6441cef4957d961a1fafe5406fb5e21351a437177dafe2cb02e79c44466f63220eea6d0096763747469d179fe604825820f14f712dc600d793052d4842d50cefa4e65884ea6cf83707079eb8ce302efc8558400fa377081dd0adc26a806788ad60a71b82bf8057b6785c7b6c6307f03640469105f8f55b46e2c0cf4c5ebc8e8bbba2c5741442e30ece4842e875840a4705080c8258208b53207629f9a30e4b2015044f337c01735abe67243c19470c9dae8c7b7327985840ad8c64b2bb2985e5edf89625c70ffb3484104757675f2d8262ec6318cf9bd4716d3ab39d5a8f914ba1743ac69e16e142055620475dfcdd1389c50cb14c4e060c8258205fddeedade2714d6db2f9e1104743d2d8d818ecddc306e176108db14caadd4415840bb4c5cbd67d83698069c6bce1fc976f007abd15f792783c3e2a83135c6c082ce592e7a17ba5dcf70abaa6605a72d28e46d71ffa084984fc23b7e590578bf8e08825820cbc6b506e94fbefe442eecee376f3b3ebaf89415ef5cd2efb666e06ddae4839358405164f088b9005d1293d2dfc355ae8d64646aafe91d59cd5f5ea215ced68da3d47ef92e3185a3e6db2deeef99620a9df196dea1fc7a622cb6984d12840a3beb0d825820e8c03a03c0b2ddbea4195caf39f41e669f7d251ecf221fbb2f275c0a5d7e05d158407c10de828d07245f566237c8b3fc4fe0364480425ed4ee0439e94e57f87a526b2e581593c04b563bfe7fa423993c967fc8fc968fc1965eb51ca69368a2d7eb06a100818258200b68eb8e7438599681f732bda6eb942d32692cff2e0b43f9b944d67031bc493258405715f38cbdac7f18da841251f206b0d75df29f74269d2a6ed4a25884ad9c67fc15dead361482c4b16a51689de08efd54d9985df84fb49d1ca387070ac732e703a1008182582048d87ba1c9b6369754f9fddb76993befb16914f3b495078baff05fa0ad2ea934584021829192ecccffadb0ac65c33d142ef81627f5e7c9ccc6d40c87356390da85bbe0136b912c85102b9a38558eeaadddeecdbd9b677b6a68b90f6ae46583dac303a10281845820e87aefbe36826ed5f12341b167730b0b4cd6aa7cdd55709d9e675e684b15eadf5840ccc01472bb6017068a0c967b01813b0e4a489c390d4fdcc750eab073f806d82909e34ad7d920a679138e9edc2c5f9e44e5196281f8ab4b49c1f99819e8da520a582094a2c075ed1bf539b9972561edfac666d7c0669676bb98c21bed66a67bdd5bbe41a0a10081825820393b3d3cab6be0897cbc87143cc3a24825dc1d8249df4d37969502931cf856ff58407d647699068327b80e8881e1c93b7a5966863d12cb12e0bdf8261fb5f65f31534571cd0075a547c68057e4be9e72815a49ed08b3dad782c2b8f031deeca9a206a1008282582064bf0b03a9391aea875c6b5e258e26626e97e2279f53dbc9c8e853245f93d51b5840731721e1803e3eedf6866bec354e4122db21b404b89e3f34aa2076519e39262c6bcbec568fc3fafef66e79215497e7b7c461ff6f049e4fca9a4b4cb1b07622098258206951036ecb873cf248486656fafc2583350e2c173f5f3b6bcf1b199ab047179858402c213d314de43c42c6a687e7e088a2583989a7cb85e2c5aedf7baa86aa80cc983f2f92c50a362635cf26992e224bb6bf93530c3cf5a972d134a9b3beaf86f20fa60082a11902d1a178386237656630636662313466353838373430643032636538613533383739666639366162303363376232316563316334353961633262646461a17048617368477561726469616e31373332a96a6261636b67726f756e6464426c756563636964783b6261666b726569656973797734767766756e6d703264356b6263363279646e6333746e646737766433687335647537626b72343267686963323765626964782436613932346364642d346537362d346262362d613037312d31313863393562626462653065696d616765783b6261666b726569656973797734767766756e6d703264356b6263363279646e6333746e646737766433687335647537626b72343267686963323765646e616d657248617368477561726469616e202331373332666e756d6265721906c467737065636965736746616e74617379667472616974738a6657697a617264724c6f6e67626f77205370656369616c6973746e4368616d70696f6e2041726d6f726e476c6f72696f75732053776f7264684f6c642043617065654c65616b7968467269656e646c7967416e6e6f7965646642616e6469746e5769636b656420476c6173736573647479706568477561726469616e800482a100a165697373756578396769746875622e636f6d2f696e7075742d6f75747075742d686b2f63617264616e6f2d6c65646765722d73706563732f70756c6c2f32303130800582a219ef64a40158207c76d90d83e9989d67a520dbe6f3817dd8afa84f5932e622238008253479a66d0258202a85741ebd1076759c4a14649b30cddf1abd9014062b6616d3ca90d7b93aba5003581de1e512e0225710f61b5cc54df075c02d8b8a56a9a50ae78f5cff08672b041a01e4f69519ef65a1015840720ab14d84aaa87369eadaf68898b794c65580742263ba36cb1b757a3e4e6aaff0ced6bd8247fddc4950e9c1bcf8bcbf7e66e3f8008ab70aa2b4ff8f741046078006a219ef64a401582069179a00a3a6aefad3e6821df68ccd916a93dddae8947eebcfab929484f51082025820c2cc2477d19a048c3aceb048cb1b0cd81f80abc328fc2386fb8d87041965d53503581de1e638092504459177f7ca7d69ff356f28abf49805b99265f14aebaebf041a01e4f69019ef65a101584072eb8b90a33fdc9693df74470c6e9a1b0eb3a09ae10d8e9184113e43d1b6b93c2b9732147f3062ef61b997d46a3dc760c8618b4e8fbb4ace04b46f20ce77e70f0782a100a165697373756578396769746875622e636f6d2f696e7075742d6f75747075742d686b2f63617264616e6f2d6c65646765722d73706563732f70756c6c2f32303130800882a219ef64a4015820ba5706b0c36a61eb0ddaad50360d879f8283592475598303b288515a5cfcf49d0258207a995be7ad4ad8e1d6b3c50022d9d55777daaf4c3d6046f2bc74fe63ff70597d03581de18603a5a749947b55e82c3ca023c427efed03380884e489835d5bed69041a01e4f69b19ef65a1015840853aa89563db088d1a8411bd6bb30800ab130396f74c2f230297db31e7d3fe510e690578c775652b30b57a328cd8a8115182792dbfa8eb592e0a72cbeaca500480")]
    public async Task DeserializeAlonzoBlock(string cbor)
    {
        byte[] cborRaw = Convert.FromHexString(cbor);

        const int concurrencyLevel = 1;   // Number of parallel tasks
        const int iterationsPerTask = 1; // Number of deserializations per task

        IEnumerable<Task> tasks = [.. Enumerable.Range(0, concurrencyLevel).Select(_ => Task.Run(() =>
        {
            for (int i = 0; i < iterationsPerTask; i++)
            {
                Block block = CborSerializer.Deserialize<Block>(cborRaw);
                byte[] serialized = CborSerializer.Serialize(block);
                string serializedHex = Convert.ToHexString(serialized);
                Assert.NotNull(block);
            }
        }))];

        // Await all tasks to complete; if any fail, the test will fail
        await Task.WhenAll(tasks);
    }

    [Theory]
    // Conway
    [InlineData("85828A1A0025AE551A0388C42158205D36A2CC65C7CF514D8621C4AC913DCFEF9139F3A84BD2F4C9ED853F96AA617B5820545FC09BD41A04EFD719877044DDD763CDE3335260D742F8CA8E835824F31D1258204290CF8B693CD83B04905CA77D79501881B3378186C6BB903B02A89F02555A0D8258406755D74A87F79960D2E181DCB52D1B8DDBA9BF28F6E03E3A7F6A25963393F043DC67A48F031C5BEC8A820441340B34394F632C4E58BE842E8B6EFD7BB43AC6B25850BB794CA51C048D909A5A0F03CB0070F9720B85BA24475307F9217CC363C55753237D148250646E1D6784B0B4A5D4CBD11DDA955130FD62EA6E21E75BD69EC3EEBF5B391B5B18301BEE623722BF0579031909455820A14FE193CDBBCDC9FEDC8F7AAA7CD4611F874B9EED58A5A853B084762FDC3B1D845820A039801147356A3B00EC43BEC3F1682C03E5D89E4572F266CEDBF31A0D7E2F58071901AC584008C0BC13C61BBCB410C428E5DFF312C08D477A9928F4D367C8B1C146CE6A6DBF2C479E132D3B6E79A4CB879EB20F03644A2E646BF636FD7AC76BD4B853CC8A058209015901C0A71890FC274689E181319FF56CB3FDCF2385EF05101F1649ACA68BF145B53C0CD6F77C4357DE04825A46232AF9B274BA019F591B7A80DB8E32BA0B64F917D903DDCADFBEA4B927B6814440A6BC5617B2F9154844FE4CF70CBC227950C794FB6BBF1DB8CACE541CA2C8162E30C39E5327AB3C48C79ED7C9EBA010E7A26EC4E71789D2A7772B54090A3EC4AEBB450F2822DA9F054D6FDD5E10898FFA545C6574282D29660EF785A3EA814691B91FA48FEEB70FA60AAF3DB136CFDE0E4B4742EB1FC81EEEE31D65B57534553A05F7979E6F136F931C96CAD44476EF3147CA9564DFE9C52B5895D21864B21252A47F7BC2530F0C2F1095BF67E41E41A0566AB65945E2485186450660C78D6A734F410DCAFFC4DE2203122B2993F1B31B1640739B994106647C80ACB7D2BCE18E9C0D8F83AB93E243E568EAAB87D235DBD88F3DABA50C24B7335B64CC9C70341F324A0F403459DCC2A7EC05A39A84CC455631FE2C6C13ED54133AD332E3FC0900A71AD9F038FA9EE1E81344ADD9BA9931C795CDD4E53958E8A49E17FB639ECC00992425C2356BE13AFD176902151D0A59B6AA03D583A75E3B8280DB4B52C4851E35260DD5320BFAB5ADDD4F7B382D736E48A374A27682AC0086825820B10A2A5454D9F3DF0A0E8BCC8145F2BFC3D8647C169C63CD7DEACA756360D35F00825820B98B1E681CE1AC9F67E0396C15EB67EBCF9D7C267353599A048C0D385F72A21D00825820B98B1E681CE1AC9F67E0396C15EB67EBCF9D7C267353599A048C0D385F72A21D02825820B98B1E681CE1AC9F67E0396C15EB67EBCF9D7C267353599A048C0D385F72A21D03825820B98B1E681CE1AC9F67E0396C15EB67EBCF9D7C267353599A048C0D385F72A21D04825820B98B1E681CE1AC9F67E0396C15EB67EBCF9D7C267353599A048C0D385F72A21D050182A300581D7077898471D1A56F64CD6FD110E081C1F91B92CC1484F2480AFB48190A01821B000000DB284CF8C5A2581CAF829F4472C3728307007831FA000E450883CFCA4893D9EF535E8786A14004581CB6525F0993875DB27B0A1C780F0E0F1678ACED0DE6CAF0D241B61E87A14001028201D818479F0000000000FF82583900F97CCF4FE384174E63F2250A3C4A61F851112ED0B93CAEB6AA84308E95D8FECA512588E1A954EE5A8AE2BEFF32EA360590BE694B5065D8581B0000000940F2F7FA021A0006865D031A0388C500075820D36A2619A672494604E11BB447CBCF5231E9F2BA25C2169177EDC941BD50AD6C081A0388C3D40B5820CB52347F5003DD50D646124C48807B6BFD277A4ADA0E4A2F04CF24F1CF95193B0D81825820B10A2A5454D9F3DF0A0E8BCC8145F2BFC3D8647C169C63CD7DEACA756360D35F000F001082583900F97CCF4FE384174E63F2250A3C4A61F851112ED0B93CAEB6AA84308E95D8FECA512588E1A954EE5A8AE2BEFF32EA360590BE694B5065D8581B0000000940AD3317111A004C4B4012848258202C4D0BB6309E34F44FA28846CC89CEA762EAC9D2CBB2377E04A8CFF8EBE6319300825820B98B1E681CE1AC9F67E0396C15EB67EBCF9D7C267353599A048C0D385F72A21D01825820CCF53FDCEC75C228401EEC309DD877EA115736CCA7BFD99A6242B1E69BA2928F00825820DC5E36EA57DC042A990562A3A30E1A8AC1FDC86B775BB0A60E2321CBFEFA24CA00AD00818258201DD33FBBFA57094C6D110AF56C6AFF7FEA496DFDC4A07377FB378421BD34EF34010182A30058391008BDD73C5FA824860C0190F5165D04A54DEAC6A5ECA670A8D9BAA4800ACBF9E8A3E38520C208D2FA3A34AC0F25895BBF42C8FBFDEE25C76701821A11E1A300A1581CCCB3B38323F49A9CF26786910363ECB0ED2188BC366BA2FB19F3A2CBA14001028201D818583AD87A9FD8799F581CFE6C4B876CD886C5D745653A74693BAB1B88CB155660CD9E860E900340FF44555344621A001E84801B00000191DAACFE00FF82583900FE6C4B876CD886C5D745653A74693BAB1B88CB155660CD9E860E90030ACBF9E8A3E38520C208D2FA3A34AC0F25895BBF42C8FBFDEE25C767821AF85C37C4A1581CCCB3B38323F49A9CF26786910363ECB0ED2188BC366BA2FB19F3A2CBA144555344621A001E8480021A000F4240031A0388C4B005A3581DF069F53D2FD6162B13276616A5906D2171BA47D35A55E9F1ED43034D0B00581DF0B39623ECA85BB2DD04D6178002B4EA86E5155A7222BA3D4B0D473F2C00581DF0F80DDFD36F4BED1C4CD217ECC03B48B7F334BC677D37CD2AD4B2130C00081A0388C3C009A1581CCCB3B38323F49A9CF26786910363ECB0ED2188BC366BA2FB19F3A2CBA2400144555344621A001E84800B58209CF391C9990D9E6739E94417C0DD556CD1CEEC56DAA0C460A64F40147949EEB90D818258201DD33FBBFA57094C6D110AF56C6AFF7FEA496DFDC4A07377FB378421BD34EF34010E81581CFE6C4B876CD886C5D745653A74693BAB1B88CB155660CD9E860E90031082583900FE6C4B876CD886C5D745653A74693BAB1B88CB155660CD9E860E90030ACBF9E8A3E38520C208D2FA3A34AC0F25895BBF42C8FBFDEE25C7671B000000010A3639A4111A0016E36012868258201DD33FBBFA57094C6D110AF56C6AFF7FEA496DFDC4A07377FB378421BD34EF34008258206A6702530FD240D59C8C5C5A9D1C1B27EB97E8BB3306237C31EC872A9E7E44E800825820D4881363D26D9A2A4151F28DE2758AD2D178E21E7BDA08D5ACE2BED7A28E957800825820899827FF697464CDA2C4EC9E1728F55BA3E05EECCDA7B26468A58B981D47F4D8008258205211C14C17F004A208F339F8842D76259E4D22090961709057F166B0D3E65C380082582006B612A91EB2404E00B33887A9172A8DFBF4D65A68F62F3048705069BB1B047D0082A200828258206E290CA92C2484C00955ECF4F6C2E539E2223365872A2018BA1CF761AA3683C85840366702170926F94A51E449E4727A55670F47EADF39B7CDD7C977B894665DC5AD1FECD30FEA2AB439499A19C3164B9B501F40AD66AE409A1C9D05BCD4DDD1A008825820F682256DD3AC458ED70642847BC830DE8B7C4871A4DEE7D2AF1FE4EC72D5AC5E5840DD500D3D2B6AA3C00307230F9581E752709E7D69A7E0DA9E23157B55D426AEE7A9C094A9A8BAB9E1DD75FA8020C869D5602645ADAA1F74E77D60D9F9746317030585840001D87980821A000B47C41A10D440C5840003D87980821A0001754E1A01C2DB0D840002D87980821A0001754E1A01C2DB0D840004D87980821A0001754E1A01C2DB0D840005D87980821A0001754E1A01C2DB0DA20081825820CCD6976C1E7A98C6CEEA2770C5757F5F62BE558DF9170BD85AD31E911B563F145840FC09E6B32D896990C5E2EAF4DAE5FD070ECB2085EE96D544B9EA8C5B60405FC3A21FCD3221FB7C60A5BF0B9FE15AFA091AB4D2FCEDF75FF7DDCAF76421B0410F058484010000821960B61A0093804A8403019FD8799FD8799F9FC24C0AFD35CBEC1F0EB61C6A5B4DC24C0CEFB03531E283A5DF051C66C24C067D7F114BF03905256C13A9C24C0E4A467359993326D19A78FBC24B76D585C1A093723F32404EC24D598DE7F123CC80BA2DBE2FBD40FF4455534462C24C204FCE5E3E25026110000000D8799FD8799FD87A9F1B00000191DAACEA81FFD87A80FFD8799FD87A9F1B00000191DAB17E61FFD87980FFFFFF58404F33E732ADCB80A24B323BD160054CE8CF33641E2DF1AFBA2BFCE109CB8C143745880CA239B1DFB6A0C86241DC36A3E0199071F11A53267FB7836AB0DEDEB103FFFF8219B3281A09901770840300D8799FD8799F58206A6702530FD240D59C8C5C5A9D1C1B27EB97E8BB3306237C31EC872A9E7E44E8FF00FF821A00022BA21A03AE0FA6840302D8799F809F01FFFF821A0018D74E1A1D971D76A100A080")]
    public async Task DeserializeConwayBlock(string cbor)
    {
        byte[] cborRaw = Convert.FromHexString(cbor);

        const int concurrencyLevel = 1;   // Number of parallel tasks
        const int iterationsPerTask = 2; // Number of deserializations per task

        IEnumerable<Task> tasks = [.. Enumerable.Range(0, concurrencyLevel).Select(_ => Task.Run(() =>
        {
            for (int i = 0; i < iterationsPerTask; i++)
            {
                Block block = ConwayBlock.Read(cborRaw);
                byte[] serialized = CborSerializer.Serialize(block);
                string serializedHex = Convert.ToHexString(serialized);
                Assert.NotNull(block);
            }
        }))];

        // Await all tasks to complete; if any fail, the test will fail
        await Task.WhenAll(tasks);
    }

    [Theory]
    // Conway
    [InlineData("84828F1A0057D7E81A01CD568058205F484B951F012ED53FDB9E30DA0660902354C705F112745BF3B19EC31BC9BB005820E1806A6AF0EB0931EBDF8B766229CF9323F2252573AA6C6998DD1522FFDFBCC858204A20392BB23CEF3777DC1E9FA9B0719EC829B4B87C9E4295141DFB7C6783C3108258408C6059B6952E68EDCD6431F6EDB191705D29CDF82F8A9B855CEE856C8B33DF96B2F567107B4637F6E1FECA3585C9CB1066088BB8496DEA4260C344E2595C997B58508E39D072957817E7D89C19F78E2BB288553E215E81E435D88CE5B3869D10923982E8253112948035D7697762FBF555005D7682E3D5FDB09FE3EDBBDF65CE72514490882CBC89DD5F0A6CFB205EE52408825840000030ED0D10485C31937741CAB13B3D0C247BF9FF8155BF649C6FB314C40788C68F71E5064920C4964893225A77F8EFE65C19C0110DA27DAD4B72582880748F58500272D91E01C1C6C43C51FD1B1651ACD45ECB841BB2762C569C15E90B65D2515F669538C4F41C19CE20B01BB61D685A2B102124525D2F385A8B04283EEFF3C80017D430A075790DFAE7BA3BF1F3C1A90B192E515820A82D45674A1274786D8B9534F9F1F5887D4CB5103EF76E2D8E60ABBB9E2BE02D5820ED46BC0F963545DEBD5FDC3379D01C1EA7922685A4B823CB4DE51FFC63358B140418E0584052DE2D342719F78585E2B0A6959EB54E1D14385A0B04DAC45CA8AAE062094E7DFFD18AB533C0314779C91474A28D47A57FE085290EC2E422953860764CED0C0304005901C005B77FFDF89651681B6DFF5B1F54AE9824D589FE38DE8B9E0CFBA98B1002AC3013ED3B53EE39910C3AD7226A2D438F35D29B7BF4C8215DD379B9187E6622880A197DF65334198B5B195DC470550CD84D466F08E5B4ACA7B9F06CE4A748DB9C1DA29AF843ED989D7E814E2B778E3B713E5C6E7323531D1782AC3D01BE00B19EC65314E3015D71812389883C1B4C49064E20C3DFFF2745D028A7C336E21E4EEDBF73D048B86F7DF61B3DC2FA412F4BFA21C47CB4485DD1C432FDF562B31604DD3C4FD94F062C6269F74AC840A7A0F66539F84D0FA83520A78FD66779936B8B10C05FA29E3551D554696A95E6F62C240EDDD4CCDDD5E06E8C3876B100D94BA3217BD191B8D3BBD381DCD100E1BDF69D8F48CD3D9004FBC3B22E44546DAC068ACF85B04B6571155D469CEC8E9745D2E4A6F63E6982E65C4DB0F36B95CAF815FE535A45ABA199F9CDBD9A2BE400A49A0A4951EF4E8B423D920964BFB571B2C112F1FA66535424C4EA8CAF91791D4FDBEBA7309013826041C4EAA0FB8C958B0FE39B94353D81A6F788A90B9661770A168A713BF604EEAE769249E22298B86A6AFA27FA3104C1E27F1BBB914483A0686BBF24862F77A5E5B04E22F1D499A8883128FD6686A400818258204965D8B3C4824C86DD438840AC1A6C4D6FD2C1B6C0B58A2C14A845956D60FC4A01018282583901150E57FAE6104A97667E71EE10C3F55DF30ADD6B9C6D9B6189637681A51A1F56EB82FE568B7D57366BA2C8BA379889DD648220334812BCB61A0602410682583901E55D850D4DC5E611B740A5F61F836FB777E496A7A65ABDB3779D9017E28C1958BD7614D1C1A32FE155A47FF88CE2C0889A04E61983AF01831B00000015486ACC6C021A00029361031A01CD729DA40081825820F2CFE413FCC190C6A7424E542430572B0556AB71D16DEBDCA9A711AF1F0285F301018282584C82D818584283581CA74249849532514E2B1CECB943DF5CFA5919B0A8E2D7A1B9E0AB53C1A101581E581C12F1DAE7310D0837C2AD675B952BF5EA75B37FA7F258DEDA6C1301F6001AA4BC56581B000000012A059C1082582B82D818582183581C8E1238576C088D5088017715A77B8903B57EB282289B3F5D0A6C483AA0001A99CC1C161B000000043DAB7E7D021A0002A544031A01CD6451A4008282582095F34F20F95E4E97BB1695C0DE4FF9123FBAABF5BEA3199785DADAC4D40D4CE30182582038F022E851DC49640541D938383A5F63A5CD88B30DAECB651509953E70935CDD01018282582B82D818582183581C4CE47F03FFEA34A3D3316CDDC715ACCE37FEA271FD5079FDB5769543A0001AF669DF521A0119FA4C82581D616904E8B2C26F3DDA6C4A5DB4B3EC9E31D581C9960977CFE9C6917A431A001426BA021A0002BF35031A01CD5709A6008382582000E56B08DE6A647B6F6155EF64A1BC253C532735CBB54FF0F585AAC3A3CC17A0008258205B14E7ECFF7B6AAD407570397359EB4DA84E298285728267C475463A1B0345DD01825820F4D06B5DA11EC1BDF57A72CAA8C3A1DDD5DE3727F9011FB6924C44CD4BA2CC450101828258390148D9F60950CEC0B5F5BA4CA2A305F8D16F23BFB1D2B780FDB199B3F9CBE310A3070E37D57355E49F94E21A4F659C1AD8C9996DD410F4AE1C821A007270E0A1581C2F633081F8B95C9A0160FCAFC2FF18F2676634633CCC9DDD0A7CB25DBF494C464331306F66323501494C464331316F66323501494C464331326F66323501494C464331336F66323501494C464331346F66323501494C464331356F66323501494C464331366F66323501494C464331376F66323501494C464331386F66323501494C464331396F66323501484C4643316F66323501494C464332306F66323501494C464332316F66323501494C464332326F66323501494C464332336F66323501494C464332346F66323501494C464332356F66323501484C4643326F66323501484C4643336F66323501484C4643346F66323501484C4643356F66323501484C4643366F66323501484C4643376F66323501484C4643386F66323501484C4643396F66323501534C6F7665466F7243727970746F31306F66323501534C6F7665466F7243727970746F31316F66323501534C6F7665466F7243727970746F31326F66323501534C6F7665466F7243727970746F31336F66323501534C6F7665466F7243727970746F31346F66323501534C6F7665466F7243727970746F31356F66323501534C6F7665466F7243727970746F31366F66323501534C6F7665466F7243727970746F31376F66323501534C6F7665466F7243727970746F31386F66323501534C6F7665466F7243727970746F31396F66323501524C6F7665466F7243727970746F316F66323501534C6F7665466F7243727970746F32306F66323501534C6F7665466F7243727970746F32316F66323501534C6F7665466F7243727970746F32326F66323501534C6F7665466F7243727970746F32336F66323501534C6F7665466F7243727970746F32346F66323501534C6F7665466F7243727970746F32356F66323501524C6F7665466F7243727970746F326F66323501524C6F7665466F7243727970746F336F66323501524C6F7665466F7243727970746F346F66323501524C6F7665466F7243727970746F356F66323501524C6F7665466F7243727970746F366F66323501524C6F7665466F7243727970746F376F66323501524C6F7665466F7243727970746F386F66323501524C6F7665466F7243727970746F396F66323501FF82581D610CF2D472123546C1D59E974DA3DC0662B3233990EBC212EEA91F2EBE1A008192FB021A0009339D031A01CD56E1075820FA0A2DB8B6D6E5D62D2CBBE16C7D6BD3899138F769C10EBD671654910E8A27C909A1581C2F633081F8B95C9A0160FCAFC2FF18F2676634633CCC9DDD0A7CB25DBF494C464331306F66323501494C464331316F66323501494C464331326F66323501494C464331336F66323501494C464331346F66323501494C464331356F66323501494C464331366F66323501494C464331376F66323501494C464331386F66323501494C464331396F66323501484C4643316F66323501494C464332306F66323501494C464332316F66323501494C464332326F66323501494C464332336F66323501494C464332346F66323501494C464332356F66323501484C4643326F66323501484C4643336F66323501484C4643346F66323501484C4643356F66323501484C4643366F66323501484C4643376F66323501484C4643386F66323501484C4643396F66323501534C6F7665466F7243727970746F31306F66323501534C6F7665466F7243727970746F31316F66323501534C6F7665466F7243727970746F31326F66323501534C6F7665466F7243727970746F31336F66323501534C6F7665466F7243727970746F31346F66323501534C6F7665466F7243727970746F31356F66323501534C6F7665466F7243727970746F31366F66323501534C6F7665466F7243727970746F31376F66323501534C6F7665466F7243727970746F31386F66323501534C6F7665466F7243727970746F31396F66323501524C6F7665466F7243727970746F316F66323501534C6F7665466F7243727970746F32306F66323501534C6F7665466F7243727970746F32316F66323501534C6F7665466F7243727970746F32326F66323501534C6F7665466F7243727970746F32336F66323501534C6F7665466F7243727970746F32346F66323501534C6F7665466F7243727970746F32356F66323501524C6F7665466F7243727970746F326F66323501524C6F7665466F7243727970746F336F66323501524C6F7665466F7243727970746F346F66323501524C6F7665466F7243727970746F356F66323501524C6F7665466F7243727970746F366F66323501524C6F7665466F7243727970746F376F66323501524C6F7665466F7243727970746F386F66323501524C6F7665466F7243727970746F396F66323501FFA400838258206AFC8C499DA5C42C53EA442A8051B3081031F171EEEA4432991506381E2D8EB800825820D3AEFFEA2371A3EF2F195F40246FA89E20C6E349AB24B715E38E0F51D0E7E63601825820ECC73F986B568B27A052A4C0790B44582FDD584744D86F43DC6AAA5F9686AC3601018282583901D9ED3E385682557B35884980DC1721FF24BC2DEA1E22A311831AFB5CE38B3FBA9B40FED456199D3775F4AFDDF380B146336AE517925C554C1B000000015AC7129382584C82D818584283581CA1030E3B880D76789EC6B808E209AE56E827A4F57462B8FEC6802527A101581E581C2B0B011BA3683D173E253C2AC6D394B5300A9CB53F650EAA06FC6E19001A15BF798E1B00000001FB31CA1D021A0002F1BD031A01CD7297A40081825820C6C4EB1417FF576769B8F3FF6CBE2996D4A5CDC4E4B45EC30EB4E7577ED1EE2400018282581D61894D3315AF10374E5D1438C9B4108DE597245B7BC681BFE67C7204731A002DC6C082583901D5311050FC69536704CE36EFC076B515C1CCF8A13BAA820D30FCA8D04B4F2B1786E68840B7AA1C71827992FFB04D7D9C197D2E5B6847F82E1A0316E87F021A00028C81031A01CD728C86A10081825820FDAF2F6EF24890889F502DE09ECDEC7C9F676AB206E87613486F56F9799D605E5840CC1D70B7ACF2CE7281C21FBDB6559C8C1327499A1C4A6E8CEBB7072615EBFE0E51A4BFC2795BF692F9B4388831475FD7F1E9BDBF895EFC9FE83D87AD6E89FA0BA10281845820F4BCA00671176355C1DBE65F0AFBB2BAAC60D4F4762563C53014528F53D4984758409E078F6E746C8C25BF71E322C6AE15C67B28B2E2361AA3B2AE215525697746D592386443F6690D5556A5A550785B001E0F88DD86558D41172FC976DBE1CCB50A582061D1E3D6F0036146FA182D137EBD354A1DC7347829CF5308E166838AF163DCED41A0A10081825820393B3D3CAB6BE0897CBC87143CC3A24825DC1D8249DF4D37969502931CF856FF584063AAC1C764BBEA7851086BB765006D0209B36C15465547777881201140363E81153A18A7740C43A3E5377C111DF6C4FB773CAA30E8E36F45B05B6E15ADE34507A20081825820FD23AF269D1C2FD6BC66414B0AD239D3C6A843736FAE547A3EAC84BFCE301DAB5840DF212C60FD973B40094791B3258ABD26941852FC58FF5AE5D93EAA4027E7E94024CF0F1B792B81BCDB4475558D263E625D5564931610F3244ADC533CF9CAE60801818201828200581C0CF2D472123546C1D59E974DA3DC0662B3233990EBC212EEA91F2EBE82051A01CE9FB8A10283845820372A30B3C7A74189AD37BD55D35CB23722F5796693D983418FFB651E7F6164B158404499F9B35646E7F0844745F06B230305C474BB8E62ED91AE81C0D608F6D6ADDA7819BE1924BDC3BF4877DC912D13301E53CF51B614ECACC79F740379CB39300C582085551602903BC9BB1E393C8F797916EE01AE73272D5F43AD03E0AEB949EA69E55822A101581E581C2B0B011BA3683D5E4F72362A1243BCB5295CD8B1A82DF9E0DD758EE3845820C8354629E05665F031B2D1C4DC939C875D6A8166105A0D1452AD18AE2ED2231D5840459AF05A287FFABBF7D357D58F960292AFD89E4A303BDF1C45490D9853EB8F829C99677557D271712C5B52D5B5D63822F4592FC59D6D111587F827589A9F6E045820292B6546849392C190F00BE1161430AAD58A7281CCDCB491EAEF2818F66D99635822A101581E581C2B0B011BA3683D33AC3B7C2AF8C6AF7FF97376ABA498597192928ABF845820E49A56A62860A3689AFEA7E2E7D9CDF15D40F4958ACF0F5E9220A5063A36C8FB58401EF3F6F373D5B6E34A3C1DCFEDC67B436EFE46F2B363318731F51BCEE65013EF9CF2EBEC16D4A15DEB4C5FF4F882241987C660B00ABD03BA99EE7E1F162CF60158201DB2FA3F78A86ECB6E3ACB6237CA09E8BCC11D39EAE9E41A54F3217DC8578F2D5822A101581E581C2B0B011BA3683D1C06C49F2A0FE17210E840E52FD4BB52A5BFC5667BA100818258205B1F1B34E11EA7676A23D2773EE79A3446C3D2D488C0F50CAB2C41B6535D3D955840A5161E51190D98CF6DF88D70C2C7C4749FAB9822D92B1FD282B7B0857788E6EE1FB4756643375E726E99F2AAE0BC5CEDCF83540902F762C7A1D1A7DC646E6007A10382A11902D1A278383266363333303831663862393563396130313630666361666332666631386632363736363334363333636363396464643061376362323564B832684C4643316F663235A3646E616D656B4C46432031206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643326F663235A3646E616D656B4C46432032206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643336F663235A3646E616D656B4C46432033206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643346F663235A3646E616D656B4C46432034206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643356F663235A3646E616D656B4C46432035206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643366F663235A3646E616D656B4C46432036206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643376F663235A3646E616D656B4C46432037206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643386F663235A3646E616D656B4C46432038206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F684C4643396F663235A3646E616D656B4C46432039206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331306F663235A3646E616D656C4C4643203130206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331316F663235A3646E616D656C4C4643203131206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331326F663235A3646E616D656C4C4643203132206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331336F663235A3646E616D656C4C4643203133206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331346F663235A3646E616D656C4C4643203134206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331356F663235A3646E616D656C4C4643203135206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331366F663235A3646E616D656C4C4643203136206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331376F663235A3646E616D656C4C4643203137206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331386F663235A3646E616D656C4C4643203138206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464331396F663235A3646E616D656C4C4643203139206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332306F663235A3646E616D656C4C4643203230206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332316F663235A3646E616D656C4C4643203231206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332326F663235A3646E616D656C4C4643203232206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332336F663235A3646E616D656C4C4643203233206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332346F663235A3646E616D656C4C4643203234206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F694C464332356F663235A3646E616D656C4C4643203235206F6620323565696D6167657835697066733A2F2F516D5A477A5A39793967576D53356D616D33324771694373475066473134436332357745464A477A59506F656A4569617277656176654964782B4C5530746D516758744843737A3778733661477432507A3768477A58774A70314739386B75515A6C72306F724C6F7665466F7243727970746F316F663235A3646E616D65754C6F7665466F7243727970746F2031206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F326F663235A3646E616D65754C6F7665466F7243727970746F2032206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F336F663235A3646E616D65754C6F7665466F7243727970746F2033206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F346F663235A3646E616D65754C6F7665466F7243727970746F2034206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F356F663235A3646E616D65754C6F7665466F7243727970746F2035206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F366F663235A3646E616D65754C6F7665466F7243727970746F2036206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F376F663235A3646E616D65754C6F7665466F7243727970746F2037206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F386F663235A3646E616D65754C6F7665466F7243727970746F2038206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F396F663235A3646E616D65754C6F7665466F7243727970746F2039206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31306F663235A3646E616D65764C6F7665466F7243727970746F203130206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31316F663235A3646E616D65764C6F7665466F7243727970746F203131206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31326F663235A3646E616D65764C6F7665466F7243727970746F203132206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31336F663235A3646E616D65764C6F7665466F7243727970746F203133206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31346F663235A3646E616D65764C6F7665466F7243727970746F203134206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31356F663235A3646E616D65764C6F7665466F7243727970746F203135206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31366F663235A3646E616D65764C6F7665466F7243727970746F203136206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31376F663235A3646E616D65764C6F7665466F7243727970746F203137206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31386F663235A3646E616D65764C6F7665466F7243727970746F203138206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F31396F663235A3646E616D65764C6F7665466F7243727970746F203139206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F32306F663235A3646E616D65764C6F7665466F7243727970746F203230206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F32316F663235A3646E616D65764C6F7665466F7243727970746F203231206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F32326F663235A3646E616D65764C6F7665466F7243727970746F203232206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F32336F663235A3646E616D65764C6F7665466F7243727970746F203233206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734734C6F7665466F7243727970746F32346F663235A3646E616D65764C6F7665466F7243727970746F203234206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A717535363866567734724C6F7665466F7243727970746F316F663235A3646E616D65764C6F7665466F7243727970746F203235206F6620323565696D6167657835697066733A2F2F516D57645A764872584366314A6B525566724E3569414B6A32674534627A58657171666D48436451356F424C376769617277656176654964782B72314E6849674A33623942683259663752747254314233383569744C5A487649357A7175353638665677346A706F6C6963794C696E6B7835697066733A2F2F516D61774A655957577176675439515876754D476858394E76683552745933316E4C674A7646445A57314C74517780")]
    public async Task DeserializeAlonzoWithDuplicateKey(string cbor)
    {
        byte[] cborRaw = Convert.FromHexString(cbor);

        const int concurrencyLevel = 1;   // Number of parallel tasks
        const int iterationsPerTask = 1; // Number of deserializations per task

        IEnumerable<Task> tasks = [.. Enumerable.Range(0, concurrencyLevel).Select(_ => Task.Run(() =>
        {
            for (int i = 0; i < iterationsPerTask; i++)
            {
                Block block = CborSerializer.Deserialize<Block>(cborRaw);
                byte[] serialized = CborSerializer.Serialize(block);
                string serializedHex = Convert.ToHexString(serialized);
                Assert.NotNull(block);
            }
        }))];

        // Await all tasks to complete; if any fail, the test will fail
        await Task.WhenAll(tasks);
    }
}